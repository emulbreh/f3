!function(e){function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="/",__webpack_require__(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var n=r(2),i=_interopRequireDefault(n),o=r(28),a=_interopRequireDefault(o),l=r(29),s=_interopRequireDefault(l),u=r(76),c=_interopRequireDefault(u),f=r(84),d=_interopRequireWildcard(f),p=r(183);r(181),r(144),window.f3=d;var h=new d.ListModel({items:[1.111,2.222]}),g=void 0,v=void 0,m=function(e){function Todo(){return(0,a["default"])(this,Todo),(0,s["default"])(this,(0,i["default"])(Todo).apply(this,arguments))}return(0,c["default"])(Todo,e),Todo}(d.Model);m.properties=[new d.Property("title",{inputFactory:d.TextInput}),new d.Property("description",{inputFactory:p.CodeMirrorEditor}),new d.Property("done",{type:new d.Boolean,label:"DONE"}),new d.Property("priority",{type:new d.Integer,choices:[{label:"low",value:0},{label:"default",value:1},{label:"high",value:3}]})];var y=new m,b=new d.ListModel({}),x=new d.Panel({children:[new d.Display({className:"menu",model:"Demo"}),new d.Display({model:'<i class="fa fa-circle-o-notch fa-spin" />'}),new d.Panel({children:[d.makeModelForm(m,{model:y}),d.makeModelForm(m,{model:y})]}),new d.FormSet({model:b,cls:m}),new d.SelectBox({model:b,renderer:d.format('{title="–"}')}),new d.List({model:b,itemFactory:[d.Display,{renderer:d.format('<b>#{title!03i=0}</b><br/> {title="–"} {done} {description!r}')}]})]}),w=new d.Form({children:[new d.Field({label:"Field A",input:new d.TextInput({name:"a"})}),new d.Field({label:"Field B",input:new d.TextInput({name:"b"})}),new d.Field({label:"Enable C checkbox option",input:new d.Checkbox({name:"c"})}),new d.Field({label:"Choice",input:g=new d.SelectBox({name:"d",model:h})}),v=new d.ComboBox({name:"e",model:h}),new d.Field({label:new d.Label({text:"Input Group",icon:"object-group"}),input:new d.Form({name:"foo",children:[new d.TextInput({name:"nested",placeholder:"Foo"}),new d.TextArea({name:"nested",placeholder:"Foo"})]})})]});x.addComponent(w),x.addComponent(new d.List({itemFactory:[d.Display,{renderer:"%.1f"}],model:h})),h.append(3.333),h.append(4.444),h.append(5.555),h.removeAt(1),h.reverse(),window.list=h;var C=function(e){function Foo(){return(0,a["default"])(this,Foo),(0,s["default"])(this,(0,i["default"])(Foo).apply(this,arguments))}return(0,c["default"])(Foo,e),Foo}(d.Model);C.properties=[new d.Property("foo")];var _=function(e){function Bar(){return(0,a["default"])(this,Bar),(0,s["default"])(this,(0,i["default"])(Bar).apply(this,arguments))}return(0,c["default"])(Bar,e),Bar}(d.Model);_.properties=C.properties.concat([new d.Property("bar")]);var S=new _({});S.foo=42,S.propertyChanged.then(function(e){return console.log("PropertyChanged",e)}),S.foo=55,S.bar=1,x.addComponent(new d.Button({label:"Bar",action:"/bar"})),x.addComponent(new d.Button({label:"Foo",action:"/foo"})),x.addComponent(new d.Button({label:new d.Label({text:"Show Data",icon:"file-code-o"}),action:new d.Action({action:function(){console.log(w.value)}})}));var k=new d.Application,L=void 0;x.addComponents([L=new d.Button({label:d.defaultLabels.ok}),new d.Button({label:d.defaultLabels.cancel}),new d.ToggleButton({label:"Toggle Me"})]);var M=new d.Action({shortcut:"alt+e",action:function(){var e=new d.Dialog({app:k,title:new d.Label({text:"Test Dialog",icon:"gears"})});e.open()}});k.addAction(M),L.clicked.then(M.trigger),k.addPage("/",new d.Page({root:x})),k.addPage("/foo",new d.Page({root:new d.Display({model:"foo page"})})),k.addPage("/bar",new d.Page({root:new d.Display({model:"bar page"})}))},function(e,t,r){e.exports={"default":r(3),__esModule:!0}},function(e,t,r){r(4),e.exports=r(15).Object.getPrototypeOf},function(e,t,r){var n=r(5),i=r(7);r(13)("getPrototypeOf",function(){return function(e){return i(n(e))}})},function(e,t,r){var n=r(6);e.exports=function(e){return Object(n(e))}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(8),i=r(5),o=r(9)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(10)("keys"),i=r(12);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t,r){var n=r(11),i="__core-js_shared__",o=n[i]||(n[i]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(14),i=r(15),o=r(24);e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*o(function(){r(1)}),"Object",a)}},function(e,t,r){var n=r(11),i=r(15),o=r(16),a=r(18),l="prototype",s=function(e,t,r){var u,c,f,d=e&s.F,p=e&s.G,h=e&s.S,g=e&s.P,v=e&s.B,m=e&s.W,y=p?i:i[t]||(i[t]={}),b=y[l],x=p?n:h?n[t]:(n[t]||{})[l];p&&(r=t);for(u in r)c=!d&&x&&void 0!==x[u],c&&u in y||(f=c?x[u]:r[u],y[u]=p&&"function"!=typeof x[u]?r[u]:v&&c?o(f,n):m&&x[u]==f?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t[l]=e[l],t}(f):g&&"function"==typeof f?o(Function.call,f):f,g&&((y.virtual||(y.virtual={}))[u]=f,e&s.R&&b&&!b[u]&&a(b,u,f)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){var r=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},function(e,t,r){var n=r(17);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(19),i=r(27);e.exports=r(23)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(20),i=r(22),o=r(26),a=Object.defineProperty;t.f=r(23)?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return a(e,t,r)}catch(l){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(21);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){e.exports=!r(23)&&!r(24)(function(){return 7!=Object.defineProperty(r(25)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){e.exports=!r(24)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,r){var n=r(21),i=r(11).document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,r){var n=r(21);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(30),i=_interopRequireDefault(n);t["default"]=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,i["default"])(t))&&"function"!=typeof t?e:t}},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(31),i=_interopRequireDefault(n),o=r(60),a=_interopRequireDefault(o),l="function"==typeof a["default"]&&"symbol"==typeof i["default"]?function(e){return typeof e}:function(e){return e&&"function"==typeof a["default"]&&e.constructor===a["default"]?"symbol":typeof e};t["default"]="function"==typeof a["default"]&&"symbol"===l(i["default"])?function(e){return"undefined"==typeof e?"undefined":l(e)}:function(e){return e&&"function"==typeof a["default"]&&e.constructor===a["default"]?"symbol":"undefined"==typeof e?"undefined":l(e)}},function(e,t,r){e.exports={"default":r(32),__esModule:!0}},function(e,t,r){r(33),r(55),e.exports=r(59).f("iterator")},function(e,t,r){"use strict";var n=r(34)(!0);r(36)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){var n=r(35),i=r(6);e.exports=function(e){return function(t,r){var o,a,l=String(i(t)),s=n(r),u=l.length;return 0>s||s>=u?e?"":void 0:(o=l.charCodeAt(s),55296>o||o>56319||s+1===u||(a=l.charCodeAt(s+1))<56320||a>57343?e?l.charAt(s):o:e?l.slice(s,s+2):(o-55296<<10)+(a-56320)+65536)}}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){"use strict";var n=r(37),i=r(14),o=r(38),a=r(18),l=r(8),s=r(39),u=r(40),c=r(53),f=r(7),d=r(54)("iterator"),p=!([].keys&&"next"in[].keys()),h="@@iterator",g="keys",v="values",m=function(){return this};e.exports=function(e,t,r,y,b,x,w){u(r,t,y);var C,_,S,k=function(e){if(!p&&e in I)return I[e];switch(e){case g:return function(){return new r(this,e)};case v:return function(){return new r(this,e)}}return function(){return new r(this,e)}},L=t+" Iterator",M=b==v,O=!1,I=e.prototype,A=I[d]||I[h]||b&&I[b],T=A||k(b),D=b?M?k("entries"):T:void 0,R="Array"==t?I.entries||A:A;if(R&&(S=f(R.call(new e)),S!==Object.prototype&&(c(S,L,!0),n||l(S,d)||a(S,d,m))),M&&A&&A.name!==v&&(O=!0,T=function(){return A.call(this)}),n&&!w||!p&&!O&&I[d]||a(I,d,T),s[t]=T,s[L]=m,b)if(C={values:M?T:k(v),keys:x?T:k(g),entries:D},w)for(_ in C)_ in I||o(I,_,C[_]);else i(i.P+i.F*(p||O),t,C);return C}},function(e,t){e.exports=!0},function(e,t,r){e.exports=r(18)},function(e,t){e.exports={}},function(e,t,r){"use strict";var n=r(41),i=r(27),o=r(53),a={};r(18)(a,r(54)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(a,{next:i(1,r)}),o(e,t+" Iterator")}},function(e,t,r){var n=r(20),i=r(42),o=r(51),a=r(9)("IE_PROTO"),l=function(){},s="prototype",u=function(){var e,t=r(25)("iframe"),n=o.length,i=">";for(t.style.display="none",r(52).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object</script"+i),e.close(),u=e.F;n--;)delete u[s][o[n]];return u()};e.exports=Object.create||function(e,t){var r;return null!==e?(l[s]=n(e),r=new l,l[s]=null,r[a]=e):r=u(),void 0===t?r:i(r,t)}},function(e,t,r){var n=r(19),i=r(20),o=r(43);e.exports=r(23)?Object.defineProperties:function(e,t){i(e);for(var r,a=o(t),l=a.length,s=0;l>s;)n.f(e,r=a[s++],t[r]);return e}},function(e,t,r){var n=r(44),i=r(51);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t,r){var n=r(8),i=r(45),o=r(48)(!1),a=r(9)("IE_PROTO");e.exports=function(e,t){var r,l=i(e),s=0,u=[];for(r in l)r!=a&&n(l,r)&&u.push(r);for(;t.length>s;)n(l,r=t[s++])&&(~o(u,r)||u.push(r));return u}},function(e,t,r){var n=r(46),i=r(6);e.exports=function(e){return n(i(e))}},function(e,t,r){var n=r(47);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(45),i=r(49),o=r(50);e.exports=function(e){return function(t,r,a){var l,s=n(t),u=i(s.length),c=o(a,u);if(e&&r!=r){for(;u>c;)if(l=s[c++],l!=l)return!0}else for(;u>c;c++)if((e||c in s)&&s[c]===r)return e||c||0;return!e&&-1}}},function(e,t,r){var n=r(35),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t,r){var n=r(35),i=Math.max,o=Math.min;e.exports=function(e,t){return e=n(e),0>e?i(e+t,0):o(e,t)}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){e.exports=r(11).document&&document.documentElement},function(e,t,r){var n=r(19).f,i=r(8),o=r(54)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},function(e,t,r){var n=r(10)("wks"),i=r(12),o=r(11).Symbol,a="function"==typeof o,l=e.exports=function(e){return n[e]||(n[e]=a&&o[e]||(a?o:i)("Symbol."+e))};l.store=n},function(e,t,r){r(56);for(var n=r(11),i=r(18),o=r(39),a=r(54)("toStringTag"),l=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],s=0;5>s;s++){var u=l[s],c=n[u],f=c&&c.prototype;f&&!f[a]&&i(f,a,u),o[u]=o.Array}},function(e,t,r){"use strict";var n=r(57),i=r(58),o=r(39),a=r(45);e.exports=r(36)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,r):"values"==t?i(0,e[r]):i(0,[r,e[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){t.f=r(54)},function(e,t,r){e.exports={"default":r(61),__esModule:!0}},function(e,t,r){r(62),r(73),r(74),r(75),e.exports=r(15).Symbol},function(e,t,r){"use strict";var n=r(11),i=r(8),o=r(23),a=r(14),l=r(38),s=r(63).KEY,u=r(24),c=r(10),f=r(53),d=r(12),p=r(54),h=r(59),g=r(64),v=r(65),m=r(66),y=r(69),b=r(20),x=r(45),w=r(26),C=r(27),_=r(41),S=r(70),k=r(72),L=r(19),M=r(43),O=k.f,I=L.f,A=S.f,T=n.Symbol,D=n.JSON,R=D&&D.stringify,P="prototype",F=p("_hidden"),E=p("toPrimitive"),N={}.propertyIsEnumerable,j=c("symbol-registry"),W=c("symbols"),H=c("op-symbols"),B=Object[P],q="function"==typeof T,z=n.QObject,V=!z||!z[P]||!z[P].findChild,G=o&&u(function(){return 7!=_(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=O(B,t);n&&delete B[t],I(e,t,r),n&&e!==B&&I(B,t,n)}:I,K=function(e){var t=W[e]=_(T[P]);return t._k=e,t},U=q&&"symbol"==typeof T.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof T},$=function(e,t,r){return e===B&&$(H,t,r),b(e),t=w(t,!0),b(r),i(W,t)?(r.enumerable?(i(e,F)&&e[F][t]&&(e[F][t]=!1),r=_(r,{enumerable:C(0,!1)})):(i(e,F)||I(e,F,C(1,{})),e[F][t]=!0),G(e,t,r)):I(e,t,r)},X=function(e,t){b(e);for(var r,n=m(t=x(t)),i=0,o=n.length;o>i;)$(e,r=n[i++],t[r]);return e},Y=function(e,t){return void 0===t?_(e):X(_(e),t)},Z=function(e){var t=N.call(this,e=w(e,!0));return this===B&&i(W,e)&&!i(H,e)?!1:t||!i(this,e)||!i(W,e)||i(this,F)&&this[F][e]?t:!0},J=function(e,t){if(e=x(e),t=w(t,!0),e!==B||!i(W,t)||i(H,t)){var r=O(e,t);return!r||!i(W,t)||i(e,F)&&e[F][t]||(r.enumerable=!0),r}},Q=function(e){for(var t,r=A(x(e)),n=[],o=0;r.length>o;)i(W,t=r[o++])||t==F||t==s||n.push(t);return n},ee=function(e){for(var t,r=e===B,n=A(r?H:x(e)),o=[],a=0;n.length>a;)i(W,t=n[a++])&&(r?i(B,t):!0)&&o.push(W[t]);return o};q||(T=function(){if(this instanceof T)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(r){this===B&&t.call(H,r),i(this,F)&&i(this[F],e)&&(this[F][e]=!1),G(this,e,C(1,r))};return o&&V&&G(B,e,{configurable:!0,set:t}),K(e)},l(T[P],"toString",function(){return this._k}),k.f=J,L.f=$,r(71).f=S.f=Q,r(68).f=Z,r(67).f=ee,o&&!r(37)&&l(B,"propertyIsEnumerable",Z,!0),h.f=function(e){return K(p(e))}),a(a.G+a.W+a.F*!q,{Symbol:T});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)p(te[re++]);for(var te=M(p.store),re=0;te.length>re;)g(te[re++]);a(a.S+a.F*!q,"Symbol",{"for":function(e){return i(j,e+="")?j[e]:j[e]=T(e)},keyFor:function(e){if(U(e))return v(j,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!q,"Object",{create:Y,defineProperty:$,defineProperties:X,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:ee}),D&&a(a.S+a.F*(!q||u(function(){var e=T();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!U(e)){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);return t=n[1],"function"==typeof t&&(r=t),!r&&y(t)||(t=function(e,t){return r&&(t=r.call(this,e,t)),U(t)?void 0:t}),n[1]=t,R.apply(D,n)}}}),T[P][E]||r(18)(T[P],E,T[P].valueOf),f(T,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},function(e,t,r){var n=r(12)("meta"),i=r(21),o=r(8),a=r(19).f,l=0,s=Object.isExtensible||function(){return!0},u=!r(24)(function(){return s(Object.preventExtensions({}))}),c=function(e){a(e,n,{value:{i:"O"+ ++l,w:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!s(e))return"F";if(!t)return"E";c(e)}return e[n].i},d=function(e,t){if(!o(e,n)){if(!s(e))return!0;if(!t)return!1;c(e)}return e[n].w},p=function(e){return u&&h.NEED&&s(e)&&!o(e,n)&&c(e),e},h=e.exports={KEY:n,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},function(e,t,r){var n=r(11),i=r(15),o=r(37),a=r(59),l=r(19).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||l(t,e,{value:a.f(e)})}},function(e,t,r){var n=r(43),i=r(45);e.exports=function(e,t){for(var r,o=i(e),a=n(o),l=a.length,s=0;l>s;)if(o[r=a[s++]]===t)return r}},function(e,t,r){var n=r(43),i=r(67),o=r(68);e.exports=function(e){var t=n(e),r=i.f;if(r)for(var a,l=r(e),s=o.f,u=0;l.length>u;)s.call(e,a=l[u++])&&t.push(a);return t}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var n=r(47);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(45),i=r(71).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(e){try{return i(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?l(e):i(n(e))}},function(e,t,r){var n=r(44),i=r(51).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t,r){var n=r(68),i=r(27),o=r(45),a=r(26),l=r(8),s=r(22),u=Object.getOwnPropertyDescriptor;t.f=r(23)?u:function(e,t){if(e=o(e),t=a(t,!0),s)try{return u(e,t)}catch(r){}return l(e,t)?i(!n.f.call(e,t),e[t]):void 0}},function(e,t){},function(e,t,r){r(64)("asyncIterator")},function(e,t,r){r(64)("observable")},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(77),i=_interopRequireDefault(n),o=r(81),a=_interopRequireDefault(o),l=r(30),s=_interopRequireDefault(l);t["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,s["default"])(t)));e.prototype=(0,a["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i["default"]?(0,i["default"])(e,t):e.__proto__=t)}},function(e,t,r){e.exports={"default":r(78),__esModule:!0}},function(e,t,r){r(79),e.exports=r(15).Object.setPrototypeOf},function(e,t,r){var n=r(14);n(n.S,"Object",{setPrototypeOf:r(80).set})},function(e,t,r){var n=r(21),i=r(20),o=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=r(16)(Function.call,r(72).f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(i){t=!0}return function(e,r){return o(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:o}},function(e,t,r){e.exports={"default":r(82),__esModule:!0}},function(e,t,r){r(83);var n=r(15).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,r){var n=r(14);n(n.S,"Object",{create:r(41)})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__repr__=t.repr=t.format=t.FormSet=t.Integer=t.Float=t.Number=t.String=t.Boolean=t.Type=t.__value__=t.valueof=t.__id__=t.idof=t.makeModelForm=t.ListModel=t.Property=t.Model=t.List=t.defaultLabels=t.Label=t.TextArea=t.Field=t.ComboBox=t.SelectBox=t.Input=t.Form=t.RawInput=t.Checkbox=t.TextInput=t.F3Error=t.ComponentStructureError=t.Dialog=t.config=t.Display=t.Panel=t.Root=t.Container=t.Component=t.ComponentFactory=t.ToggleButton=t.Button=t.Page=t.Router=t.Application=t.toString=t.__adapt__=t.adapt=t.Action=void 0;var n=r(85);Object.defineProperty(t,"Action",{enumerable:!0,get:function(){return n.Action}});var i=r(97);Object.defineProperty(t,"adapt",{enumerable:!0,get:function(){return i.adapt}}),Object.defineProperty(t,"__adapt__",{enumerable:!0,get:function(){return i.__adapt__}}),Object.defineProperty(t,"toString",{enumerable:!0,get:function(){return i.toString}});var o=r(116);Object.defineProperty(t,"Application",{enumerable:!0,get:function(){return o.Application}}),Object.defineProperty(t,"Router",{enumerable:!0,get:function(){return o.Router}}),Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return o.Page}});var a=r(145);Object.defineProperty(t,"Button",{enumerable:!0,get:function(){return a.Button}}),Object.defineProperty(t,"ToggleButton",{enumerable:!0,get:function(){return a.ToggleButton}});var l=r(147);Object.defineProperty(t,"ComponentFactory",{enumerable:!0,get:function(){return l.ComponentFactory}});var s=r(126);Object.defineProperty(t,"Component",{enumerable:!0,get:function(){return s.Component}}),Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return s.Container}}),Object.defineProperty(t,"Root",{enumerable:!0,get:function(){return s.Root}}),Object.defineProperty(t,"Panel",{enumerable:!0,get:function(){return s.Panel}}),Object.defineProperty(t,"Display",{enumerable:!0,get:function(){return s.Display}});var u=r(148);Object.defineProperty(t,"config",{enumerable:!0,get:function(){return u.config}});var c=r(149);Object.defineProperty(t,"Dialog",{enumerable:!0,get:function(){return c.Dialog}});var f=r(115);Object.defineProperty(t,"ComponentStructureError",{enumerable:!0,get:function(){return f.ComponentStructureError}}),Object.defineProperty(t,"F3Error",{enumerable:!0,get:function(){return f.F3Error}});var d=r(150);Object.defineProperty(t,"TextInput",{enumerable:!0,get:function(){return d.TextInput}}),Object.defineProperty(t,"Checkbox",{enumerable:!0,get:function(){return d.Checkbox}}),Object.defineProperty(t,"RawInput",{enumerable:!0,get:function(){return d.RawInput}}),Object.defineProperty(t,"Form",{enumerable:!0,get:function(){return d.Form}}),Object.defineProperty(t,"Input",{enumerable:!0,get:function(){return d.Input}}),Object.defineProperty(t,"SelectBox",{enumerable:!0,get:function(){return d.SelectBox}}),Object.defineProperty(t,"ComboBox",{enumerable:!0,get:function(){return d.ComboBox}}),Object.defineProperty(t,"Field",{enumerable:!0,get:function(){return d.Field}}),Object.defineProperty(t,"TextArea",{enumerable:!0,get:function(){return d.TextArea}});var p=r(146);Object.defineProperty(t,"Label",{enumerable:!0,get:function(){return p.Label}}),Object.defineProperty(t,"defaultLabels",{enumerable:!0,get:function(){return p.defaultLabels}});var h=r(160);Object.defineProperty(t,"List",{enumerable:!0,get:function(){return h.List}});var g=r(161);Object.defineProperty(t,"Model",{enumerable:!0,get:function(){return g.Model}}),Object.defineProperty(t,"Property",{enumerable:!0,get:function(){return g.Property}}),Object.defineProperty(t,"ListModel",{enumerable:!0,get:function(){return g.ListModel}});var v=r(164);Object.defineProperty(t,"makeModelForm",{enumerable:!0,get:function(){return v.makeModelForm}});var m=r(163);Object.defineProperty(t,"idof",{enumerable:!0,get:function(){return m.idof}}),Object.defineProperty(t,"__id__",{enumerable:!0,get:function(){return m.__id__}}),Object.defineProperty(t,"valueof",{enumerable:!0,get:function(){return m.valueof}}),Object.defineProperty(t,"__value__",{enumerable:!0,get:function(){return m.__value__}});var y=r(165);Object.defineProperty(t,"Type",{enumerable:!0,get:function(){return y.Type}}),Object.defineProperty(t,"Boolean",{enumerable:!0,get:function(){return y.Boolean}}),Object.defineProperty(t,"String",{enumerable:!0,get:function(){return y.String}}),Object.defineProperty(t,"Number",{enumerable:!0,get:function(){return y.Number}}),Object.defineProperty(t,"Float",{enumerable:!0,get:function(){return y.Float}}),Object.defineProperty(t,"Integer",{enumerable:!0,get:function(){return y.Integer}});var b=r(166);Object.defineProperty(t,"FormSet",{enumerable:!0,get:function(){return b.FormSet}});var x=r(167);Object.defineProperty(t,"format",{enumerable:!0,get:function(){return x.format}});var w=r(139);Object.defineProperty(t,"repr",{enumerable:!0,get:function(){return w.repr}}),Object.defineProperty(t,"__repr__",{enumerable:!0,get:function(){return w.__repr__}}),r(144),r(170),r(171)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0;var n=r(28),i=_interopRequireDefault(n),o=r(86),a=_interopRequireDefault(o),l=r(90),s=r(97);t.Action=function(){function Action(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.name,r=e.action,n=e.shortcut,o=void 0===n?null:n;(0,i["default"])(this,Action),this.name=t,this.action=r,this.shortcut=o,this.performed=new l.Signal,this.trigger=this.perform.bind(this)}return(0,a["default"])(Action,[{key:"perform",value:function(e){this.action(e),this.performed.emit({target:e,action:this})}}],[{key:s.__adapt__,value:function(e,t){return e?e instanceof Function?new Action({action:e}):"string"==typeof e?new Action({action:function(){t.app.router.call(e)}}):void 0:new Action({action:function(){}})}}]),Action}()},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(87),i=_interopRequireDefault(n);t["default"]=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i["default"])(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}()},function(e,t,r){e.exports={"default":r(88),__esModule:!0}},function(e,t,r){r(89);var n=r(15).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},function(e,t,r){var n=r(14);n(n.S+n.F*!r(23),"Object",{defineProperty:r(19).f})},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HtmlSignal=t.Signal=t.MockSignal=void 0;var n=r(2),i=_interopRequireDefault(n),o=r(91),a=_interopRequireDefault(o),l=r(29),s=_interopRequireDefault(l),u=r(76),c=_interopRequireDefault(u),f=r(92),d=_interopRequireDefault(f),p=r(28),h=_interopRequireDefault(p),g=r(86),v=_interopRequireDefault(g),m=(t.MockSignal=function(){function MockSignal(){(0,h["default"])(this,MockSignal)}return(0,v["default"])(MockSignal,[{key:"then",value:function(){}},{key:"remove",value:function(){}},{key:"once",value:function(){}}]),MockSignal}(),t.Signal=function(){function Signal(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.name,r=e.setup,n=e.teardown;(0,h["default"])(this,Signal),this.name=t,this.listeners=[],this.setup=r,this.teardown=n}return(0,v["default"])(Signal,[{key:"then",value:function(e){if(!e)throw new Error("Signal callback must be callable");this.listeners.push(e),1===this.listeners.length&&this.setup&&this.setup.call(this)}},{key:"remove",value:function(e){var t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1),0===this.listeners.length&&this.teardown&&this.teardown.call(this)}},{key:"once",value:function(e){var t=this;this.then(e),this.then(function(){t.remove(e)})}},{key:"emit",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=!0,r=!1,n=void 0;try{for(var i,o=(0,d["default"])(this.listeners);!(t=(i=o.next()).done);t=!0){var a=i.value;a(e)}}catch(l){r=!0,n=l}finally{try{!t&&o["return"]&&o["return"]()}finally{if(r)throw n}}}}]),Signal}());t.HtmlSignal=function(e){function HtmlSignal(e){var t=e.component,r=e.type,n=e.element,o=e.options,l=void 0===o?{capture:!1}:o,u=(0,a["default"])(e,["component","type","element","options"]);(0,h["default"])(this,HtmlSignal);var c=(0,s["default"])(this,(0,i["default"])(HtmlSignal).call(this,u));n=n||t.element;var f=function(e){c.emit({event:e,component:t})};return c.setup=function(){n.addEventListener(r,f,l)},c.teardown=function(){n.removeEventListener(r,f,l)},c}return(0,c["default"])(HtmlSignal,e),HtmlSignal}(m)},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}},function(e,t,r){e.exports={"default":r(93),__esModule:!0}},function(e,t,r){r(55),r(33),e.exports=r(94)},function(e,t,r){var n=r(20),i=r(95);e.exports=r(15).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,r){var n=r(96),i=r(54)("iterator"),o=r(39);e.exports=r(15).getIteratorMethod=function(e){return void 0!=e?e[i]||e["@@iterator"]||o[n(e)]:void 0}},function(e,t,r){var n=r(47),i=r(54)("toStringTag"),o="Arguments"==n(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(r){}};e.exports=function(e){var t,r,l;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=a(t=Object(e),i))?r:o?n(t):"Object"==(l=n(t))&&"function"==typeof t.callee?"Arguments":l}},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function adapt(e,t){if(t instanceof e)return t;for(var r=m[e]||e[v],n=arguments.length,i=Array(n>2?n-2:0),o=2;n>o;o++)i[o-2]=arguments[o];var a=r.call.apply(r,[e,t].concat(i));if(void 0===a)throw new y("Cannot adapt "+t+" to "+e);return a}function toString(e){return""+e}Object.defineProperty(t,"__esModule",{value:!0}),t.AdapterError=t.__adapt__=void 0;var n=r(2),i=_interopRequireDefault(n),o=r(28),a=_interopRequireDefault(o),l=r(29),s=_interopRequireDefault(l),u=r(76),c=_interopRequireDefault(u),f=r(98),d=_interopRequireDefault(f),p=r(60),h=_interopRequireDefault(p);t.adapt=adapt,t.toString=toString;var g=r(115),v=t.__adapt__=(0,h["default"])("f3.adapt"),m=new d["default"],y=t.AdapterError=function(e){function AdapterError(){return(0,a["default"])(this,AdapterError),(0,s["default"])(this,(0,i["default"])(AdapterError).apply(this,arguments))}return(0,c["default"])(AdapterError,e),AdapterError}(g.F3Error);m[String]=toString},function(e,t,r){e.exports={"default":r(99),__esModule:!0}},function(e,t,r){r(73),r(33),r(55),r(100),r(112),e.exports=r(15).Map},function(e,t,r){"use strict";var n=r(101);e.exports=r(108)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(this,e);return t&&t.v},set:function(e,t){return n.def(this,0===e?0:e,t)}},n,!0);
},function(e,t,r){"use strict";var n=r(19).f,i=r(41),o=(r(18),r(102)),a=r(16),l=r(103),s=r(6),u=r(104),c=r(36),f=r(58),d=r(107),p=r(23),h=r(63).fastKey,g=p?"_s":"size",v=function(e,t){var r,n=h(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,c){var f=e(function(e,n){l(e,f,t,"_i"),e._i=i(null),e._f=void 0,e._l=void 0,e[g]=0,void 0!=n&&u(n,r,e[c],e)});return o(f.prototype,{clear:function(){for(var e=this,t=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e._f=e._l=void 0,e[g]=0},"delete":function(e){var t=this,r=v(t,e);if(r){var n=r.n,i=r.p;delete t._i[r.i],r.r=!0,i&&(i.n=n),n&&(n.p=i),t._f==r&&(t._f=n),t._l==r&&(t._l=i),t[g]--}return!!r},forEach:function(e){l(this,f,"forEach");for(var t,r=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(r(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!v(this,e)}}),p&&n(f.prototype,"size",{get:function(){return s(this[g])}}),f},def:function(e,t,r){var n,i,o=v(e,t);return o?o.v=r:(e._l=o={i:i=h(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=o),n&&(n.n=o),e[g]++,"F"!==i&&(e._i[i]=o)),e},getEntry:v,setStrong:function(e,t,r){c(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?"keys"==t?f(0,r.k):"values"==t?f(0,r.v):f(0,[r.k,r.v]):(e._t=void 0,f(1))},r?"entries":"values",!r,!0),d(t)}}},function(e,t,r){var n=r(18);e.exports=function(e,t,r){for(var i in t)r&&e[i]?e[i]=t[i]:n(e,i,t[i]);return e}},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(16),i=r(105),o=r(106),a=r(20),l=r(49),s=r(95),u={},c={},t=e.exports=function(e,t,r,f,d){var p,h,g,v,m=d?function(){return e}:s(e),y=n(r,f,t?2:1),b=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(o(m)){for(p=l(e.length);p>b;b++)if(v=t?y(a(h=e[b])[0],h[1]):y(e[b]),v===u||v===c)return v}else for(g=m.call(e);!(h=g.next()).done;)if(v=i(g,y,h.value,t),v===u||v===c)return v};t.BREAK=u,t.RETURN=c},function(e,t,r){var n=r(20);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(o){var a=e["return"];throw void 0!==a&&n(a.call(e)),o}}},function(e,t,r){var n=r(39),i=r(54)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)}},function(e,t,r){"use strict";var n=r(11),i=r(15),o=r(19),a=r(23),l=r(54)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:n[e];a&&t&&!t[l]&&o.f(t,l,{configurable:!0,get:function(){return this}})}},function(e,t,r){"use strict";var n=r(11),i=r(14),o=r(63),a=r(24),l=r(18),s=r(102),u=r(104),c=r(103),f=r(21),d=r(53),p=r(19).f,h=r(109)(0),g=r(23);e.exports=function(e,t,r,v,m,y){var b=n[e],x=b,w=m?"set":"add",C=x&&x.prototype,_={};return g&&"function"==typeof x&&(y||C.forEach&&!a(function(){(new x).entries().next()}))?(x=t(function(t,r){c(t,x,e,"_c"),t._c=new b,void 0!=r&&u(r,m,t[w],t)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in C&&(!y||"clear"!=e)&&l(x.prototype,e,function(r,n){if(c(this,x,e),!t&&y&&!f(r))return"get"==e?void 0:!1;var i=this._c[e](0===r?0:r,n);return t?this:i})}),"size"in C&&p(x.prototype,"size",{get:function(){return this._c.size}})):(x=v.getConstructor(t,e,m,w),s(x.prototype,r),o.NEED=!0),d(x,e),_[e]=x,i(i.G+i.W+i.F,_),y||v.setStrong(x,e,m),x}},function(e,t,r){var n=r(16),i=r(46),o=r(5),a=r(49),l=r(110);e.exports=function(e,t){var r=1==e,s=2==e,u=3==e,c=4==e,f=6==e,d=5==e||f,p=t||l;return function(t,l,h){for(var g,v,m=o(t),y=i(m),b=n(l,h,3),x=a(y.length),w=0,C=r?p(t,x):s?p(t,0):void 0;x>w;w++)if((d||w in y)&&(g=y[w],v=b(g,w,m),e))if(r)C[w]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return w;case 2:C.push(g)}else if(c)return!1;return f?-1:u||c?c:C}}},function(e,t,r){var n=r(111);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){var n=r(21),i=r(69),o=r(54)("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}},function(e,t,r){var n=r(14);n(n.P+n.R,"Map",{toJSON:r(113)("Map")})},function(e,t,r){var n=r(96),i=r(114);e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,r){var n=r(104);e.exports=function(e,t){var r=[];return n(e,!1,r.push,r,t),r}},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function F3Error(e){this.name=this.constructor.name,this.message=e,Error.call(this)}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentStructureError=void 0;var n=r(2),i=_interopRequireDefault(n),o=r(28),a=_interopRequireDefault(o),l=r(29),s=_interopRequireDefault(l),u=r(76),c=_interopRequireDefault(u);t.F3Error=F3Error,F3Error.prototype.__proto__=Error.prototype;t.ComponentStructureError=function(e){function ComponentStructureError(){return(0,a["default"])(this,ComponentStructureError),(0,s["default"])(this,(0,i["default"])(ComponentStructureError).apply(this,arguments))}return(0,c["default"])(ComponentStructureError,e),ComponentStructureError}(F3Error)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Application=t.Router=t.NotFoundError=t.Page=void 0;var n=r(30),i=_interopRequireDefault(n),o=r(92),a=_interopRequireDefault(o),l=r(117),s=_interopRequireDefault(l),u=r(122),c=_interopRequireDefault(u),f=r(2),d=_interopRequireDefault(f),p=r(29),h=_interopRequireDefault(p),g=r(76),v=_interopRequireDefault(g),m=r(91),y=_interopRequireDefault(m),b=r(28),x=_interopRequireDefault(b),w=r(86),C=_interopRequireDefault(w),_=r(126),S=r(115);r(144);var k=(t.Page=function(){function Page(e){var t=e.root;(0,y["default"])(e,["root"]);(0,x["default"])(this,Page),this.root=t}return(0,C["default"])(Page,[{key:"open",value:function(e,t){e.content=this.root}}]),Page}(),t.NotFoundError=function(e){function NotFoundError(){return(0,x["default"])(this,NotFoundError),(0,h["default"])(this,(0,d["default"])(NotFoundError).apply(this,arguments))}return(0,v["default"])(NotFoundError,e),NotFoundError}(S.F3Error)),L=t.Router=function(){function Router(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.routes,r=void 0===t?[]:t;(0,x["default"])(this,Router),this.routes=r}return(0,C["default"])(Router,[{key:"compilePattern",value:function(e){var t=this,r=[],n=e.replace(/\{\w+(?::\w+)?\}/,function(e){var n=e.substring(1,e.length-1).split(":"),i=(0,c["default"])(n,2),o=i[0],a=i[1];a=a||t.constructor.defaultGroupType;var l={name:o,type:a,regex:Router.groupTypes[a]||a};return r.push(l),l.regex});return{regex:new RegExp("^"+n+"$"),params:r}}},{key:"addRoute",value:function(e,t){this.routes.push((0,s["default"])({pattern:e,action:t},this.compilePattern(e)))}},{key:"match",value:function(e){var t=!0,r=!1,n=void 0;try{for(var o,l=function(){var t=o.value,r=t.regex.exec(e);if(r){var n=function(){var e={};return t.params.forEach(function(t,n){e[t.name]=r[n+1]}),{v:{v:[t,e]}}}();if("object"===("undefined"==typeof n?"undefined":(0,i["default"])(n)))return n.v}},s=(0,a["default"])(this.routes);!(t=(o=s.next()).done);t=!0){var u=l();if("object"===("undefined"==typeof u?"undefined":(0,i["default"])(u)))return u.v}}catch(c){r=!0,n=c}finally{try{!t&&s["return"]&&s["return"]()}finally{if(r)throw n}}throw new k}},{key:"call",value:function(e){var t=this.match(e),r=(0,c["default"])(t,2),n=r[0],i=r[1];n.action(e,i)}}]),Router}();L.groupTypes={"int":"(d+)",uuid:"([a-fA-F0-9-]+)",any:"([^/]+)",path:"(.*)"},L.defaultGroupType="any";t.Application=function(){function Application(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=t.frame,n=t.router;(0,x["default"])(this,Application),this.root=new((0,_.Root)((0,_.Container)()))({app:this,element:document.body}),this.router=n||new L,this.frame=this.root.addComponent(r||new _.Frame),this.actions=[],window.addEventListener("popstate",function(t){console.log(t,window.location.pathname);try{e.router.call(window.location.pathname)}catch(t){throw t instanceof k&&console.log(t),t}t.preventDefault()}),window.addEventListener("click",function(t){"A"===t.target.tagName&&(t.preventDefault(),e.router.call(t.target.pathname))}),window.addEventListener("load",function(t){e.router.call(window.location.pathname)})}return(0,C["default"])(Application,[{key:"addPage",value:function(e,t){var r=this;this.router.addRoute(e,function(e,n){t.open(r.frame,n),window.history.pushState(n,null,e)})}},{key:"addAction",value:function(e){this.actions.push(e),e.shortcut&&Mousetrap.bind(e.shortcut,e.perform.bind(e))}}]),Application}()},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(118),i=_interopRequireDefault(n);t["default"]=i["default"]||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}},function(e,t,r){e.exports={"default":r(119),__esModule:!0}},function(e,t,r){r(120),e.exports=r(15).Object.assign},function(e,t,r){var n=r(14);n(n.S+n.F,"Object",{assign:r(121)})},function(e,t,r){"use strict";var n=r(43),i=r(67),o=r(68),a=r(5),l=r(46),s=Object.assign;e.exports=!s||r(24)(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=s({},e)[r]||Object.keys(s({},t)).join("")!=n})?function(e,t){for(var r=a(e),s=arguments.length,u=1,c=i.f,f=o.f;s>u;)for(var d,p=l(arguments[u++]),h=c?n(p).concat(c(p)):n(p),g=h.length,v=0;g>v;)f.call(p,d=h[v++])&&(r[d]=p[d]);return r}:s},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(123),i=_interopRequireDefault(n),o=r(92),a=_interopRequireDefault(o);t["default"]=function(){function sliceIterator(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var l,s=(0,a["default"])(e);!(n=(l=s.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(u){i=!0,o=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(i)throw o}}return r}return function(e,t){if(Array.isArray(e))return e;if((0,i["default"])(Object(e)))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,r){e.exports={"default":r(124),__esModule:!0}},function(e,t,r){r(55),r(33),e.exports=r(125)},function(e,t,r){var n=r(96),i=r(54)("iterator"),o=r(39);e.exports=r(15).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(n(t))}},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function defineMixin(e){var t=new c["default"];return function(r){return t[r]||(t[r]=e(r)),t[r]}}Object.defineProperty(t,"__esModule",{value:!0}),t.Frame=t.Root=t.Display=t.Panel=t.Container=t.Component=void 0;var n=r(2),i=_interopRequireDefault(n),o=r(29),a=_interopRequireDefault(o),l=r(76),s=_interopRequireDefault(l),u=r(98),c=_interopRequireDefault(u),f=r(127),d=_interopRequireDefault(f),p=r(135),h=_interopRequireDefault(p),g=r(92),v=_interopRequireDefault(g),m=r(91),y=_interopRequireDefault(m),b=r(28),x=_interopRequireDefault(b),w=r(86),C=_interopRequireDefault(w),_=r(115),S=(r(139),r(97)),k=r(90),L=r(142),M=(r(85),t.Component=function(){function Component(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.tagName,r=void 0===t?"div":t,n=e.cssText,i=void 0===n?null:n,o=e.className,a=void 0===o?null:o,l=e.element,s=void 0===l?null:l,u=e.focusable,c=void 0===u?!1:u,f=e.keymap,d=void 0===f?null:f;(0,y["default"])(e,["tagName","cssText","className","element","focusable","keymap"]);(0,x["default"])(this,Component);var p=this.element=s||document.createElement(r),h=this.constructor;do p.classList.add(h.name),h=h.__proto__;while(h.prototype instanceof Component);a&&p.classList.add(a),i&&(p.style.cssText=i),this.focusable=c,this._focusElement=null,this.focusElement=p,this.clicked=new k.HtmlSignal({type:"click",component:this}),this.parent=null,d&&this.installKeymap(d)}return(0,C["default"])(Component,[{key:"installKeymap",value:function(e){Mousetrap(this.focusElement).bind(e)}},{key:"addClass",value:function(e){this.element.classList.add(e)}},{key:"removeClass",value:function(e){this.element.classList.remove(e)}},{key:"toString",value:function(){return"<"+this.constructor.name+" />"}},{key:"getChildren",value:function(){return[]}},{key:"getComponents",value:h["default"].mark(function getComponents(){var e,t,r,n,i,o;return h["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this;case 2:e=!0,t=!1,r=void 0,a.prev=5,n=(0,v["default"])(this.getChildren());case 7:if(e=(i=n.next()).done){a.next=13;break}return o=i.value,a.delegateYield(o.getComponents(),"t0",10);case 10:e=!0,a.next=7;break;case 13:a.next=19;break;case 15:a.prev=15,a.t1=a["catch"](5),t=!0,r=a.t1;case 19:a.prev=19,a.prev=20,!e&&n["return"]&&n["return"]();case 22:if(a.prev=22,!t){a.next=25;break}throw r;case 25:return a.finish(22);case 26:return a.finish(19);case 27:case"end":return a.stop()}},getComponents,this,[[5,15,19,27],[20,,22,26]])})},{key:"findClosestDecendants",value:h["default"].mark(function findClosestDecendants(e){var t,r,n,i,o,a;return h["default"].wrap(function(l){for(;;)switch(l.prev=l.next){case 0:t=!0,r=!1,n=void 0,l.prev=3,i=(0,v["default"])(this.getChildren());case 5:if(t=(o=i.next()).done){l.next=16;break}if(a=o.value,!e(a)){l.next=12;break}return l.next=10,a;case 10:l.next=13;break;case 12:return l.delegateYield(a.findClosestDecendants(e),"t0",13);case 13:t=!0,l.next=5;break;case 16:l.next=22;break;case 18:l.prev=18,l.t1=l["catch"](3),r=!0,n=l.t1;case 22:l.prev=22,l.prev=23,!t&&i["return"]&&i["return"]();case 25:if(l.prev=25,!r){l.next=28;break}throw n;case 28:return l.finish(25);case 29:return l.finish(22);case 30:case"end":return l.stop()}},findClosestDecendants,this,[[3,18,22,30],[23,,25,29]])})},{key:"show",value:function(){return this.removeClass("hidden"),d["default"].resolve()}},{key:"hide",value:function(){return this.addClass("hidden"),d["default"].resolve()}},{key:"focus",value:function(){this.focusElement.focus()}},{key:"blur",value:function(){this.focusElement.blur()}},{key:"click",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];e=e||this.element,e.dispatchEvent(new MouseEvent("click",{target:e}))}},{key:"focusElement",set:function(e){this._focusElement=e,["INPUT","TEXTAREA"].includes(e.tagName)?e.tabIndex=this.focusable?0:-1:this.focusable&&(e.tabIndex=0)},get:function(){return this._focusElement}},{key:"root",get:function(){if(!this.parent)throw new _.ComponentStructureError(this+" doesn't have a root.");return this.parent.root}},{key:"app",get:function(){return this.root.app}}]),Component}()),O=t.Container=defineMixin(function(){var e=arguments.length<=0||void 0===arguments[0]?M:arguments[0];return function(e){function Container(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.children,r=void 0===t?[]:t,n=(0,y["default"])(e,["children"]);(0,x["default"])(this,Container);var o=(0,a["default"])(this,(0,i["default"])(Container).call(this,n));return o.children=[],o.addComponents(r),o}return(0,s["default"])(Container,e),(0,C["default"])(Container,[{key:"getChildren",value:function(){return this.children}},{key:"addComponent",value:function(e,t){return void 0===t||t===this.children.length?(t=this.children.length,this.element.appendChild(e.element),this.children.push(e)):(this.element.insertBefore(this.components[t].element,e.element),this.children.splice(t,0,e)),e.parent=this,e}},{key:"addComponents",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,o=(0,v["default"])(e);!(t=(i=o.next()).done);t=!0){var a=i.value;this.addComponent(a)}}catch(l){r=!0,n=l}finally{try{!t&&o["return"]&&o["return"]()}finally{if(r)throw n}}}},{key:"removeComponent",value:function(e){var t=this.children.indexOf(e);if(0>t)throw new _.ComponentStructureError(e+" is not a child of "+this);e.parent=null,this.children.splice(t,1),this.element.removeChild(e.element)}}]),Container}(e)});t.Panel=function(e){function Panel(){return(0,x["default"])(this,Panel),(0,a["default"])(this,(0,i["default"])(Panel).apply(this,arguments))}return(0,s["default"])(Panel,e),Panel}(O()),t.Display=function(e){function Display(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.model,r=e.renderer,n=void 0===r?S.toString:r,o=(0,y["default"])(e,["model","renderer"]);(0,x["default"])(this,Display);var l=(0,a["default"])(this,(0,i["default"])(Display).call(this,o));return l.renderer=(0,S.adapt)(L.Renderer,n),l._boundUpdate=l.update.bind(l),l.model=t,l}return(0,s["default"])(Display,e),(0,C["default"])(Display,[{key:"update",value:function(){this._model instanceof HTMLElement?(this.element.innerHTML="",this.element.appendChild(this._model)):this.element.innerHTML=this.renderer.render(this._model)}},{key:"model",set:function(e){this._model&&this._model.propertyChanged&&this._model.propertyChanged.remove(this._boundUpdate),this._model=e,e&&e.propertyChanged&&e.propertyChanged.then(this._boundUpdate),this.update()},get:function(){return this._model}}]),Display}(M),t.Root=defineMixin(function(){var e=arguments.length<=0||void 0===arguments[0]?M:arguments[0];return function(e){function Root(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.app,r=(0,y["default"])(e,["app"]);(0,x["default"])(this,Root);var n=(0,a["default"])(this,(0,i["default"])(Root).call(this,r));return n._app=t,n}return(0,s["default"])(Root,e),(0,C["default"])(Root,[{key:"app",get:function(){return this._app}},{key:"root",get:function(){return this}}]),Root}(e)}),t.Frame=function(e){function Frame(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=(0,y["default"])(e,[]);(0,x["default"])(this,Frame);var r=(0,a["default"])(this,(0,i["default"])(Frame).call(this,t));return r._content=null,r}return(0,s["default"])(Frame,e),(0,C["default"])(Frame,[{key:"content",set:function(e){this._content!==e&&(this._content&&this.removeComponent(this._content),this.addComponent(e),this._content=e)},get:function(){return this._component}}]),Frame}(O())},function(e,t,r){e.exports={"default":r(128),__esModule:!0}},function(e,t,r){r(73),r(33),r(55),r(129),e.exports=r(15).Promise},function(e,t,r){"use strict";var n,i,o,a=r(37),l=r(11),s=r(16),u=r(96),c=r(14),f=r(21),d=(r(20),r(17)),p=r(103),h=r(104),g=(r(80).set,r(130)),v=r(131).set,m=r(133)(),y="Promise",b=l.TypeError,x=l.process,w=l[y],x=l.process,C="process"==u(x),_=function(){},S=!!function(){try{var e=w.resolve(1),t=(e.constructor={})[r(54)("species")]=function(e){e(_,_)};return(C||"function"==typeof PromiseRejectionEvent)&&e.then(_)instanceof t}catch(n){}}(),k=function(e,t){return e===t||e===w&&t===o},L=function(e){var t;return f(e)&&"function"==typeof(t=e.then)?t:!1},M=function(e){return k(w,e)?new O(e):new i(e)},O=i=function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw b("Bad Promise constructor");t=e,r=n}),this.resolve=d(t),this.reject=d(r)},I=function(e){try{e()}catch(t){return{error:t}}},A=function(e,t){if(!e._n){e._n=!0;var r=e._c;m(function(){for(var n=e._v,i=1==e._s,o=0,a=function(t){var r,o,a=i?t.ok:t.fail,l=t.resolve,s=t.reject,u=t.domain;try{a?(i||(2==e._h&&R(e),e._h=1),a===!0?r=n:(u&&u.enter(),r=a(n),u&&u.exit()),r===t.promise?s(b("Promise-chain cycle")):(o=L(r))?o.call(r,l,s):l(r)):s(n)}catch(c){s(c)}};r.length>o;)a(r[o++]);e._c=[],e._n=!1,t&&!e._h&&T(e)})}},T=function(e){v.call(l,function(){var t,r,n,i=e._v;if(D(e)&&(t=I(function(){C?x.emit("unhandledRejection",i,e):(r=l.onunhandledrejection)?r({promise:e,reason:i}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",i)}),e._h=C||D(e)?2:1),e._a=void 0,t)throw t.error})},D=function(e){if(1==e._h)return!1;for(var t,r=e._a||e._c,n=0;r.length>n;)if(t=r[n++],t.fail||!D(t.promise))return!1;return!0},R=function(e){v.call(l,function(){var t;C?x.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},P=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),A(t,!0))},F=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw b("Promise can't be resolved itself");(t=L(e))?m(function(){var n={_w:r,_d:!1};try{t.call(e,s(F,n,1),s(P,n,1))}catch(i){P.call(n,i)}}):(r._v=e,r._s=1,A(r,!1))}catch(n){P.call({_w:r,_d:!1},n)}}};S||(w=function(e){p(this,w,y,"_h"),d(e),n.call(this);try{e(s(F,this,1),s(P,this,1))}catch(t){P.call(this,t)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=r(102)(w.prototype,{then:function(e,t){var r=M(g(this,w));return r.ok="function"==typeof e?e:!0,r.fail="function"==typeof t&&t,r.domain=C?x.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&A(this,!1),r.promise},"catch":function(e){return this.then(void 0,e)}}),O=function(){var e=new n;this.promise=e,this.resolve=s(F,e,1),this.reject=s(P,e,1)}),c(c.G+c.W+c.F*!S,{Promise:w}),r(53)(w,y),r(107)(y),o=r(15)[y],c(c.S+c.F*!S,y,{reject:function(e){var t=M(this),r=t.reject;return r(e),t.promise}}),c(c.S+c.F*(a||!S),y,{resolve:function(e){if(e instanceof w&&k(e.constructor,this))return e;var t=M(this),r=t.resolve;return r(e),t.promise}}),c(c.S+c.F*!(S&&r(134)(function(e){w.all(e)["catch"](_)})),y,{all:function(e){var t=this,r=M(t),n=r.resolve,i=r.reject,o=I(function(){var r=[],o=0,a=1;h(e,!1,function(e){var l=o++,s=!1;r.push(void 0),a++,t.resolve(e).then(function(e){s||(s=!0,r[l]=e,--a||n(r))},i)}),--a||n(r)});return o&&i(o.error),r.promise},race:function(e){var t=this,r=M(t),n=r.reject,i=I(function(){h(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return i&&n(i.error),r.promise}})},function(e,t,r){var n=r(20),i=r(17),o=r(54)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[o])?t:i(r)}},function(e,t,r){var n,i,o,a=r(16),l=r(132),s=r(52),u=r(25),c=r(11),f=c.process,d=c.setImmediate,p=c.clearImmediate,h=c.MessageChannel,g=0,v={},m="onreadystatechange",y=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},b=function(e){y.call(e.data)};d&&p||(d=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return v[++g]=function(){l("function"==typeof e?e:Function(e),t)},n(g),g},p=function(e){delete v[e]},"process"==r(47)(f)?n=function(e){f.nextTick(a(y,e,1))}:h?(i=new h,o=i.port2,i.port1.onmessage=b,n=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):n=m in u("script")?function(e){s.appendChild(u("script"))[m]=function(){s.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:d,clear:p}},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(11),i=r(131).set,o=n.MutationObserver||n.WebKitMutationObserver,a=n.process,l=n.Promise,s="process"==r(47)(a);e.exports=function(){var e,t,r,u=function(){var n,i;for(s&&(n=a.domain)&&n.exit();e;){i=e.fn,e=e.next;try{i()}catch(o){throw e?r():t=void 0,o}}t=void 0,n&&n.enter()};if(s)r=function(){a.nextTick(u)};else if(o){var c=!0,f=document.createTextNode("");new o(u).observe(f,{characterData:!0}),r=function(){f.data=c=!c}}else if(l&&l.resolve){var d=l.resolve();r=function(){d.then(u)}}else r=function(){i.call(n,u)};return function(n){var i={fn:n,next:void 0};t&&(t.next=i),e||(e=i,r()),t=i}}},function(e,t,r){var n=r(54)("iterator"),i=!1;try{var o=[7][n]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(a){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:r=!0}},o[n]=function(){return a},e(o)}catch(l){}return r}},function(e,t,r){e.exports=r(136)},function(e,t,r){(function(t){var n="object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this,i=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,o=i&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(137),i)n.regeneratorRuntime=o;else try{delete n.regeneratorRuntime}catch(a){n.regeneratorRuntime=void 0}}).call(t,function(){return this}())},function(e,t,r){(function(t,r){!function(t){"use strict";function wrap(e,t,r,n){var i=Object.create((t||Generator).prototype),o=new Context(n||[]);return i._invoke=makeInvokeMethod(e,r,o),i}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function AwaitArgument(e){this.arg=e}function AsyncIterator(e){function invoke(t,r,n,i){var o=tryCatch(e[t],e,r);if("throw"!==o.type){var a=o.arg,l=a.value;return l instanceof AwaitArgument?Promise.resolve(l.arg).then(function(e){invoke("next",e,n,i)},function(e){invoke("throw",e,n,i)}):Promise.resolve(l).then(function(e){a.value=e,n(a)},i)}i(o.arg)}function enqueue(e,r){function callInvokeWithMethodAndArg(){return new Promise(function(t,n){invoke(e,r,t,n)})}return t=t?t.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}"object"==typeof r&&r.domain&&(invoke=r.domain.bind(invoke));var t;this._invoke=enqueue}function makeInvokeMethod(e,t,r){var i=c;return function(o,a){if(i===d)throw new Error("Generator is already running");if(i===p){if("throw"===o)throw a;return doneResult()}for(;;){var l=r.delegate;if(l){if("return"===o||"throw"===o&&l.iterator[o]===n){r.delegate=null;var s=l.iterator["return"];if(s){var u=tryCatch(s,l.iterator,a);if("throw"===u.type){o="throw",a=u.arg;continue}}if("return"===o)continue}var u=tryCatch(l.iterator[o],l.iterator,a);if("throw"===u.type){r.delegate=null,o="throw",a=u.arg;continue}o="next",a=n;var g=u.arg;if(!g.done)return i=f,g;r[l.resultName]=g.value,r.next=l.nextLoc,r.delegate=null}if("next"===o)r.sent=r._sent=a;else if("throw"===o){if(i===c)throw i=p,a;r.dispatchException(a)&&(o="next",a=n)}else"return"===o&&r.abrupt("return",a);i=d;var u=tryCatch(e,t,r);if("normal"===u.type){i=r.done?p:f;var g={value:u.arg,done:r.done};if(u.arg!==h)return g;r.delegate&&"next"===o&&(a=n)}else"throw"===u.type&&(i=p,o="throw",a=u.arg)}}}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function next(){for(;++r<e.length;)if(i.call(e,r))return next.value=e[r],next.done=!1,next;return next.value=n,next.done=!0,next};return o.next=o}}return{next:doneResult}}function doneResult(){return{value:n,done:!0}}var n,i=Object.prototype.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.toStringTag||"@@toStringTag",s="object"==typeof e,u=t.regeneratorRuntime;if(u)return void(s&&(e.exports=u));u=t.regeneratorRuntime=s?e.exports:{},u.wrap=wrap;var c="suspendedStart",f="suspendedYield",d="executing",p="completed",h={},g=GeneratorFunctionPrototype.prototype=Generator.prototype;GeneratorFunction.prototype=g.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[l]=GeneratorFunction.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return t?t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name):!1},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(g),e},u.awrap=function(e){return new AwaitArgument(e)},defineIteratorMethods(AsyncIterator.prototype),u.async=function(e,t,r,n){var i=new AsyncIterator(wrap(e,t,r,n));return u.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},defineIteratorMethods(g),g[a]=function(){return this},g[l]="Generator",g.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},u.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function handle(r,n){return o.type="throw",o.arg=e,t.next=r,!!n}if(this.done)throw e;for(var t=this,r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r],o=n.completion;if("root"===n.tryLoc)return handle("end");if(n.tryLoc<=this.prev){var a=i.call(n,"catchLoc"),l=i.call(n,"finallyLoc");if(a&&l){if(this.prev<n.catchLoc)return handle(n.catchLoc,!0);if(this.prev<n.finallyLoc)return handle(n.finallyLoc)}else if(a){if(this.prev<n.catchLoc)return handle(n.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return handle(n.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?this.next=o.finallyLoc:this.complete(a),h},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),h}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;resetTryEntry(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:values(e),resultName:t,nextLoc:r},h}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,function(){return this}(),r(138))},function(e,t){function cleanUpNextTick(){l&&r&&(l=!1,r.length?a=r.concat(a):s=-1,a.length&&drainQueue())}function drainQueue(){if(!l){var e=i(cleanUpNextTick);l=!0;for(var t=a.length;t;){for(r=a,a=[];++s<t;)r&&r[s].run();s=-1,t=a.length}r=null,l=!1,o(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var r,n=e.exports={},i=setTimeout,o=clearTimeout,a=[],l=!1,s=-1;n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];a.push(new Item(e,t)),1!==a.length||l||i(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=noop,n.addListener=noop,
n.once=noop,n.off=noop,n.removeListener=noop,n.removeAllListeners=noop,n.emit=noop,n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function repr(e){switch("undefined"==typeof e?"undefined":(0,a["default"])(e)){case"object":if(null!==e){var t=e[u];if(t)return t.apply(e)}break;case"function":return e.name?"function "+e.name+"(){}":String(e)}return(0,i["default"])(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.__repr__=t.uniqueId=t.constant=t.identity=void 0;var n=r(140),i=_interopRequireDefault(n),o=r(30),a=_interopRequireDefault(o),l=r(60),s=_interopRequireDefault(l);t.repr=repr;var u=(t.identity=function(e){return e},t.constant=function(e){return function(){return e}},t.uniqueId=function(){var e=1;return function(){return""+e++}}(),t.__repr__=(0,s["default"])("f3.__repr__"))},function(e,t,r){e.exports={"default":r(141),__esModule:!0}},function(e,t,r){var n=r(15),i=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=void 0;var n=r(28),i=_interopRequireDefault(n),o=r(86),a=_interopRequireDefault(o),l=r(97),s=r(143);t.Renderer=function(){function Renderer(e){(0,i["default"])(this,Renderer),this.func=e}return(0,a["default"])(Renderer,[{key:"render",value:function(){return this.func.apply(this,arguments)}}],[{key:l.__adapt__,value:function(e){return"string"==typeof e?new Renderer(s.sprintf.bind(null,e)):e instanceof Function?new Renderer(e):void 0}}]),Renderer}()},function(e,t){var r=function(){function get_type(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function str_repeat(e,t){for(var r=[];t>0;r[--t]=e);return r.join("")}var e=function(){return e.cache.hasOwnProperty(arguments[0])||(e.cache[arguments[0]]=e.parse(arguments[0])),e.format.call(null,e.cache[arguments[0]],arguments)};return e.object_stringify=function(t,r,n,i){var o="";if(null!=t)switch(typeof t){case"function":return"[Function"+(t.name?": "+t.name:"")+"]";case"object":if(t instanceof Error)return"["+t.toString()+"]";if(r>=n)return"[Object]";if(i&&(i=i.slice(0),i.push(t)),null!=t.length){o+="[";var a=[];for(var l in t)i&&i.indexOf(t[l])>=0?a.push("[Circular]"):a.push(e.object_stringify(t[l],r+1,n,i));o+=a.join(", ")+"]"}else{if("getMonth"in t)return"Date("+t+")";o+="{";var a=[];for(var s in t)t.hasOwnProperty(s)&&(i&&i.indexOf(t[s])>=0?a.push(s+": [Circular]"):a.push(s+": "+e.object_stringify(t[s],r+1,n,i)));o+=a.join(", ")+"}"}return o;case"string":return'"'+t+'"'}return""+t},e.format=function(t,n){var i,o,a,l,s,u,c,f=1,d=t.length,p="",h=[];for(o=0;d>o;o++)if(p=get_type(t[o]),"string"===p)h.push(t[o]);else if("array"===p){if(l=t[o],l[2])for(i=n[f],a=0;a<l[2].length;a++){if(!i.hasOwnProperty(l[2][a]))throw new Error(r('[sprintf] property "%s" does not exist',l[2][a]));i=i[l[2][a]]}else i=l[1]?n[l[1]]:n[f++];if(/[^sO]/.test(l[8])&&"number"!=get_type(i))throw new Error(r('[sprintf] expecting number but found %s "'+i+'"',get_type(i)));switch(l[8]){case"b":i=i.toString(2);break;case"c":i=String.fromCharCode(i);break;case"d":i=parseInt(i,10);break;case"e":i=l[7]?i.toExponential(l[7]):i.toExponential();break;case"f":i=l[7]?parseFloat(i).toFixed(l[7]):parseFloat(i);break;case"O":i=e.object_stringify(i,0,parseInt(l[7])||5);break;case"o":i=i.toString(8);break;case"s":i=(i=String(i))&&l[7]?i.substring(0,l[7]):i;break;case"u":i=Math.abs(i);break;case"x":i=i.toString(16);break;case"X":i=i.toString(16).toUpperCase()}i=/[def]/.test(l[8])&&l[3]&&i>=0?"+"+i:i,u=l[4]?"0"==l[4]?"0":l[4].charAt(1):" ",c=l[6]-String(i).length,s=l[6]?str_repeat(u,c):"",h.push(l[5]?i+s:s+i)}return h.join("")},e.cache={},e.parse=function(e){for(var t=e,r=[],n=[],i=0;t;){if(null!==(r=/^[^\x25]+/.exec(t)))n.push(r[0]);else if(null!==(r=/^\x25{2}/.exec(t)))n.push("%");else{if(null===(r=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosOuxX])/.exec(t)))throw new Error("[sprintf] "+t);if(r[2]){i|=1;var o=[],a=r[2],l=[];if(null===(l=/^([a-z_][a-z_\d]*)/i.exec(a)))throw new Error("[sprintf] "+a);for(o.push(l[1]);""!==(a=a.substring(l[0].length));)if(null!==(l=/^\.([a-z_][a-z_\d]*)/i.exec(a)))o.push(l[1]);else{if(null===(l=/^\[(\d+)\]/.exec(a)))throw new Error("[sprintf] "+a);o.push(l[1])}r[2]=o}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push(r)}t=t.substring(r[0].length)}return n},e}(),n=function(e,t){var n=t.slice();return n.unshift(e),r.apply(null,n)};e.exports=r,r.sprintf=r,r.vsprintf=n},function(e,t,r){var n;!function(i,o,a){function _addEvent(e,t,r){return e.addEventListener?void e.addEventListener(t,r,!1):void e.attachEvent("on"+t,r)}function _characterFromEvent(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return s[e.which]?s[e.which]:u[e.which]?u[e.which]:String.fromCharCode(e.which).toLowerCase()}function _modifiersMatch(e,t){return e.sort().join(",")===t.sort().join(",")}function _eventModifiers(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function _preventDefault(e){return e.preventDefault?void e.preventDefault():void(e.returnValue=!1)}function _stopPropagation(e){return e.stopPropagation?void e.stopPropagation():void(e.cancelBubble=!0)}function _isModifier(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function _getReverseMap(){if(!l){l={};for(var e in s)e>95&&112>e||s.hasOwnProperty(e)&&(l[s[e]]=e)}return l}function _pickBestAction(e,t,r){return r||(r=_getReverseMap()[e]?"keydown":"keypress"),"keypress"==r&&t.length&&(r="keydown"),r}function _keysFromString(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus"),e.split("+"))}function _getKeyInfo(e,t){var r,n,i,o=[];for(r=_keysFromString(e),i=0;i<r.length;++i)n=r[i],f[n]&&(n=f[n]),t&&"keypress"!=t&&c[n]&&(n=c[n],o.push("shift")),_isModifier(n)&&o.push(n);return t=_pickBestAction(n,o,t),{key:n,modifiers:o,action:t}}function _belongsTo(e,t){return null===e||e===o?!1:e===t?!0:_belongsTo(e.parentNode,t)}function Mousetrap(e){function _resetSequences(e){e=e||{};var t,r=!1;for(t in n)e[t]?r=!0:n[t]=0;r||(l=!1)}function _getMatches(e,r,i,o,a,l){var s,u,c=[],f=i.type;if(!t._callbacks[e])return[];for("keyup"==f&&_isModifier(e)&&(r=[e]),s=0;s<t._callbacks[e].length;++s)if(u=t._callbacks[e][s],(o||!u.seq||n[u.seq]==u.level)&&f==u.action&&("keypress"==f&&!i.metaKey&&!i.ctrlKey||_modifiersMatch(r,u.modifiers))){var d=!o&&u.combo==a,p=o&&u.seq==o&&u.level==l;(d||p)&&t._callbacks[e].splice(s,1),c.push(u)}return c}function _fireCallback(e,r,n,i){t.stopCallback(r,r.target||r.srcElement,n,i)||e(r,n)===!1&&(_preventDefault(r),_stopPropagation(r))}function _handleKeyEvent(e){"number"!=typeof e.which&&(e.which=e.keyCode);var r=_characterFromEvent(e);if(r)return"keyup"==e.type&&i===r?void(i=!1):void t.handleKey(r,_eventModifiers(e),e)}function _resetSequenceTimer(){clearTimeout(r),r=setTimeout(_resetSequences,1e3)}function _bindSequence(e,t,r,o){function _increaseSequence(t){return function(){l=t,++n[e],_resetSequenceTimer()}}function _callbackAndReset(t){_fireCallback(r,t,e),"keyup"!==o&&(i=_characterFromEvent(t)),setTimeout(_resetSequences,10)}n[e]=0;for(var a=0;a<t.length;++a){var s=a+1===t.length,u=s?_callbackAndReset:_increaseSequence(o||_getKeyInfo(t[a+1]).action);_bindSingle(t[a],u,o,e,a)}}function _bindSingle(e,r,n,i,o){t._directMap[e+":"+n]=r,e=e.replace(/\s+/g," ");var a,l=e.split(" ");return l.length>1?void _bindSequence(e,l,r,n):(a=_getKeyInfo(e,n),t._callbacks[a.key]=t._callbacks[a.key]||[],_getMatches(a.key,a.modifiers,{type:a.action},i,e,o),void t._callbacks[a.key][i?"unshift":"push"]({callback:r,modifiers:a.modifiers,action:a.action,seq:i,level:o,combo:e}))}var t=this;if(e=e||o,!(t instanceof Mousetrap))return new Mousetrap(e);t.target=e,t._callbacks={},t._directMap={};var r,n={},i=!1,a=!1,l=!1;t._handleKey=function(e,t,r){var n,i=_getMatches(e,t,r),o={},s=0,u=!1;for(n=0;n<i.length;++n)i[n].seq&&(s=Math.max(s,i[n].level));for(n=0;n<i.length;++n)if(i[n].seq){if(i[n].level!=s)continue;u=!0,o[i[n].seq]=1,_fireCallback(i[n].callback,r,i[n].combo,i[n].seq)}else u||_fireCallback(i[n].callback,r,i[n].combo);var c="keypress"==r.type&&a;r.type!=l||_isModifier(e)||c||_resetSequences(o),a=u&&"keydown"==r.type},t._bindMultiple=function(e,t,r){for(var n=0;n<e.length;++n)_bindSingle(e[n],t,r)},_addEvent(e,"keypress",_handleKeyEvent),_addEvent(e,"keydown",_handleKeyEvent),_addEvent(e,"keyup",_handleKeyEvent)}if(i){for(var l,s={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},u={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},c={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},d=1;20>d;++d)s[111+d]="f"+d;for(d=0;9>=d;++d)s[d+96]=d;Mousetrap.prototype.bind=function(e,t,r){var n=this;return e=e instanceof Array?e:[e],n._bindMultiple.call(n,e,t,r),n},Mousetrap.prototype.unbind=function(e,t){var r=this;return r.bind.call(r,e,function(){},t)},Mousetrap.prototype.trigger=function(e,t){var r=this;return r._directMap[e+":"+t]&&r._directMap[e+":"+t]({},e),r},Mousetrap.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},Mousetrap.prototype.stopCallback=function(e,t){var r=this;return(" "+t.className+" ").indexOf(" mousetrap ")>-1?!1:_belongsTo(t,r.target)?!1:"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},Mousetrap.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},Mousetrap.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(s[t]=e[t]);l=null},Mousetrap.init=function(){var e=Mousetrap(o);for(var t in e)"_"!==t.charAt(0)&&(Mousetrap[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},Mousetrap.init(),i.Mousetrap=Mousetrap,"undefined"!=typeof e&&e.exports&&(e.exports=Mousetrap),n=function(){return Mousetrap}.call(t,r,t,e),!(n!==a&&(e.exports=n))}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleButton=t.Button=void 0;var n=r(117),i=_interopRequireDefault(n),o=r(2),a=_interopRequireDefault(o),l=r(91),s=_interopRequireDefault(l),u=r(28),c=_interopRequireDefault(u),f=r(86),d=_interopRequireDefault(f),p=r(29),h=_interopRequireDefault(p),g=r(76),v=_interopRequireDefault(g),m=r(126),y=r(97),b=r(85),x=r(146),w=t.Button=function(e){function Button(e){var t=e.action,r=e.label,n=(0,s["default"])(e,["action","label"]);(0,c["default"])(this,Button);var o=(0,h["default"])(this,(0,a["default"])(Button).call(this,(0,i["default"])({tagName:"button"},n)));return o.action=t?(0,y.adapt)(b.Action,t,o):null,o._label=null,o.label=r,o.clicked.then(function(e){o.action&&o.action.perform({event:e})}),o}return(0,v["default"])(Button,e),(0,d["default"])(Button,[{key:"label",get:function(){return this._label},set:function(e){this.labelComponent&&this.removeComponent(this.labelComponent),this._label=(0,y.adapt)(x.Label,e),this.labelComponent=this._label.create(),this.addComponent(this.labelComponent)}}]),Button}((0,m.Container)());t.ToggleButton=function(e){function ToggleButton(e){var t=e.toggled,r=void 0===t?!1:t,n=(0,s["default"])(e,["toggled"]);(0,c["default"])(this,ToggleButton);var i=(0,h["default"])(this,(0,a["default"])(ToggleButton).call(this,n));return i.toggled=r,i.clicked.then(i.toggle.bind(i)),i}return(0,v["default"])(ToggleButton,e),(0,d["default"])(ToggleButton,[{key:"toggle",value:function(){this.toggled=!this.toggled}},{key:"toggled",set:function(e){this._toggled=e,e?this.addClass("toggled"):this.removeClass("toggled")},get:function(){return this._toggled}}]),ToggleButton}(w)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLabels=t.Label=void 0;var n=r(117),i=_interopRequireDefault(n),o=r(2),a=_interopRequireDefault(o),l=r(91),s=_interopRequireDefault(l),u=r(28),c=_interopRequireDefault(u),f=r(86),d=_interopRequireDefault(f),p=r(29),h=_interopRequireDefault(p),g=r(76),v=_interopRequireDefault(g),m=(r(126),r(97)),y=r(147),b=r(148),x=t.Label=function(e){function Label(e){var t=e.text,r=void 0===t?"":t,n=e.icon,i=void 0===n?"":n,o=(0,s["default"])(e,["text","icon"]);(0,c["default"])(this,Label);var l=(0,h["default"])(this,(0,a["default"])(Label).call(this,null));return l.text=r,l.icon=i,l.config=o,l.factory=(0,m.adapt)(y.ComponentFactory,l),l}return(0,v["default"])(Label,e),(0,d["default"])(Label,[{key:"create",value:function(e){return new b.CONFIG.defaultDisplayComponent((0,i["default"])({model:this.html,className:"label"},this.config,e))}},{key:"html",get:function(){var e="";return this.icon&&(e+='<i class="fa fa-'+this.icon+'"></i>'),this.text&&(e+="<span>"+this.text+"</span>"),e}}],[{key:m.__adapt__,value:function(e){return"string"==typeof e?new this({text:e}):void 0}}]),Label}(y.ComponentFactory);t.defaultLabels={ok:new x({text:"Ok",icon:"check"}),cancel:new x({text:"Cancel",icon:"close"}),close:new x({icon:"close"}),add:new x({text:"Add",icon:"plus"})}},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentFactory=void 0;var n=r(30),i=_interopRequireDefault(n),o=r(117),a=_interopRequireDefault(o),l=r(28),s=_interopRequireDefault(l),u=r(86),c=_interopRequireDefault(u),f=r(97),d=r(126),p=r(142),h=r(148);t.ComponentFactory=function(){function ComponentFactory(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,s["default"])(this,ComponentFactory),this.func=e,this.config=t}return(0,c["default"])(ComponentFactory,[{key:"create",value:function(e){return this.func((0,a["default"])({},this.config,e))}}],[{key:f.__adapt__,value:function(e,t){var r=this;if(Array.isArray(e))return this[f.__adapt__].apply(this,e);if(e.prototype instanceof d.Component)return new this(function(t){return new e(t)},t);if(e instanceof Function)return new this(e,t);try{var n=function(){var n=(0,f.adapt)(p.Renderer,e);return{v:new r(function(e){return new h.CONFIG.defaultDisplayComponent((0,a["default"])({renderer:n},e))},t)}}();if("object"===("undefined"==typeof n?"undefined":(0,i["default"])(n)))return n.v}catch(o){if(!(o instanceof f.AdapterError))throw o}}}]),ComponentFactory}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CONFIG={defaultDisplayComponent:null}},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function makeCover(e){var t=document.createElement("div");return t.classList.add("cover"),e.element.appendChild(t),{dispose:function(){t.parentNode.removeChild(t)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.Dialog=void 0;var n=r(117),i=_interopRequireDefault(n),o=r(2),a=_interopRequireDefault(o),l=r(91),s=_interopRequireDefault(l),u=r(28),c=_interopRequireDefault(u),f=r(86),d=_interopRequireDefault(f),p=r(29),h=_interopRequireDefault(p),g=r(76),v=_interopRequireDefault(g),m=r(126),y=r(145),b=r(90),x=r(146),w=r(97);t.Dialog=function(e){function Dialog(e){var t=e.title,r=void 0===t?"":t,n=(0,s["default"])(e,["title"]);(0,c["default"])(this,Dialog);var o=(0,h["default"])(this,(0,a["default"])(Dialog).call(this,(0,i["default"])({},n)));return o.opened=new b.Signal,o.closed=new b.Signal,o.title=(0,w.adapt)(x.Label,r),o.header=o.addComponent(new m.Panel({className:"header",children:[o.title.create(),new y.Button({label:x.defaultLabels.close,action:function(){o.close()}})]})),document.body.appendChild(o.element),o}return(0,v["default"])(Dialog,e),(0,d["default"])(Dialog,[{key:"close",value:function(){this.hide(),this.cover.dispose(),this.closed.emit()}},{key:"open",value:function(){this.cover=makeCover(this.app.root),this.show(),this.opened.emit()}}]),Dialog}((0,m.Root)(m.Frame))},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Field=t.Form=t.ComboBox=t.SelectBox=t.ChoiceInput=t.Checkbox=t.IntegerInput=t.TextArea=t.TextInput=t.RawInput=t.Input=void 0;var n=r(92),i=_interopRequireDefault(n),o=r(151),a=_interopRequireDefault(o),l=r(117),s=_interopRequireDefault(l),u=r(156),c=_interopRequireDefault(u),f=r(2),d=_interopRequireDefault(f),p=r(91),h=_interopRequireDefault(p),g=r(28),v=_interopRequireDefault(g),m=r(86),y=_interopRequireDefault(m),b=r(29),x=_interopRequireDefault(b),w=r(76),C=_interopRequireDefault(w),_=r(126),S=r(160),k=r(97),L=r(90),M=r(142),O=r(146),I=t.Input=function(e){function Input(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.name,r=(0,h["default"])(e,["name"]);(0,v["default"])(this,Input);var n=(0,x["default"])(this,(0,d["default"])(Input).call(this,r));return n.name=t,n.valueChanged=new L.Signal,n}return(0,C["default"])(Input,e),(0,y["default"])(Input,[{key:"setValue",value:function(e){if(e!==this._value){var t=this._value;this._value=e,this.valueChanged.emit({input:this,value:e,oldValue:t})}}},{key:"getValue",value:function(){return this._value}},{key:"value",set:function(e){this.setValue(e)},get:function(){return this.getValue()}}]),Input}(_.Component),A=t.RawInput=function(e){function RawInput(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.inputType,r=void 0===t?"text":t,n=e.inputTagName,i=void 0===n?"input":n,o=e.focusable,a=void 0===o?!0:o,l=e.placeholder,u=void 0===l?"":l,c=(0,h["default"])(e,["inputType","inputTagName","focusable","placeholder"]);(0,v["default"])(this,RawInput);var f=(0,x["default"])(this,(0,d["default"])(RawInput).call(this,(0,s["default"])({},c,{focusable:!1})));return f.inputElement=document.createElement(i),r&&(f.inputElement.type=r),f.inputElement.placeholder=u,f.element.appendChild(f.inputElement),f.focusable=a,f.focusElement=f.inputElement,f.blurred=new L.HtmlSignal({type:"blur",component:f,element:f.inputElement}),f.focused=new L.HtmlSignal({type:"focus",component:f,element:f.inputElement}),f.inputElement.addEventListener("input",function(e){f.value=e.target.value}),f}return(0,C["default"])(RawInput,e),(0,y["default"])(RawInput,[{key:"setValue",value:function(e){(0,c["default"])((0,d["default"])(RawInput.prototype),"setValue",this).call(this,e),this.inputElement.value=e}},{key:"getValue",value:function(){return this.inputElement.value}},{key:"click",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];(0,c["default"])((0,d["default"])(RawInput.prototype),"click",this).call(this,e||this.inputElement)}}]),RawInput}(I),T=t.TextInput=function(e){function TextInput(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=(0,h["default"])(e,[]);return(0,v["default"])(this,TextInput),(0,x["default"])(this,(0,d["default"])(TextInput).call(this,t))}return(0,C["default"])(TextInput,e),(0,y["default"])(TextInput,[{key:"getValue",value:function(){return this._value}}]),TextInput}(A),D=(t.TextArea=function(e){function TextArea(e){var t=(0,h["default"])(e,[]);return(0,v["default"])(this,TextArea),(0,x["default"])(this,(0,d["default"])(TextArea).call(this,(0,s["default"])({inputTagName:"textarea",inputType:null},t)))}return(0,C["default"])(TextArea,e),TextArea}(A),t.IntegerInput=function(e){function IntegerInput(){return(0,v["default"])(this,IntegerInput),(0,x["default"])(this,(0,d["default"])(IntegerInput).apply(this,arguments))}return(0,C["default"])(IntegerInput,e),(0,y["default"])(IntegerInput,[{key:"getValue",value:function(){return parseInt((0,c["default"])((0,d["default"])(IntegerInput.prototype),"getValue",this).call(this),10)}}]),IntegerInput}(T),t.Checkbox=function(e){function Checkbox(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,v["default"])(this,Checkbox);var t=(0,x["default"])(this,(0,d["default"])(Checkbox).call(this,(0,s["default"])({inputType:"checkbox"},e)));return t.inputElement.addEventListener("change",function(e){t.value=t.getValue()}),t}return(0,C["default"])(Checkbox,e),(0,y["default"])(Checkbox,[{key:"setValue",value:function(e){(0,c["default"])((0,d["default"])(Checkbox.prototype),"setValue",this).call(this,e),this.inputElement.checked=!!e}},{key:"getValue",value:function(){return this.inputElement.checked}}]),Checkbox}(A),t.ChoiceInput=function(e){function ChoiceInput(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.itemFactory,r=e.model,n=(0,h["default"])(e,["itemFactory","model"]);(0,v["default"])(this,ChoiceInput);var i=(0,x["default"])(this,(0,d["default"])(ChoiceInput).call(this,n));return i._value=null,i.dropdown=i.addComponent(new S.List({itemFactory:t,model:r})),i.dropdown.hide(),i.dropdown.itemSelected.then(function(e){i.value=e.item,i.close()}),i}return(0,C["default"])(ChoiceInput,e),(0,y["default"])(ChoiceInput,[{key:"open",value:function(){this.dropdown.show()}},{key:"close",value:function(){this.dropdown.hide(),this.dropdown.cursorIndex=-1}}]),ChoiceInput}((0,_.Container)(I)));t.SelectBox=function(e){function SelectBox(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.itemFactory,r=e.renderer,n=void 0===r?k.toString:r,i=(0,h["default"])(e,["itemFactory","renderer"]);(0,v["default"])(this,SelectBox);var o=(0,x["default"])(this,(0,d["default"])(SelectBox).call(this,(0,s["default"])({itemFactory:t||(0,k.adapt)(M.Renderer,n)},i)));return o.choiceDisplay=o.addComponent(new _.Display({renderer:n,focusable:!0,keymap:o.dropdown.cursorKeymap})),o.choiceDisplay.clicked.then(function(e){o.open()}),o.choiceDisplay.installKeymap({space:function(){o.open()},escape:function(){o.close()}}),o.focusElement=o.choiceDisplay.element,o}return(0,C["default"])(SelectBox,e),(0,y["default"])(SelectBox,[{key:"setValue",value:function(e){(0,c["default"])((0,d["default"])(SelectBox.prototype),"setValue",this).call(this,e),this.choiceDisplay.model=e}}]),SelectBox}(D),t.ComboBox=function(e){function ComboBox(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.itemFactory,r=e.renderer,n=void 0===r?k.toString:r,i=(0,h["default"])(e,["itemFactory","renderer"]);(0,v["default"])(this,ComboBox);var o=(0,x["default"])(this,(0,d["default"])(ComboBox).call(this,(0,s["default"])({itemFactory:t||(0,k.adapt)(M.Renderer,n)},i)));return o.renderer=(0,k.adapt)(M.Renderer,n),o.textInput=o.addComponent(new T({keymap:o.dropdown.cursorKeymap})),o.textInput.valueChanged.then(function(){}),o._closeTimeout=null,o.textInput.focused.then(function(){clearTimeout(o._closeTimeout),o.open()}),o.textInput.blurred.then(function(){o._closeTimeout=setTimeout(o.close.bind(o),100)}),o}return(0,C["default"])(ComboBox,e),(0,y["default"])(ComboBox,[{key:"setValue",value:function(e){(0,c["default"])((0,d["default"])(ComboBox.prototype),"setValue",this).call(this,e),this.textInput.value=this.renderer.render(e)}}]),ComboBox}(D),t.Form=function(e){function Form(){return(0,v["default"])(this,Form),(0,x["default"])(this,(0,d["default"])(Form).apply(this,arguments))}return(0,C["default"])(Form,e),(0,y["default"])(Form,[{key:"getInputs",value:function(){return this.findClosestDecendants(function(e){return e instanceof I})}},{key:"getInput",value:function(e){return[].concat((0,a["default"])(this.getInputs())).find(function(t){return t.name===e})}},{key:"value",get:function(){var e={},t=!0,r=!1,n=void 0;try{for(var o,a=(0,i["default"])(this.getInputs());!(t=(o=a.next()).done);t=!0){var l=o.value;e[l.name]=l.value}}catch(s){r=!0,n=s}finally{try{!t&&a["return"]&&a["return"]()}finally{if(r)throw n}}return e},set:function(e){var t=!0,r=!1,n=void 0;try{for(var o,a=(0,i["default"])(this.getInputs());!(t=(o=a.next()).done);t=!0){var l=o.value;l.value=e[l.name]}}catch(s){r=!0,n=s}finally{try{!t&&a["return"]&&a["return"]()}finally{if(r)throw n}}}}]),Form}((0,_.Container)(I)),t.Field=function(e){function Field(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.label,r=void 0===t?"":t,n=e.input,i=(0,h["default"])(e,["label","input"]);(0,v["default"])(this,Field);var o=(0,x["default"])(this,(0,d["default"])(Field).call(this,i));return o.addClass(n.constructor.name+"Field"),o.label=(0,k.adapt)(O.Label,r),o.labelComponent=o.addComponent(o.label.create()),o.input=o.addComponent(n),o.labelComponent.clicked.then(function(e){o.input.click(),o.input.focus()}),o}return(0,C["default"])(Field,e),Field}((0,_.Container)(_.Component))},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(152),i=_interopRequireDefault(n);t["default"]=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,i["default"])(e)}},function(e,t,r){e.exports={"default":r(153),__esModule:!0}},function(e,t,r){r(33),r(154),e.exports=r(15).Array.from},function(e,t,r){"use strict";var n=r(16),i=r(14),o=r(5),a=r(105),l=r(106),s=r(49),u=r(155),c=r(95);i(i.S+i.F*!r(134)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,i,f,d=o(e),p="function"==typeof this?this:Array,h=arguments.length,g=h>1?arguments[1]:void 0,v=void 0!==g,m=0,y=c(d);if(v&&(g=n(g,h>2?arguments[2]:void 0,2)),void 0==y||p==Array&&l(y))for(t=s(d.length),r=new p(t);t>m;m++)u(r,m,v?g(d[m],m):d[m]);else for(f=y.call(d),r=new p;!(i=f.next()).done;m++)u(r,m,v?a(f,g,[i.value,m],!0):i.value);return r.length=m,r}})},function(e,t,r){"use strict";var n=r(19),i=r(27);e.exports=function(e,t,r){t in e?n.f(e,t,i(0,r)):e[t]=r}},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(2),i=_interopRequireDefault(n),o=r(157),a=_interopRequireDefault(o);t["default"]=function get(e,t,r){null===e&&(e=Function.prototype);var n=(0,a["default"])(e,t);if(void 0===n){var o=(0,i["default"])(e);return null===o?void 0:get(o,t,r)}if("value"in n)return n.value;var l=n.get;if(void 0!==l)return l.call(r)}},function(e,t,r){e.exports={"default":r(158),__esModule:!0}},function(e,t,r){r(159);var n=r(15).Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}},function(e,t,r){var n=r(45),i=r(72).f;r(13)("getOwnPropertyDescriptor",function(){return function(e,t){return i(n(e),t)}})},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.List=void 0;var n=r(151),i=_interopRequireDefault(n),o=r(92),a=_interopRequireDefault(o),l=r(98),s=_interopRequireDefault(l),u=r(2),c=_interopRequireDefault(u),f=r(91),d=_interopRequireDefault(f),p=r(28),h=_interopRequireDefault(p),g=r(86),v=_interopRequireDefault(g),m=r(29),y=_interopRequireDefault(m),b=r(76),x=_interopRequireDefault(b),w=r(126),C=r(147),_=r(97),S=r(90),k=r(139);t.List=function(e){function List(e){var t=e.model,r=e.itemFactory,n=(e.selectable,e.cursorClass),i=void 0===n?"cursor":n,o=(0,d["default"])(e,["model","itemFactory","selectable","cursorClass"]);(0,h["default"])(this,List);var l=(0,y["default"])(this,(0,c["default"])(List).call(this,o));l.model=t,l.cursorClass=i,l._cursorIndex=-1,l.itemFactory=(0,_.adapt)(C.ComponentFactory,r),l.itemMap=new s["default"],l.componentMap=new s["default"],t.itemAdded.then(function(e){l.addItem(e.item)}),t.itemRemoved.then(function(e){l.removeItem(e.item)}),t.itemsReordered.then(function(e){l.applyOrdering()}),l.itemClicked=new S.Signal,l.itemSelected=new S.Signal,l.clicked.then(function(e){for(var t=e.event.target;t;){if(t.dataset){var r=t.dataset.itemId;if(r){l.onItemClicked(l.itemMap[r]);break}}t=t.parentNode}}),l.cursorKeymap={down:function(){l.moveCursorDown()},up:function(){l.moveCursorUp()},enter:function(){l.selectIndex(l.cursorIndex)}};var u=!0,f=!1,p=void 0;try{for(var g,v=(0,a["default"])(t);!(u=(g=v.next()).done);u=!0){var m=g.value;l.addItem(m)}}catch(b){f=!0,p=b}finally{try{!u&&v["return"]&&v["return"]()}finally{if(f)throw p}}return l}return(0,x["default"])(List,e),(0,v["default"])(List,[{key:"onItemClicked",value:function(e){this.itemClicked.emit({item:e,list:this}),this.selectItem(e)}},{key:"selectIndex",value:function(e){this.selectItem(this.model.get(e))}},{key:"selectItem",value:function(e){this.itemSelected.emit({item:e,list:this})}},{key:"moveCursorDown",value:function(){this.cursorIndex=this.cursorIndex+1}},{key:"moveCursorUp",value:function(){-1!==this.cursorIndex?this.cursorIndex=this.cursorIndex+this.model.length-1:this.cursorIndex=this.model.length-1}},{key:"getChildByElement",value:function(){}},{key:"applyOrdering",value:function(){for(var e=this,t=[].concat((0,i["default"])(this.model)).map(function(t){return e.componentMap[t]}),r=null,n=t.length-1;n>=0;n--){var o=t[n].element;this.element.insertBefore(o,r),r=o}}},{key:"addItem",value:function(e){var t=this.itemFactory.create({model:e}),r=(0,k.uniqueId)(e);t.element.dataset.itemId=r,this.addComponent(t),this.componentMap[e]=t,this.itemMap[r]=e}},{key:"removeItem",value:function(e){this.removeComponent(this.componentMap[e])}},{key:"cursorIndex",get:function(){return this._cursorIndex},set:function(e){if(e%=this.model.length,e!==this._cursorIndex){if(-1!==this._cursorIndex){var t=this.componentMap[this.model.get(this._cursorIndex)];t.removeClass(this.cursorClass)}if(this._cursorIndex=e,-1!==e){var r=this.model.get(e),n=this.componentMap[r];n.addClass(this.cursorClass)}}}}]),List}((0,w.Container)())},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function prop(e,t){var r,n,i=e.constructor.getProperty(t),o=new w.Signal;return e.propertyChanged.then(function(e){e.property===i&&o.emit(e)}),r={changed:o,get value(){return this[L.__value__]}},n={},n[L.__value__]=n[L.__value__]||{},n[L.__value__].get=function(){return i.get(e)},(0,c["default"])(r,n),r}Object.defineProperty(t,"__esModule",{value:!0}),t.ListModel=t.Model=t.Property=void 0;var n=r(135),i=_interopRequireDefault(n),o=r(31),a=_interopRequireDefault(o),l=r(92),s=_interopRequireDefault(l),u=r(162),c=_interopRequireDefault(u),f=r(87),d=_interopRequireDefault(f),p=r(91),h=_interopRequireDefault(p),g=r(28),v=_interopRequireDefault(g),m=r(86),y=_interopRequireDefault(m),b=r(60),x=_interopRequireDefault(b);t.prop=prop;var w=r(90),C=r(139),_=r(97),S=r(146),k=r(147),L=r(163),M=(0,x["default"])("f3.initialized"),O=(0,x["default"])("f3.__data__"),I=(0,x["default"])("f3.__properties__");t.Property=function(){function Property(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=t.inputFactory,n=void 0===r?null:r,i=t.type,o=void 0===i?null:i,a=t.label,l=void 0===a?null:a,s=t.validator,u=void 0===s?(0,C.constant)(!0):s,c=t.choices,f=void 0===c?null:c;(0,h["default"])(t,["inputFactory","type","label","validator","choices"]);(0,v["default"])(this,Property),this.name=e,this.type=o,this.label=(0,_.adapt)(S.Label,l||e),this.choices=f,this.validator=u,this._inputFactory=n?(0,_.adapt)(k.ComponentFactory,n):null}return(0,y["default"])(Property,[{key:"get",value:function(e){return e[O][this.name]}},{key:"set",value:function(e,t){var r=e[O][this.name];r!==t&&(e[O][this.name]=t,e.propertyChanged.emit({model:e,property:this,value:t,oldValue:r}))}},{key:"define",value:function(e){
var t=this;(0,d["default"])(e.prototype,this.name,{enumerable:!0,get:function(){return t.get(this)},set:function(e){t.set(this,e)}})}},{key:"inputFactory",get:function(){return this._inputFactory||this.type.inputFactory}}]),Property}(),t.Model=function(){function Model(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,v["default"])(this,Model),this[O]=e,this.constructor.initClass(),this.propertyChanged=new w.Signal}return(0,y["default"])(Model,[{key:"getData",value:function(){return this[O]}}],[{key:"initClass",value:function(){if(!this[M]){var e={},t=!0,r=!1,n=void 0;try{for(var i,o=(0,s["default"])(this.properties);!(t=(i=o.next()).done);t=!0){var a=i.value;a.define(this),e[a.name]=a}}catch(l){r=!0,n=l}finally{try{!t&&o["return"]&&o["return"]()}finally{if(r)throw n}}this[I]=e,this[M]=!0}}},{key:"getProperty",value:function(e){return this[I][e]}}]),Model}(),t.ListModel=function(){function ListModel(e){var t=e.items,r=void 0===t?[]:t;(0,h["default"])(e,["items"]);(0,v["default"])(this,ListModel),this.items=r,this.itemAdded=new w.Signal,this.itemRemoved=new w.Signal,this.itemsReordered=new w.Signal}return(0,y["default"])(ListModel,[{key:"onItemAdded",value:function(e,t){this.itemAdded.emit({model:this,item:e,index:t})}},{key:"onItemRemoved",value:function(e,t){this.itemRemoved.emit({model:this,item:e,index:t})}},{key:"onItemsReordered",value:function(){this.itemsReordered.emit({model:this})}},{key:"get",value:function(e){return this.items[e]}},{key:a["default"],value:i["default"].mark(function value(){return i["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.items,"t0",1);case 1:case"end":return e.stop()}},value,this)})},{key:"append",value:function(e){var t=this.items.length;this.items.push(e),this.onItemAdded(e,t)}},{key:"insert",value:function(e,t){this.items.splice(e,0,t),this.onItemAdded(t,e)}},{key:"remove",value:function(e){var t=this.items.indexOf(e);0>t||(this.items.splice(t,1),this.onItemRemoved(e,t))}},{key:"removeAt",value:function(e){var t=this.items[e];this.items.splice(e,1),this.onItemRemoved(t,e)}},{key:"pop",value:function(){this.removeIndex(this.items.length-1)}},{key:"clear",value:function(){this.items=[];for(var e=this.items.length-1;e>=0;e--)this.removeIndex(e)}},{key:"reverse",value:function(){this.items.reverse(),this.onItemsReordered()}},{key:"length",get:function(){return this.items.length}}]),ListModel}()},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var n=r(87),i=_interopRequireDefault(n);t["default"]=function(e,t){for(var r in t){var n=t[r];n.configurable=n.enumerable=!0,"value"in n&&(n.writable=!0),(0,i["default"])(e,r,n)}return e}},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function idof(e){var t="undefined"==typeof e?"undefined":(0,i["default"])(e);if("object"===t&&null!==e||"function"===t){var r=e[s];return void 0===r?r=e[s]=e.constructor.name+":"+(0,l.uniqueId)():"function"==typeof r&&(r=r.call(e)),r}return t+":"+e}function valueof(e){if(!e)return e;var t=e[u];return void 0!==t?e:t}Object.defineProperty(t,"__esModule",{value:!0}),t.__value__=t.__id__=void 0;var n=r(30),i=_interopRequireDefault(n),o=r(60),a=_interopRequireDefault(o);t.idof=idof,t.valueof=valueof;var l=(r(90),r(139)),s=t.__id__=(0,a["default"])("f3.__id__"),u=t.__value__=(0,a["default"])("f3.__value__")},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function makeModelForm(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=[],n=!0,o=!1,l=void 0;try{for(var s,u=(0,a["default"])(e.properties);!(n=(s=u.next()).done);n=!0){var c=s.value;r.push(new b.Field({name:c.name,label:c.label,input:c.inputFactory.create({name:c.name})}))}}catch(f){o=!0,l=f}finally{try{!n&&u["return"]&&u["return"]()}finally{if(o)throw l}}return new x((0,i["default"])({children:r,model:t.model||new e},t))}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelForm=void 0;var n=r(117),i=_interopRequireDefault(n),o=r(92),a=_interopRequireDefault(o),l=r(2),s=_interopRequireDefault(l),u=r(91),c=_interopRequireDefault(u),f=r(28),d=_interopRequireDefault(f),p=r(86),h=_interopRequireDefault(p),g=r(29),v=_interopRequireDefault(g),m=r(76),y=_interopRequireDefault(m);t.makeModelForm=makeModelForm;var b=r(150),x=t.ModelForm=function(e){function ModelForm(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.model,r=(0,c["default"])(e,["model"]);(0,d["default"])(this,ModelForm);var n=(0,v["default"])(this,(0,s["default"])(ModelForm).call(this,r));return n.model=t,n}return(0,y["default"])(ModelForm,e),(0,h["default"])(ModelForm,[{key:"model",get:function(){return this._model},set:function(e){var t=this;this._model=e,this.value=e.getData();var r=!0,n=!1,i=void 0;try{for(var o,l=function(){var t=o.value;t.valueChanged.then(function(r){e[t.name]=r.value})},s=(0,a["default"])(this.getInputs());!(r=(o=s.next()).done);r=!0)l()}catch(u){n=!0,i=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(n)throw i}}e.propertyChanged.then(function(e){t.getInput(e.property.name).value=e.value})}}]),ModelForm}(b.Form)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Integer=t.Float=t.Number=t.Boolean=t.String=t.Type=void 0;var n=r(156),i=_interopRequireDefault(n),o=r(135),a=_interopRequireDefault(o),l=r(117),s=_interopRequireDefault(l),u=r(2),c=_interopRequireDefault(u),f=r(91),d=_interopRequireDefault(f),p=r(86),h=_interopRequireDefault(p),g=r(29),v=_interopRequireDefault(g),m=r(76),y=_interopRequireDefault(m),b=r(28),x=_interopRequireDefault(b),w=r(147),C=r(150),_=r(97),S=t.Type=function Type(e){var t=e.inputFactory;(0,x["default"])(this,Type),this.inputFactory=(0,_.adapt)(w.ComponentFactory,t||this.constructor.defaultInputFactory)},k=t.String=function(e){function String(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.regex,r=void 0===t?null:t,n=(0,d["default"])(e,["regex"]);(0,x["default"])(this,String);var i=(0,v["default"])(this,(0,c["default"])(String).call(this,(0,s["default"])({},n)));return i.regex=r,i}return(0,y["default"])(String,e),(0,h["default"])(String,[{key:"coerce",value:function(e){return""+e}},{key:"validate",value:a["default"].mark(function validate(e){return a["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("string"==typeof e){t.next=3;break}return t.next=3,"must be of type string";case 3:if(!this.regex||this.regex.test(e)){t.next=6;break}return t.next=6,"must match "+this.regex;case 6:case"end":return t.stop()}},validate,this)})}]),String}(S);k.defaultInputFactory=C.TextInput;var L=t.Boolean=function(e){function Boolean(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=(0,d["default"])(e,[]);return(0,x["default"])(this,Boolean),(0,v["default"])(this,(0,c["default"])(Boolean).call(this,t))}return(0,y["default"])(Boolean,e),Boolean}(S);L.defaultInputFactory=C.Checkbox;var M=t.Number=function(e){function Number(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.min,r=e.max,n=(0,d["default"])(e,["min","max"]);(0,x["default"])(this,Number);var i=(0,v["default"])(this,(0,c["default"])(Number).call(this,(0,s["default"])({},n)));return i.min=t,i.max=r,i}return(0,y["default"])(Number,e),(0,h["default"])(Number,[{key:"validate",value:a["default"].mark(function validate(e){return a["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield((0,i["default"])((0,c["default"])(Number.prototype),"validate",this).call(this,e),"t0",1);case 1:if(!(void 0!==this.min&&e<this.min)){t.next=4;break}return t.next=4,"must be bigger than "+this.min;case 4:if(!(void 0!==this.max&&e>this.max)){t.next=7;break}return t.next=7,"must be smaller than "+this.max;case 7:case"end":return t.stop()}},validate,this)})}]),Number}(S);M.defaultInputFactory=C.TextInput;t.Float=function(e){function Float(e){var t=(0,d["default"])(e,[]);return(0,x["default"])(this,Float),(0,v["default"])(this,(0,c["default"])(Float).call(this,(0,s["default"])({},t)))}return(0,y["default"])(Float,e),(0,h["default"])(Float,[{key:"coerce",value:function(e){return parseFloat(e)}}]),Float}(M),t.Integer=function(e){function Integer(e){var t=(0,d["default"])(e,[]);return(0,x["default"])(this,Integer),(0,v["default"])(this,(0,c["default"])(Integer).call(this,(0,s["default"])({},t)))}return(0,y["default"])(Integer,e),(0,h["default"])(Integer,[{key:"coerce",value:function(e){return parseInt(e,10)}}]),Integer}(M)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FormSet=void 0;var n=r(2),i=_interopRequireDefault(n),o=r(91),a=_interopRequireDefault(o),l=r(28),s=_interopRequireDefault(l),u=r(29),c=_interopRequireDefault(u),f=r(76),d=_interopRequireDefault(f),p=r(145),h=r(126),g=r(146),v=r(160),m=r(164);t.FormSet=function(e){function FormSet(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.cls,r=e.model,n=(0,a["default"])(e,["cls","model"]);(0,s["default"])(this,FormSet);var o=(0,c["default"])(this,(0,i["default"])(FormSet).call(this,n));return o.model=r,o.forms=o.addComponent(new v.List({itemFactory:function(e){var r=e.model;return(0,m.makeModelForm)(t,{model:r})},model:r})),o.addButton=o.addComponent(new p.Button({label:g.defaultLabels.add,action:function(){o.model.append(new t)}})),o}return(0,d["default"])(FormSet,e),FormSet}((0,h.Container)())},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function paddedFormat(e,t,r,n){var i=e.includes("-")?_lodash.padEnd:_lodash.padStart;return function(r){return i(n(r),t,e.includes("0")?"0":" ")}}function format(src){var replacements=[],pattern=src.replace(/\{(\w+)(?:!([ #0+-]*)([1-9]\d*)?(?:\.(\d+))?([eEfghijrsxX]))?(?:=([^}]*))?\}/g,function(match,attr,flags,width,precision,type,defaultValue){var formatFunc=replacementTypes[type||"s"](flags,width?parseInt(width,10):void 0,precision?parseInt(precision,10):void 0);return width&&(formatFunc=paddedFormat(flags,width,precision,formatFunc)),replacements.push(function(args){var value=void 0===args?void 0:args[attr];return void 0===value&&void 0!==defaultValue&&(value=eval(defaultValue)),formatFunc(value)}),"{}"});return function(e){var t=0;return pattern.replace(/\{\}/g,function(r){return replacements[t++](e)})}}Object.defineProperty(exports,"__esModule",{value:!0});var _stringify=__webpack_require__(140),_stringify2=_interopRequireDefault(_stringify);exports.format=format;var _lodash=__webpack_require__(168),_utils=__webpack_require__(139),replacementTypes={f:function(e,t,r){return r?function(e){return e.toFixed(r)}:String},g:function(e,t,r){return r?function(e){return e.toPrecision(r)}:String},i:function(e,t,r){return function(e){return e.toString(10)}},j:function(e,t,r){return _stringify2["default"]},r:function(e,t,r){return _utils.repr},s:function(e,t,r){return String},e:function(e,t,r){return function(e){return e.toExponential()}},E:function(e,t,r){return function(e){return e.toExponential().toUpperCase()}},x:function(e,t,r){return function(e){return e.toString(16)}},X:function(e,t,r){return function(e){return e.toString(16).toUpperCase()}}}},function(e,t,r){var n;(function(e,i){(function(){function addMapEntry(e,t){return e.set(t[0],t[1]),e}function addSetEntry(e,t){return e.add(t),e}function apply(e,t,r){var n=r.length;switch(n){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function arrayAggregator(e,t,r,n){for(var i=-1,o=e?e.length:0;++i<o;){var a=e[i];t(n,a,r(a),e)}return n}function arrayEach(e,t){for(var r=-1,n=e?e.length:0;++r<n&&t(e[r],r,e)!==!1;);return e}function arrayEachRight(e,t){for(var r=e?e.length:0;r--&&t(e[r],r,e)!==!1;);return e}function arrayEvery(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(!t(e[r],r,e))return!1;return!0}function arrayFilter(e,t){for(var r=-1,n=e?e.length:0,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}function arrayIncludes(e,t){var r=e?e.length:0;return!!r&&baseIndexOf(e,t,0)>-1}function arrayIncludesWith(e,t,r){for(var n=-1,i=e?e.length:0;++n<i;)if(r(t,e[n]))return!0;return!1}function arrayMap(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function arrayPush(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function arrayReduce(e,t,r,n){var i=-1,o=e?e.length:0;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function arrayReduceRight(e,t,r,n){var i=e?e.length:0;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function arraySome(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function baseFindKey(e,t,r){var n;return r(e,function(e,r,i){return t(e,r,i)?(n=r,!1):void 0}),n}function baseFindIndex(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function baseIndexOf(e,t,r){if(t!==t)return indexOfNaN(e,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function baseIndexOfWith(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function baseMean(e,t){var r=e?e.length:0;return r?baseSum(e,t)/r:R}function baseReduce(e,t,r,n,i){return i(e,function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)}),r}function baseSortBy(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}function baseSum(e,t){for(var r,n=-1,i=e.length;++n<i;){var a=t(e[n]);a!==o&&(r=r===o?a:r+a)}return r}function baseTimes(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function baseToPairs(e,t){return arrayMap(t,function(t){return[t,e[t]]})}function baseUnary(e){return function(t){return e(t)}}function baseValues(e,t){return arrayMap(t,function(t){return e[t]})}function cacheHas(e,t){return e.has(t)}function charsStartIndex(e,t){for(var r=-1,n=e.length;++r<n&&baseIndexOf(t,e[r],0)>-1;);return r}function charsEndIndex(e,t){for(var r=e.length;r--&&baseIndexOf(t,e[r],0)>-1;);return r}function checkGlobal(e){return e&&e.Object===Object?e:null}function countHolders(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&n++;return n}function deburrLetter(e){return Ft[e]}function escapeHtmlChar(e){return Et[e]}function escapeStringChar(e){return"\\"+jt[e]}function getValue(e,t){return null==e?o:e[t]}function indexOfNaN(e,t,r){for(var n=e.length,i=t+(r?1:-1);r?i--:++i<n;){var o=e[i];if(o!==o)return i}return-1}function isHostObject(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}function iteratorToArray(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}function mapToArray(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function replaceHolders(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r];a!==t&&a!==c||(e[r]=c,o[i++]=r)}return o}function setToArray(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function setToPairs(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=[e,e]}),r}function stringSize(e){if(!e||!It.test(e))return e.length;for(var t=Mt.lastIndex=0;Mt.test(e);)t++;return t}function stringToArray(e){return e.match(Mt)}function unescapeHtmlChar(e){return Nt[e]}function runInContext(e){function lodash(e){if(isObjectLike(e)&&!Yr(e)&&!(e instanceof LazyWrapper)){if(e instanceof LodashWrapper)return e;if(Xe.call(e,"__wrapped__"))return wrapperClone(e)}return new LodashWrapper(e)}function baseLodash(){}function LodashWrapper(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function LazyWrapper(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=P,this.__views__=[]}function lazyClone(){var e=new LazyWrapper(this.__wrapped__);return e.__actions__=copyArray(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=copyArray(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=copyArray(this.__views__),e}function lazyReverse(){if(this.__filtered__){var e=new LazyWrapper(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function lazyValue(){var e=this.__wrapped__.value(),t=this.__dir__,r=Yr(e),n=0>t,i=r?e.length:0,o=getView(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=n?s:a-1,f=this.__iteratees__,d=f.length,p=0,h=bt(u,this.__takeCount__);if(!r||l>i||i==u&&h==u)return baseWrapperValue(e,this.__actions__);var g=[];e:for(;u--&&h>p;){c+=t;for(var v=-1,m=e[c];++v<d;){var y=f[v],b=y.iteratee,x=y.type,w=b(m);if(x==O)m=w;else if(!w){if(x==M)continue e;break e}}g[p++]=m}return g}function Hash(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function hashClear(){this.__data__=Bt?Bt(null):{}}function hashDelete(e){return this.has(e)&&delete this.__data__[e]}function hashGet(e){var t=this.__data__;if(Bt){var r=t[e];return r===u?o:r}return Xe.call(t,e)?t[e]:o}function hashHas(e){var t=this.__data__;return Bt?t[e]!==o:Xe.call(t,e)}function hashSet(e,t){var r=this.__data__;return r[e]=Bt&&t===o?u:t,this}function ListCache(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(e){var t=this.__data__,r=assocIndexOf(t,e);if(0>r)return!1;var n=t.length-1;return r==n?t.pop():ct.call(t,r,1),!0}function listCacheGet(e){var t=this.__data__,r=assocIndexOf(t,e);return 0>r?o:t[r][1]}function listCacheHas(e){return assocIndexOf(this.__data__,e)>-1}function listCacheSet(e,t){var r=this.__data__,n=assocIndexOf(r,e);return 0>n?r.push([e,t]):r[n][1]=t,this}function MapCache(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Ft||ListCache),string:new Hash}}function mapCacheDelete(e){return getMapData(this,e)["delete"](e)}function mapCacheGet(e){return getMapData(this,e).get(e)}function mapCacheHas(e){return getMapData(this,e).has(e)}function mapCacheSet(e,t){return getMapData(this,e).set(e,t),this}function SetCache(e){var t=-1,r=e?e.length:0;for(this.__data__=new MapCache;++t<r;)this.add(e[t])}function setCacheAdd(e){return this.__data__.set(e,u),this}function setCacheHas(e){return this.__data__.has(e)}function Stack(e){this.__data__=new ListCache(e)}function stackClear(){this.__data__=new ListCache}function stackDelete(e){return this.__data__["delete"](e)}function stackGet(e){return this.__data__.get(e)}function stackHas(e){return this.__data__.has(e)}function stackSet(e,t){var r=this.__data__;return r instanceof ListCache&&r.__data__.length==l&&(r=this.__data__=new MapCache(r.__data__)),r.set(e,t),this}function assignInDefaults(e,t,r,n){return e===o||eq(e,Ve[r])&&!Xe.call(n,r)?t:e}function assignMergeValue(e,t,r){(r===o||eq(e[t],r))&&("number"!=typeof t||r!==o||t in e)||(e[t]=r)}function assignValue(e,t,r){var n=e[t];Xe.call(e,t)&&eq(n,r)&&(r!==o||t in e)||(e[t]=r)}function assocIndexOf(e,t){for(var r=e.length;r--;)if(eq(e[r][0],t))return r;return-1}function baseAggregator(e,t,r,n){return rr(e,function(e,i,o){t(n,e,r(e),o)}),n}function baseAssign(e,t){return e&&copyObject(t,keys(t),e)}function baseAt(e,t){for(var r=-1,n=null==e,i=t.length,a=Array(i);++r<i;)a[r]=n?o:get(e,t[r]);return a}function baseClamp(e,t,r){return e===e&&(r!==o&&(e=r>=e?e:r),t!==o&&(e=e>=t?e:t)),e}function baseClone(e,t,r,n,i,a,l){var s;if(n&&(s=a?n(e,i,a,l):n(e)),s!==o)return s;if(!isObject(e))return e;var u=Yr(e);if(u){if(s=initCloneArray(e),!t)return copyArray(e,s)}else{var c=getTag(e),f=c==q||c==z;if(Zr(e))return cloneBuffer(e,t);if(c==K||c==N||f&&!a){if(isHostObject(e))return a?e:{};if(s=initCloneObject(f?{}:e),!t)return copySymbols(e,baseAssign(s,e))}else{if(!Pt[c])return a?e:{};s=initCloneByTag(e,c,baseClone,t)}}l||(l=new Stack);var d=l.get(e);if(d)return d;if(l.set(e,s),!u)var p=r?getAllKeys(e):keys(e);return arrayEach(p||e,function(i,o){p&&(o=i,i=e[o]),assignValue(s,o,baseClone(i,t,r,n,o,e,l))}),s}function baseConforms(e){var t=keys(e),r=t.length;return function(n){if(null==n)return!r;for(var i=r;i--;){var a=t[i],l=e[a],s=n[a];if(s===o&&!(a in Object(n))||!l(s))return!1}return!0}}function baseCreate(e){return isObject(e)?st(e):{}}function baseDelay(e,t,r){if("function"!=typeof e)throw new qe(s);return ft(function(){e.apply(o,r)},t)}function baseDifference(e,t,r,n){var i=-1,o=arrayIncludes,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;r&&(t=arrayMap(t,baseUnary(r))),n?(o=arrayIncludesWith,a=!1):t.length>=l&&(o=cacheHas,a=!1,t=new SetCache(t));e:for(;++i<s;){var f=e[i],d=r?r(f):f;if(f=n||0!==f?f:0,a&&d===d){for(var p=c;p--;)if(t[p]===d)continue e;u.push(f)}else o(t,d,n)||u.push(f)}return u}function baseEvery(e,t){var r=!0;return rr(e,function(e,n,i){return r=!!t(e,n,i)}),r}function baseExtremum(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],l=t(a);if(null!=l&&(s===o?l===l&&!isSymbol(l):r(l,s)))var s=l,u=a}return u}function baseFill(e,t,r,n){var i=e.length;for(r=toInteger(r),0>r&&(r=-r>i?0:i+r),n=n===o||n>i?i:toInteger(n),0>n&&(n+=i),n=r>n?0:toLength(n);n>r;)e[r++]=t;return e}function baseFilter(e,t){var r=[];return rr(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r}function baseFlatten(e,t,r,n,i){var o=-1,a=e.length;for(r||(r=isFlattenable),i||(i=[]);++o<a;){var l=e[o];t>0&&r(l)?t>1?baseFlatten(l,t-1,r,n,i):arrayPush(i,l):n||(i[i.length]=l)}return i}function baseForOwn(e,t){return e&&ir(e,t,keys)}function baseForOwnRight(e,t){return e&&or(e,t,keys)}function baseFunctions(e,t){return arrayFilter(t,function(t){return isFunction(e[t])})}function baseGet(e,t){t=isKey(t,e)?[t]:castPath(t);for(var r=0,n=t.length;null!=e&&n>r;)e=e[toKey(t[r++])];return r&&r==n?e:o}function baseGetAllKeys(e,t,r){var n=t(e);return Yr(e)?n:arrayPush(n,r(e))}function baseGt(e,t){return e>t}function baseHas(e,t){return null!=e&&(Xe.call(e,t)||"object"==typeof e&&t in e&&null===getPrototype(e))}function baseHasIn(e,t){return null!=e&&t in Object(e)}function baseInRange(e,t,r){return e>=bt(t,r)&&e<yt(t,r)}function baseIntersection(e,t,r){for(var n=r?arrayIncludesWith:arrayIncludes,i=e[0].length,a=e.length,l=a,s=Array(a),u=1/0,c=[];l--;){var f=e[l];l&&t&&(f=arrayMap(f,baseUnary(t))),u=bt(f.length,u),s[l]=!r&&(t||i>=120&&f.length>=120)?new SetCache(l&&f):o}f=e[0];var d=-1,p=s[0];e:for(;++d<i&&c.length<u;){var h=f[d],g=t?t(h):h;if(h=r||0!==h?h:0,!(p?cacheHas(p,g):n(c,g,r))){for(l=a;--l;){var v=s[l];if(!(v?cacheHas(v,g):n(e[l],g,r)))continue e}p&&p.push(g),c.push(h)}}return c}function baseInverter(e,t,r,n){return baseForOwn(e,function(e,i,o){t(n,r(e),i,o)}),n}function baseInvoke(e,t,r){isKey(t,e)||(t=castPath(t),e=parent(e,t),t=last(t));var n=null==e?e:e[toKey(t)];return null==n?o:apply(n,e,r)}function baseIsEqual(e,t,r,n,i){return e===t?!0:null==e||null==t||!isObject(e)&&!isObjectLike(t)?e!==e&&t!==t:baseIsEqualDeep(e,t,baseIsEqual,r,n,i)}function baseIsEqualDeep(e,t,r,n,i,o){var a=Yr(e),l=Yr(t),s=j,u=j;a||(s=getTag(e),s=s==N?K:s),l||(u=getTag(t),u=u==N?K:u);var c=s==K&&!isHostObject(e),f=u==K&&!isHostObject(t),d=s==u;if(d&&!c)return o||(o=new Stack),a||isTypedArray(e)?equalArrays(e,t,r,n,i,o):equalByTag(e,t,s,r,n,i,o);if(!(i&C)){var p=c&&Xe.call(e,"__wrapped__"),h=f&&Xe.call(t,"__wrapped__");if(p||h){var g=p?e.value():e,v=h?t.value():t;return o||(o=new Stack),r(g,v,n,i,o)}}return d?(o||(o=new Stack),equalObjects(e,t,r,n,i,o)):!1}function baseIsMatch(e,t,r,n){var i=r.length,a=i,l=!n;if(null==e)return!a;for(e=Object(e);i--;){var s=r[i];if(l&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=r[i];var u=s[0],c=e[u],f=s[1];if(l&&s[2]){if(c===o&&!(u in e))return!1}else{var d=new Stack;if(n)var p=n(c,f,u,e,t,d);if(!(p===o?baseIsEqual(f,c,n,w|C,d):p))return!1}}return!0}function baseIsNative(e){if(!isObject(e)||isMasked(e))return!1;var t=isFunction(e)||isHostObject(e)?et:Ee;return t.test(toSource(e))}function baseIteratee(e){return"function"==typeof e?e:null==e?identity:"object"==typeof e?Yr(e)?baseMatchesProperty(e[0],e[1]):baseMatches(e):property(e)}function baseKeys(e){return mt(Object(e))}function baseKeysIn(e){e=null==e?e:Object(e);var t=[];for(var r in e)t.push(r);return t}function baseLt(e,t){return t>e}function baseMap(e,t){var r=-1,n=isArrayLike(e)?Array(e.length):[];return rr(e,function(e,i,o){n[++r]=t(e,i,o)}),n}function baseMatches(e){var t=getMatchData(e);return 1==t.length&&t[0][2]?matchesStrictComparable(t[0][0],t[0][1]):function(r){return r===e||baseIsMatch(r,e,t)}}function baseMatchesProperty(e,t){return isKey(e)&&isStrictComparable(t)?matchesStrictComparable(toKey(e),t):function(r){var n=get(r,e);return n===o&&n===t?hasIn(r,e):baseIsEqual(t,n,o,w|C)}}function baseMerge(e,t,r,n,i){if(e!==t){if(!Yr(t)&&!isTypedArray(t))var a=keysIn(t);arrayEach(a||t,function(l,s){if(a&&(s=l,l=t[s]),isObject(l))i||(i=new Stack),baseMergeDeep(e,t,s,r,baseMerge,n,i);else{var u=n?n(e[s],l,s+"",e,t,i):o;u===o&&(u=l),assignMergeValue(e,s,u)}})}}function baseMergeDeep(e,t,r,n,i,a,l){var s=e[r],u=t[r],c=l.get(u);if(c)return void assignMergeValue(e,r,c);var f=a?a(s,u,r+"",e,t,l):o,d=f===o;d&&(f=u,Yr(u)||isTypedArray(u)?Yr(s)?f=s:isArrayLikeObject(s)?f=copyArray(s):(d=!1,f=baseClone(u,!0)):isPlainObject(u)||isArguments(u)?isArguments(s)?f=toPlainObject(s):!isObject(s)||n&&isFunction(s)?(d=!1,f=baseClone(u,!0)):f=s:d=!1),l.set(u,f),d&&i(f,u,n,a,l),l["delete"](u),assignMergeValue(e,r,f)}function baseNth(e,t){var r=e.length;if(r)return t+=0>t?r:0,isIndex(t,r)?e[t]:o}function baseOrderBy(e,t,r){var n=-1;t=arrayMap(t.length?t:[identity],baseUnary(getIteratee()));var i=baseMap(e,function(e,r,i){var o=arrayMap(t,function(t){return t(e)});return{criteria:o,index:++n,value:e}});return baseSortBy(i,function(e,t){return compareMultiple(e,t,r)})}function basePick(e,t){return e=Object(e),arrayReduce(t,function(t,r){return r in e&&(t[r]=e[r]),t},{})}function basePickBy(e,t){for(var r=-1,n=getAllKeysIn(e),i=n.length,o={};++r<i;){var a=n[r],l=e[a];t(l,a)&&(o[a]=l)}return o}function baseProperty(e){return function(t){return null==t?o:t[e]}}function basePropertyDeep(e){return function(t){return baseGet(t,e)}}function basePullAll(e,t,r,n){var i=n?baseIndexOfWith:baseIndexOf,o=-1,a=t.length,l=e;for(e===t&&(t=copyArray(t)),r&&(l=arrayMap(e,baseUnary(r)));++o<a;)for(var s=0,u=t[o],c=r?r(u):u;(s=i(l,c,s,n))>-1;)l!==e&&ct.call(l,s,1),ct.call(e,s,1);return e}function basePullAt(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;if(isIndex(i))ct.call(e,i,1);else if(isKey(i,e))delete e[toKey(i)];else{var a=castPath(i),l=parent(e,a);null!=l&&delete l[toKey(last(a))]}}}return e}function baseRandom(e,t){return e+pt(wt()*(t-e+1))}function baseRange(e,t,r,n){for(var i=-1,o=yt(dt((t-e)/(r||1)),0),a=Array(o);o--;)a[n?o:++i]=e,e+=r;return a}function baseRepeat(e,t){var r="";if(!e||1>t||t>T)return r;do t%2&&(r+=e),t=pt(t/2),t&&(e+=e);while(t);return r}function baseSet(e,t,r,n){t=isKey(t,e)?[t]:castPath(t);for(var i=-1,a=t.length,l=a-1,s=e;null!=s&&++i<a;){var u=toKey(t[i]);if(isObject(s)){var c=r;if(i!=l){var f=s[u];c=n?n(f,u,s):o,c===o&&(c=null==f?isIndex(t[i+1])?[]:{}:f)}assignValue(s,u,c)}s=s[u]}return e}function baseSlice(e,t,r){var n=-1,i=e.length;0>t&&(t=-t>i?0:i+t),r=r>i?i:r,0>r&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}function baseSome(e,t){var r;return rr(e,function(e,n,i){return r=t(e,n,i),!r}),!!r}function baseSortedIndex(e,t,r){var n=0,i=e?e.length:n;if("number"==typeof t&&t===t&&E>=i){for(;i>n;){var o=n+i>>>1,a=e[o];null!==a&&!isSymbol(a)&&(r?t>=a:t>a)?n=o+1:i=o}return i}return baseSortedIndexBy(e,t,identity,r)}function baseSortedIndexBy(e,t,r,n){t=r(t);for(var i=0,a=e?e.length:0,l=t!==t,s=null===t,u=isSymbol(t),c=t===o;a>i;){var f=pt((i+a)/2),d=r(e[f]),p=d!==o,h=null===d,g=d===d,v=isSymbol(d);if(l)var m=n||g;else m=c?g&&(n||p):s?g&&p&&(n||!h):u?g&&p&&!h&&(n||!v):h||v?!1:n?t>=d:t>d;m?i=f+1:a=f}return bt(a,F)}function baseSortedUniq(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r],l=t?t(a):a;if(!r||!eq(l,s)){var s=l;o[i++]=0===a?0:a}}return o}function baseToNumber(e){return"number"==typeof e?e:isSymbol(e)?R:+e}function baseToString(e){if("string"==typeof e)return e;if(isSymbol(e))return tr?tr.call(e):"";var t=e+"";return"0"==t&&1/e==-A?"-0":t}function baseUniq(e,t,r){var n=-1,i=arrayIncludes,o=e.length,a=!0,s=[],u=s;if(r)a=!1,i=arrayIncludesWith;else if(o>=l){var c=t?null:lr(e);if(c)return setToArray(c);a=!1,i=cacheHas,u=new SetCache}else u=t?[]:s;e:for(;++n<o;){var f=e[n],d=t?t(f):f;if(f=r||0!==f?f:0,a&&d===d){for(var p=u.length;p--;)if(u[p]===d)continue e;t&&u.push(d),s.push(f)}else i(u,d,r)||(u!==s&&u.push(d),s.push(f))}return s}function baseUnset(e,t){t=isKey(t,e)?[t]:castPath(t),e=parent(e,t);var r=toKey(last(t));return!(null!=e&&baseHas(e,r))||delete e[r]}function baseUpdate(e,t,r,n){return baseSet(e,t,r(baseGet(e,t)),n)}function baseWhile(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?baseSlice(e,n?0:o,n?o+1:i):baseSlice(e,n?o+1:0,n?i:o)}function baseWrapperValue(e,t){var r=e;return r instanceof LazyWrapper&&(r=r.value()),arrayReduce(t,function(e,t){return t.func.apply(t.thisArg,arrayPush([e],t.args))},r)}function baseXor(e,t,r){for(var n=-1,i=e.length;++n<i;)var o=o?arrayPush(baseDifference(o,e[n],t,r),baseDifference(e[n],o,t,r)):e[n];return o&&o.length?baseUniq(o,t,r):[]}function baseZipObject(e,t,r){for(var n=-1,i=e.length,a=t.length,l={};++n<i;){var s=a>n?t[n]:o;r(l,e[n],s)}return l}function castArrayLikeObject(e){return isArrayLikeObject(e)?e:[]}function castFunction(e){return"function"==typeof e?e:identity}function castPath(e){return Yr(e)?e:pr(e)}function castSlice(e,t,r){var n=e.length;return r=r===o?n:r,!t&&r>=n?e:baseSlice(e,t,r)}function cloneBuffer(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}function cloneArrayBuffer(e){var t=new e.constructor(e.byteLength);return new it(t).set(new it(e)),t}function cloneDataView(e,t){var r=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function cloneMap(e,t,r){var n=t?r(mapToArray(e),!0):mapToArray(e);return arrayReduce(n,addMapEntry,new e.constructor)}function cloneRegExp(e){var t=new e.constructor(e.source,De.exec(e));return t.lastIndex=e.lastIndex,t}function cloneSet(e,t,r){var n=t?r(setToArray(e),!0):setToArray(e);return arrayReduce(n,addSetEntry,new e.constructor)}function cloneSymbol(e){return er?Object(er.call(e)):{}}function cloneTypedArray(e,t){var r=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function compareAscending(e,t){if(e!==t){var r=e!==o,n=null===e,i=e===e,a=isSymbol(e),l=t!==o,s=null===t,u=t===t,c=isSymbol(t);if(!s&&!c&&!a&&e>t||a&&l&&u&&!s&&!c||n&&l&&u||!r&&u||!i)return 1;if(!n&&!a&&!c&&t>e||c&&r&&i&&!n&&!a||s&&r&&i||!l&&i||!u)return-1}return 0}function compareMultiple(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,a=i.length,l=r.length;++n<a;){var s=compareAscending(i[n],o[n]);if(s){if(n>=l)return s;var u=r[n];return s*("desc"==u?-1:1)}}return e.index-t.index}function composeArgs(e,t,r,n){for(var i=-1,o=e.length,a=r.length,l=-1,s=t.length,u=yt(o-a,0),c=Array(s+u),f=!n;++l<s;)c[l]=t[l];for(;++i<a;)(f||o>i)&&(c[r[i]]=e[i]);for(;u--;)c[l++]=e[i++];return c}function composeArgsRight(e,t,r,n){for(var i=-1,o=e.length,a=-1,l=r.length,s=-1,u=t.length,c=yt(o-l,0),f=Array(c+u),d=!n;++i<c;)f[i]=e[i];for(var p=i;++s<u;)f[p+s]=t[s];for(;++a<l;)(d||o>i)&&(f[p+r[a]]=e[i++]);return f}function copyArray(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function copyObject(e,t,r,n){r||(r={});for(var i=-1,o=t.length;++i<o;){var a=t[i],l=n?n(r[a],e[a],a,r,e):e[a];assignValue(r,a,l)}return r}function copySymbols(e,t){return copyObject(e,getSymbols(e),t)}function createAggregator(e,t){return function(r,n){var i=Yr(r)?arrayAggregator:baseAggregator,o=t?t():{};return i(r,e,getIteratee(n),o);
}}function createAssigner(e){return rest(function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:o,l=i>2?r[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,l&&isIterateeCall(r[0],r[1],l)&&(a=3>i?o:a,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,a)}return t})}function createBaseEach(e,t){return function(r,n){if(null==r)return r;if(!isArrayLike(r))return e(r,n);for(var i=r.length,o=t?i:-1,a=Object(r);(t?o--:++o<i)&&n(a[o],o,a)!==!1;);return r}}function createBaseFor(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),l=a.length;l--;){var s=a[e?l:++i];if(r(o[s],s,o)===!1)break}return t}}function createBaseWrapper(e,t,r){function wrapper(){var t=this&&this!==Ut&&this instanceof wrapper?i:e;return t.apply(n?r:this,arguments)}var n=t&f,i=createCtorWrapper(e);return wrapper}function createCaseFirst(e){return function(t){t=toString(t);var r=It.test(t)?stringToArray(t):o,n=r?r[0]:t.charAt(0),i=r?castSlice(r,1).join(""):t.slice(1);return n[e]()+i}}function createCompounder(e){return function(t){return arrayReduce(words(deburr(t).replace(kt,"")),e,"")}}function createCtorWrapper(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=baseCreate(e.prototype),n=e.apply(r,t);return isObject(n)?n:r}}function createCurryWrapper(e,t,r){function wrapper(){for(var i=arguments.length,a=Array(i),l=i,s=getHolder(wrapper);l--;)a[l]=arguments[l];var u=3>i&&a[0]!==s&&a[i-1]!==s?[]:replaceHolders(a,s);if(i-=u.length,r>i)return createRecurryWrapper(e,t,createHybridWrapper,wrapper.placeholder,o,a,u,o,o,r-i);var c=this&&this!==Ut&&this instanceof wrapper?n:e;return apply(c,this,a)}var n=createCtorWrapper(e);return wrapper}function createFind(e){return function(t,r,n){var i=Object(t);if(r=getIteratee(r,3),!isArrayLike(t))var a=keys(t);var l=e(a||t,function(e,t){return a&&(t=e,e=i[t]),r(e,t,i)},n);return l>-1?t[a?a[l]:l]:o}}function createFlow(e){return rest(function(t){t=baseFlatten(t,1);var r=t.length,n=r,i=LodashWrapper.prototype.thru;for(e&&t.reverse();n--;){var a=t[n];if("function"!=typeof a)throw new qe(s);if(i&&!u&&"wrapper"==getFuncName(a))var u=new LodashWrapper([],!0)}for(n=u?n:r;++n<r;){a=t[n];var c=getFuncName(a),f="wrapper"==c?sr(a):o;u=f&&isLaziable(f[0])&&f[1]==(y|h|v|b)&&!f[4].length&&1==f[9]?u[getFuncName(f[0])].apply(u,f[3]):1==a.length&&isLaziable(a)?u[c]():u.thru(a)}return function(){var e=arguments,n=e[0];if(u&&1==e.length&&Yr(n)&&n.length>=l)return u.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}})}function createHybridWrapper(e,t,r,n,i,a,l,s,u,c){function wrapper(){for(var o=arguments.length,f=Array(o),d=o;d--;)f[d]=arguments[d];if(b)var h=getHolder(wrapper),g=countHolders(f,h);if(n&&(f=composeArgs(f,n,i,b)),a&&(f=composeArgsRight(f,a,l,b)),o-=g,b&&c>o){var y=replaceHolders(f,h);return createRecurryWrapper(e,t,createHybridWrapper,wrapper.placeholder,r,f,y,s,u,c-o)}var x=v?r:this,_=m?x[e]:e;return o=f.length,s?f=reorder(f,s):w&&o>1&&f.reverse(),p&&o>u&&(f.length=u),this&&this!==Ut&&this instanceof wrapper&&(_=C||createCtorWrapper(_)),_.apply(x,f)}var p=t&y,v=t&f,m=t&d,b=t&(h|g),w=t&x,C=m?o:createCtorWrapper(e);return wrapper}function createInverter(e,t){return function(r,n){return baseInverter(r,e,t(n),{})}}function createMathOperation(e){return function(t,r){var n;if(t===o&&r===o)return 0;if(t!==o&&(n=t),r!==o){if(n===o)return r;"string"==typeof t||"string"==typeof r?(t=baseToString(t),r=baseToString(r)):(t=baseToNumber(t),r=baseToNumber(r)),n=e(t,r)}return n}}function createOver(e){return rest(function(t){return t=1==t.length&&Yr(t[0])?arrayMap(t[0],baseUnary(getIteratee())):arrayMap(baseFlatten(t,1,isFlattenableIteratee),baseUnary(getIteratee())),rest(function(r){var n=this;return e(t,function(e){return apply(e,n,r)})})})}function createPadding(e,t){t=t===o?" ":baseToString(t);var r=t.length;if(2>r)return r?baseRepeat(t,e):t;var n=baseRepeat(t,dt(e/stringSize(t)));return It.test(t)?castSlice(stringToArray(n),0,e).join(""):n.slice(0,e)}function createPartialWrapper(e,t,r,n){function wrapper(){for(var t=-1,a=arguments.length,l=-1,s=n.length,u=Array(s+a),c=this&&this!==Ut&&this instanceof wrapper?o:e;++l<s;)u[l]=n[l];for(;a--;)u[l++]=arguments[++t];return apply(c,i?r:this,u)}var i=t&f,o=createCtorWrapper(e);return wrapper}function createRange(e){return function(t,r,n){return n&&"number"!=typeof n&&isIterateeCall(t,r,n)&&(r=n=o),t=toNumber(t),t=t===t?t:0,r===o?(r=t,t=0):r=toNumber(r)||0,n=n===o?r>t?1:-1:toNumber(n)||0,baseRange(t,r,n,e)}}function createRelationalOperation(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=toNumber(t),r=toNumber(r)),e(t,r)}}function createRecurryWrapper(e,t,r,n,i,a,l,s,u,c){var g=t&h,y=g?l:o,b=g?o:l,x=g?a:o,w=g?o:a;t|=g?v:m,t&=~(g?m:v),t&p||(t&=~(f|d));var C=[e,t,i,x,y,w,b,s,u,c],_=r.apply(o,C);return isLaziable(e)&&dr(_,C),_.placeholder=n,_}function createRound(e){var t=n[e];return function(e,r){if(e=toNumber(e),r=bt(toInteger(r),292)){var n=(toString(e)+"e").split("e"),i=t(n[0]+"e"+(+n[1]+r));return n=(toString(i)+"e").split("e"),+(n[0]+"e"+(+n[1]-r))}return t(e)}}function createToPairs(e){return function(t){var r=getTag(t);return r==V?mapToArray(t):r==X?setToPairs(t):baseToPairs(t,e(t))}}function createWrapper(e,t,r,n,i,a,l,u){var c=t&d;if(!c&&"function"!=typeof e)throw new qe(s);var p=n?n.length:0;if(p||(t&=~(v|m),n=i=o),l=l===o?l:yt(toInteger(l),0),u=u===o?u:toInteger(u),p-=i?i.length:0,t&m){var y=n,b=i;n=i=o}var x=c?o:sr(e),w=[e,t,r,n,i,y,b,a,l,u];if(x&&mergeData(w,x),e=w[0],t=w[1],r=w[2],n=w[3],i=w[4],u=w[9]=null==w[9]?c?0:e.length:yt(w[9]-p,0),!u&&t&(h|g)&&(t&=~(h|g)),t&&t!=f)C=t==h||t==g?createCurryWrapper(e,t,u):t!=v&&t!=(f|v)||i.length?createHybridWrapper.apply(o,w):createPartialWrapper(e,t,r,n);else var C=createBaseWrapper(e,t,r);var _=x?ar:dr;return _(C,w)}function equalArrays(e,t,r,n,i,a){var l=i&C,s=e.length,u=t.length;if(s!=u&&!(l&&u>s))return!1;var c=a.get(e);if(c)return c==t;var f=-1,d=!0,p=i&w?new SetCache:o;for(a.set(e,t);++f<s;){var h=e[f],g=t[f];if(n)var v=l?n(g,h,f,t,e,a):n(h,g,f,e,t,a);if(v!==o){if(v)continue;d=!1;break}if(p){if(!arraySome(t,function(e,t){return p.has(t)||h!==e&&!r(h,e,n,i,a)?void 0:p.add(t)})){d=!1;break}}else if(h!==g&&!r(h,g,n,i,a)){d=!1;break}}return a["delete"](e),d}function equalByTag(e,t,r,n,i,o,a){switch(r){case te:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ee:return!(e.byteLength!=t.byteLength||!n(new it(e),new it(t)));case W:case H:return+e==+t;case B:return e.name==t.name&&e.message==t.message;case G:return e!=+e?t!=+t:e==+t;case $:case Y:return e==t+"";case V:var l=mapToArray;case X:var s=o&C;if(l||(l=setToArray),e.size!=t.size&&!s)return!1;var u=a.get(e);return u?u==t:(o|=w,a.set(e,t),equalArrays(l(e),l(t),n,i,o,a));case Z:if(er)return er.call(e)==er.call(t)}return!1}function equalObjects(e,t,r,n,i,a){var l=i&C,s=keys(e),u=s.length,c=keys(t),f=c.length;if(u!=f&&!l)return!1;for(var d=u;d--;){var p=s[d];if(!(l?p in t:baseHas(t,p)))return!1}var h=a.get(e);if(h)return h==t;var g=!0;a.set(e,t);for(var v=l;++d<u;){p=s[d];var m=e[p],y=t[p];if(n)var b=l?n(y,m,p,t,e,a):n(m,y,p,e,t,a);if(!(b===o?m===y||r(m,y,n,i,a):b)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var x=e.constructor,w=t.constructor;x!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w)&&(g=!1)}return a["delete"](e),g}function getAllKeys(e){return baseGetAllKeys(e,keys,getSymbols)}function getAllKeysIn(e){return baseGetAllKeys(e,keysIn,cr)}function getFuncName(e){for(var t=e.name+"",r=Gt[t],n=Xe.call(Gt,t)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function getHolder(e){var t=Xe.call(lodash,"placeholder")?lodash:e;return t.placeholder}function getIteratee(){var e=lodash.iteratee||iteratee;return e=e===iteratee?baseIteratee:e,arguments.length?e(arguments[0],arguments[1]):e}function getMapData(e,t){var r=e.__data__;return isKeyable(t)?r["string"==typeof t?"string":"hash"]:r.map}function getMatchData(e){for(var t=keys(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,isStrictComparable(i)]}return t}function getNative(e,t){var r=getValue(e,t);return baseIsNative(r)?r:o}function getPrototype(e){return ht(Object(e))}function getSymbols(e){return at(Object(e))}function getTag(e){return Je.call(e)}function getView(e,t,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=bt(t,e+a);break;case"takeRight":e=yt(e,t-a)}}return{start:e,end:t}}function hasPath(e,t,r){t=isKey(t,e)?[t]:castPath(t);for(var n,i=-1,o=t.length;++i<o;){var a=toKey(t[i]);if(!(n=null!=e&&r(e,a)))break;e=e[a]}if(n)return n;var o=e?e.length:0;return!!o&&isLength(o)&&isIndex(a,o)&&(Yr(e)||isString(e)||isArguments(e))}function initCloneArray(e){var t=e.length,r=e.constructor(t);return t&&"string"==typeof e[0]&&Xe.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function initCloneObject(e){return"function"!=typeof e.constructor||isPrototype(e)?{}:baseCreate(getPrototype(e))}function initCloneByTag(e,t,r,n){var i=e.constructor;switch(t){case ee:return cloneArrayBuffer(e);case W:case H:return new i(+e);case te:return cloneDataView(e,n);case re:case ne:case ie:case oe:case ae:case le:case se:case ue:case ce:return cloneTypedArray(e,n);case V:return cloneMap(e,n,r);case G:case Y:return new i(e);case $:return cloneRegExp(e);case X:return cloneSet(e,n,r);case Z:return cloneSymbol(e)}}function indexKeys(e){var t=e?e.length:o;return isLength(t)&&(Yr(e)||isString(e)||isArguments(e))?baseTimes(t,String):null}function isFlattenable(e){return Yr(e)||isArguments(e)}function isFlattenableIteratee(e){return Yr(e)&&!(2==e.length&&!isFunction(e[0]))}function isIndex(e,t){return t=null==t?T:t,!!t&&("number"==typeof e||je.test(e))&&e>-1&&e%1==0&&t>e}function isIterateeCall(e,t,r){if(!isObject(r))return!1;var n=typeof t;return("number"==n?isArrayLike(r)&&isIndex(t,r.length):"string"==n&&t in r)?eq(r[t],e):!1}function isKey(e,t){if(Yr(e))return!1;var r=typeof e;return"number"==r||"symbol"==r||"boolean"==r||null==e||isSymbol(e)?!0:Ce.test(e)||!we.test(e)||null!=t&&e in Object(t)}function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function isLaziable(e){var t=getFuncName(e),r=lodash[t];if("function"!=typeof r||!(t in LazyWrapper.prototype))return!1;if(e===r)return!0;var n=sr(r);return!!n&&e===n[0]}function isMasked(e){return!!Ue&&Ue in e}function isPrototype(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||Ve;return e===r}function isStrictComparable(e){return e===e&&!isObject(e)}function matchesStrictComparable(e,t){return function(r){return null==r?!1:r[e]===t&&(t!==o||e in Object(r))}}function mergeData(e,t){var r=e[1],n=t[1],i=r|n,o=(f|d|y)>i,a=n==y&&r==h||n==y&&r==b&&e[7].length<=t[8]||n==(y|b)&&t[7].length<=t[8]&&r==h;if(!o&&!a)return e;n&f&&(e[2]=t[2],i|=r&f?0:p);var l=t[3];if(l){var s=e[3];e[3]=s?composeArgs(s,l,t[4]):l,e[4]=s?replaceHolders(e[3],c):t[4]}return l=t[5],l&&(s=e[5],e[5]=s?composeArgsRight(s,l,t[6]):l,e[6]=s?replaceHolders(e[5],c):t[6]),l=t[7],l&&(e[7]=l),n&y&&(e[8]=null==e[8]?t[8]:bt(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function mergeDefaults(e,t,r,n,i,a){return isObject(e)&&isObject(t)&&baseMerge(e,t,o,mergeDefaults,a.set(t,e)),e}function parent(e,t){return 1==t.length?e:baseGet(e,baseSlice(t,0,-1))}function reorder(e,t){for(var r=e.length,n=bt(t.length,r),i=copyArray(e);n--;){var a=t[n];e[n]=isIndex(a,r)?i[a]:o}return e}function toKey(e){if("string"==typeof e||isSymbol(e))return e;var t=e+"";return"0"==t&&1/e==-A?"-0":t}function toSource(e){if(null!=e){try{return $e.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function wrapperClone(e){if(e instanceof LazyWrapper)return e.clone();var t=new LodashWrapper(e.__wrapped__,e.__chain__);return t.__actions__=copyArray(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function chunk(e,t,r){t=(r?isIterateeCall(e,t,r):t===o)?1:yt(toInteger(t),0);var n=e?e.length:0;if(!n||1>t)return[];for(var i=0,a=0,l=Array(dt(n/t));n>i;)l[a++]=baseSlice(e,i,i+=t);return l}function compact(e){for(var t=-1,r=e?e.length:0,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i}function concat(){for(var e=arguments.length,t=Array(e?e-1:0),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return e?arrayPush(Yr(r)?copyArray(r):[r],baseFlatten(t,1)):[]}function drop(e,t,r){var n=e?e.length:0;return n?(t=r||t===o?1:toInteger(t),baseSlice(e,0>t?0:t,n)):[]}function dropRight(e,t,r){var n=e?e.length:0;return n?(t=r||t===o?1:toInteger(t),t=n-t,baseSlice(e,0,0>t?0:t)):[]}function dropRightWhile(e,t){return e&&e.length?baseWhile(e,getIteratee(t,3),!0,!0):[]}function dropWhile(e,t){return e&&e.length?baseWhile(e,getIteratee(t,3),!0):[]}function fill(e,t,r,n){var i=e?e.length:0;return i?(r&&"number"!=typeof r&&isIterateeCall(e,t,r)&&(r=0,n=i),baseFill(e,t,r,n)):[]}function findIndex(e,t,r){var n=e?e.length:0;if(!n)return-1;var i=null==r?0:toInteger(r);return 0>i&&(i=yt(n+i,0)),baseFindIndex(e,getIteratee(t,3),i)}function findLastIndex(e,t,r){var n=e?e.length:0;if(!n)return-1;var i=n-1;return r!==o&&(i=toInteger(r),i=0>r?yt(n+i,0):bt(i,n-1)),baseFindIndex(e,getIteratee(t,3),i,!0)}function flatten(e){var t=e?e.length:0;return t?baseFlatten(e,1):[]}function flattenDeep(e){var t=e?e.length:0;return t?baseFlatten(e,A):[]}function flattenDepth(e,t){var r=e?e.length:0;return r?(t=t===o?1:toInteger(t),baseFlatten(e,t)):[]}function fromPairs(e){for(var t=-1,r=e?e.length:0,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n}function head(e){return e&&e.length?e[0]:o}function indexOf(e,t,r){var n=e?e.length:0;if(!n)return-1;var i=null==r?0:toInteger(r);return 0>i&&(i=yt(n+i,0)),baseIndexOf(e,t,i)}function initial(e){return dropRight(e,1)}function join(e,t){return e?vt.call(e,t):""}function last(e){var t=e?e.length:0;return t?e[t-1]:o}function lastIndexOf(e,t,r){var n=e?e.length:0;if(!n)return-1;var i=n;if(r!==o&&(i=toInteger(r),i=(0>i?yt(n+i,0):bt(i,n-1))+1),t!==t)return indexOfNaN(e,i-1,!0);for(;i--;)if(e[i]===t)return i;return-1}function nth(e,t){return e&&e.length?baseNth(e,toInteger(t)):o}function pullAll(e,t){return e&&e.length&&t&&t.length?basePullAll(e,t):e}function pullAllBy(e,t,r){return e&&e.length&&t&&t.length?basePullAll(e,t,getIteratee(r)):e}function pullAllWith(e,t,r){return e&&e.length&&t&&t.length?basePullAll(e,t,o,r):e}function remove(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;for(t=getIteratee(t,3);++n<o;){var a=e[n];t(a,n,e)&&(r.push(a),i.push(n))}return basePullAt(e,i),r}function reverse(e){return e?_t.call(e):e}function slice(e,t,r){var n=e?e.length:0;return n?(r&&"number"!=typeof r&&isIterateeCall(e,t,r)?(t=0,r=n):(t=null==t?0:toInteger(t),r=r===o?n:toInteger(r)),baseSlice(e,t,r)):[]}function sortedIndex(e,t){return baseSortedIndex(e,t)}function sortedIndexBy(e,t,r){return baseSortedIndexBy(e,t,getIteratee(r))}function sortedIndexOf(e,t){var r=e?e.length:0;if(r){var n=baseSortedIndex(e,t);if(r>n&&eq(e[n],t))return n}return-1}function sortedLastIndex(e,t){return baseSortedIndex(e,t,!0)}function sortedLastIndexBy(e,t,r){return baseSortedIndexBy(e,t,getIteratee(r),!0)}function sortedLastIndexOf(e,t){var r=e?e.length:0;if(r){var n=baseSortedIndex(e,t,!0)-1;if(eq(e[n],t))return n}return-1}function sortedUniq(e){return e&&e.length?baseSortedUniq(e):[]}function sortedUniqBy(e,t){return e&&e.length?baseSortedUniq(e,getIteratee(t)):[]}function tail(e){return drop(e,1)}function take(e,t,r){return e&&e.length?(t=r||t===o?1:toInteger(t),baseSlice(e,0,0>t?0:t)):[]}function takeRight(e,t,r){var n=e?e.length:0;return n?(t=r||t===o?1:toInteger(t),t=n-t,baseSlice(e,0>t?0:t,n)):[]}function takeRightWhile(e,t){return e&&e.length?baseWhile(e,getIteratee(t,3),!1,!0):[]}function takeWhile(e,t){return e&&e.length?baseWhile(e,getIteratee(t,3)):[]}function uniq(e){return e&&e.length?baseUniq(e):[]}function uniqBy(e,t){return e&&e.length?baseUniq(e,getIteratee(t)):[]}function uniqWith(e,t){return e&&e.length?baseUniq(e,o,t):[]}function unzip(e){if(!e||!e.length)return[];var t=0;return e=arrayFilter(e,function(e){return isArrayLikeObject(e)?(t=yt(e.length,t),!0):void 0}),baseTimes(t,function(t){return arrayMap(e,baseProperty(t))})}function unzipWith(e,t){if(!e||!e.length)return[];var r=unzip(e);return null==t?r:arrayMap(r,function(e){return apply(t,o,e)})}function zipObject(e,t){return baseZipObject(e||[],t||[],assignValue)}function zipObjectDeep(e,t){return baseZipObject(e||[],t||[],baseSet)}function chain(e){var t=lodash(e);return t.__chain__=!0,t}function tap(e,t){return t(e),e}function thru(e,t){return t(e)}function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperNext(){this.__values__===o&&(this.__values__=toArray(this.value()));var e=this.__index__>=this.__values__.length,t=e?o:this.__values__[this.__index__++];return{done:e,value:t}}function wrapperToIterator(){return this}function wrapperPlant(e){for(var t,r=this;r instanceof baseLodash;){var n=wrapperClone(r);n.__index__=0,n.__values__=o,t?i.__wrapped__=n:t=n;var i=n;r=r.__wrapped__}return i.__wrapped__=e,t}function wrapperReverse(){var e=this.__wrapped__;if(e instanceof LazyWrapper){var t=e;return this.__actions__.length&&(t=new LazyWrapper(this)),t=t.reverse(),t.__actions__.push({func:thru,args:[reverse],thisArg:o}),new LodashWrapper(t,this.__chain__)}return this.thru(reverse)}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}function every(e,t,r){var n=Yr(e)?arrayEvery:baseEvery;return r&&isIterateeCall(e,t,r)&&(t=o),n(e,getIteratee(t,3))}function filter(e,t){var r=Yr(e)?arrayFilter:baseFilter;return r(e,getIteratee(t,3))}function flatMap(e,t){return baseFlatten(map(e,t),1)}function flatMapDeep(e,t){return baseFlatten(map(e,t),A)}function flatMapDepth(e,t,r){return r=r===o?1:toInteger(r),baseFlatten(map(e,t),r)}function forEach(e,t){var r=Yr(e)?arrayEach:rr;return r(e,getIteratee(t,3))}function forEachRight(e,t){var r=Yr(e)?arrayEachRight:nr;return r(e,getIteratee(t,3))}function includes(e,t,r,n){e=isArrayLike(e)?e:values(e),r=r&&!n?toInteger(r):0;var i=e.length;return 0>r&&(r=yt(i+r,0)),isString(e)?i>=r&&e.indexOf(t,r)>-1:!!i&&baseIndexOf(e,t,r)>-1}function map(e,t){var r=Yr(e)?arrayMap:baseMap;return r(e,getIteratee(t,3))}function orderBy(e,t,r,n){return null==e?[]:(Yr(t)||(t=null==t?[]:[t]),r=n?o:r,Yr(r)||(r=null==r?[]:[r]),baseOrderBy(e,t,r))}function reduce(e,t,r){var n=Yr(e)?arrayReduce:baseReduce,i=arguments.length<3;return n(e,getIteratee(t,4),r,i,rr)}function reduceRight(e,t,r){var n=Yr(e)?arrayReduceRight:baseReduce,i=arguments.length<3;return n(e,getIteratee(t,4),r,i,nr)}function reject(e,t){var r=Yr(e)?arrayFilter:baseFilter;return t=getIteratee(t,3),r(e,function(e,r,n){return!t(e,r,n)})}function sample(e){var t=isArrayLike(e)?e:values(e),r=t.length;return r>0?t[baseRandom(0,r-1)]:o}function sampleSize(e,t,r){var n=-1,i=toArray(e),a=i.length,l=a-1;for(t=(r?isIterateeCall(e,t,r):t===o)?1:baseClamp(toInteger(t),0,a);++n<t;){var s=baseRandom(n,l),u=i[s];i[s]=i[n],i[n]=u}return i.length=t,i}function shuffle(e){return sampleSize(e,P)}function size(e){if(null==e)return 0;if(isArrayLike(e)){var t=e.length;return t&&isString(e)?stringSize(e):t}if(isObjectLike(e)){var r=getTag(e);if(r==V||r==X)return e.size}return keys(e).length}function some(e,t,r){var n=Yr(e)?arraySome:baseSome;return r&&isIterateeCall(e,t,r)&&(t=o),n(e,getIteratee(t,3))}function now(){return t.now()}function after(e,t){if("function"!=typeof t)throw new qe(s);return e=toInteger(e),function(){return--e<1?t.apply(this,arguments):void 0}}function ary(e,t,r){return t=r?o:t,t=e&&null==t?e.length:t,createWrapper(e,y,o,o,o,o,t)}function before(e,t){var r;if("function"!=typeof t)throw new qe(s);return e=toInteger(e),function(){return--e>0&&(r=t.apply(this,arguments)),1>=e&&(t=o),r}}function curry(e,t,r){t=r?o:t;var n=createWrapper(e,h,o,o,o,o,o,t);return n.placeholder=curry.placeholder,n}function curryRight(e,t,r){t=r?o:t;var n=createWrapper(e,g,o,o,o,o,o,t);return n.placeholder=curryRight.placeholder,n}function debounce(e,t,r){function invokeFunc(t){var r=n,a=i;return n=i=o,f=t,l=e.apply(a,r)}function leadingEdge(e){return f=e,u=ft(timerExpired,t),d?invokeFunc(e):l}function remainingWait(e){var r=e-c,n=e-f,i=t-r;return p?bt(i,a-n):i}function shouldInvoke(e){var r=e-c,n=e-f;return c===o||r>=t||0>r||p&&n>=a}function timerExpired(){var e=now();return shouldInvoke(e)?trailingEdge(e):void(u=ft(timerExpired,remainingWait(e)))}function trailingEdge(e){return u=o,h&&n?invokeFunc(e):(n=i=o,l)}function cancel(){f=0,n=c=i=u=o}function flush(){return u===o?l:trailingEdge(now())}function debounced(){var e=now(),r=shouldInvoke(e);if(n=arguments,i=this,c=e,r){if(u===o)return leadingEdge(c);if(p)return u=ft(timerExpired,t),invokeFunc(c)}return u===o&&(u=ft(timerExpired,t)),l}var n,i,a,l,u,c,f=0,d=!1,p=!1,h=!0;if("function"!=typeof e)throw new qe(s);return t=toNumber(t)||0,isObject(r)&&(d=!!r.leading,p="maxWait"in r,a=p?yt(toNumber(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h),debounced.cancel=cancel,debounced.flush=flush,debounced}function flip(e){return createWrapper(e,x)}function memoize(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new qe(s);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(memoize.Cache||MapCache),r}function negate(e){if("function"!=typeof e)throw new qe(s);return function(){return!e.apply(this,arguments)}}function once(e){return before(2,e)}function rest(e,t){if("function"!=typeof e)throw new qe(s);return t=yt(t===o?e.length-1:toInteger(t),0),function(){for(var r=arguments,n=-1,i=yt(r.length-t,0),o=Array(i);++n<i;)o[n]=r[t+n];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,r[0],o);case 2:return e.call(this,r[0],r[1],o)}var a=Array(t+1);for(n=-1;++n<t;)a[n]=r[n];return a[t]=o,apply(e,this,a)}}function spread(e,t){if("function"!=typeof e)throw new qe(s);return t=t===o?0:yt(toInteger(t),0),rest(function(r){var n=r[t],i=castSlice(r,0,t);return n&&arrayPush(i,n),apply(e,this,i)})}function throttle(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new qe(s);return isObject(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),debounce(e,t,{leading:n,maxWait:t,trailing:i})}function unary(e){return ary(e,1)}function wrap(e,t){return t=null==t?identity:t,Gr(t,e)}function castArray(){if(!arguments.length)return[];var e=arguments[0];return Yr(e)?e:[e]}function clone(e){return baseClone(e,!1,!0)}function cloneWith(e,t){return baseClone(e,!1,!0,t)}function cloneDeep(e){return baseClone(e,!0,!0)}function cloneDeepWith(e,t){return baseClone(e,!0,!0,t)}function eq(e,t){return e===t||e!==e&&t!==t}function isArguments(e){return isArrayLikeObject(e)&&Xe.call(e,"callee")&&(!ut.call(e,"callee")||Je.call(e)==N)}function isArrayBuffer(e){return isObjectLike(e)&&Je.call(e)==ee}function isArrayLike(e){return null!=e&&isLength(ur(e))&&!isFunction(e)}function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}function isBoolean(e){return e===!0||e===!1||isObjectLike(e)&&Je.call(e)==W}function isDate(e){return isObjectLike(e)&&Je.call(e)==H}function isElement(e){return!!e&&1===e.nodeType&&isObjectLike(e)&&!isPlainObject(e)}function isEmpty(e){if(isArrayLike(e)&&(Yr(e)||isString(e)||isFunction(e.splice)||isArguments(e)||Zr(e)))return!e.length;if(isObjectLike(e)){var t=getTag(e);if(t==V||t==X)return!e.size}for(var r in e)if(Xe.call(e,r))return!1;return!(Vt&&keys(e).length)}function isEqual(e,t){return baseIsEqual(e,t)}function isEqualWith(e,t,r){r="function"==typeof r?r:o;var n=r?r(e,t):o;return n===o?baseIsEqual(e,t,r):!!n}function isError(e){return isObjectLike(e)?Je.call(e)==B||"string"==typeof e.message&&"string"==typeof e.name:!1}function isFinite(e){return"number"==typeof e&&gt(e)}function isFunction(e){var t=isObject(e)?Je.call(e):"";return t==q||t==z}function isInteger(e){return"number"==typeof e&&e==toInteger(e)}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&T>=e}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function isObjectLike(e){return!!e&&"object"==typeof e}function isMap(e){return isObjectLike(e)&&getTag(e)==V}function isMatch(e,t){return e===t||baseIsMatch(e,t,getMatchData(t))}function isMatchWith(e,t,r){return r="function"==typeof r?r:o,baseIsMatch(e,t,getMatchData(t),r)}function isNaN(e){return isNumber(e)&&e!=+e}function isNative(e){if(fr(e))throw new r("This method is not supported with `core-js`. Try https://github.com/es-shims.");return baseIsNative(e)}function isNull(e){return null===e}function isNil(e){return null==e}function isNumber(e){return"number"==typeof e||isObjectLike(e)&&Je.call(e)==G}function isPlainObject(e){if(!isObjectLike(e)||Je.call(e)!=K||isHostObject(e))return!1;var t=getPrototype(e);if(null===t)return!0;var r=Xe.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&$e.call(r)==Ze}function isRegExp(e){return isObject(e)&&Je.call(e)==$}function isSafeInteger(e){return isInteger(e)&&e>=-T&&T>=e}function isSet(e){return isObjectLike(e)&&getTag(e)==X}function isString(e){return"string"==typeof e||!Yr(e)&&isObjectLike(e)&&Je.call(e)==Y}function isSymbol(e){return"symbol"==typeof e||isObjectLike(e)&&Je.call(e)==Z}function isTypedArray(e){return isObjectLike(e)&&isLength(e.length)&&!!Rt[Je.call(e)]}function isUndefined(e){return e===o}function isWeakMap(e){return isObjectLike(e)&&getTag(e)==J}function isWeakSet(e){return isObjectLike(e)&&Je.call(e)==Q}function toArray(e){if(!e)return[];if(isArrayLike(e))return isString(e)?stringToArray(e):copyArray(e);if(lt&&e[lt])return iteratorToArray(e[lt]());var t=getTag(e),r=t==V?mapToArray:t==X?setToArray:values;return r(e)}function toFinite(e){if(!e)return 0===e?e:0;if(e=toNumber(e),e===A||e===-A){var t=0>e?-1:1;return t*D}return e===e?e:0}function toInteger(e){var t=toFinite(e),r=t%1;return t===t?r?t-r:t:0}function toLength(e){return e?baseClamp(toInteger(e),0,P):0}function toNumber(e){if("number"==typeof e)return e;if(isSymbol(e))return R;if(isObject(e)){var t=isFunction(e.valueOf)?e.valueOf():e;e=isObject(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Le,"");var r=Fe.test(e);return r||Ne.test(e)?Ht(e.slice(2),r?2:8):Pe.test(e)?R:+e}function toPlainObject(e){return copyObject(e,keysIn(e))}function toSafeInteger(e){return baseClamp(toInteger(e),-T,T)}function toString(e){return null==e?"":baseToString(e)}function create(e,t){var r=baseCreate(e);return t?baseAssign(r,t):r}function findKey(e,t){return baseFindKey(e,getIteratee(t,3),baseForOwn)}function findLastKey(e,t){return baseFindKey(e,getIteratee(t,3),baseForOwnRight)}function forIn(e,t){return null==e?e:ir(e,getIteratee(t,3),keysIn)}function forInRight(e,t){return null==e?e:or(e,getIteratee(t,3),keysIn)}function forOwn(e,t){return e&&baseForOwn(e,getIteratee(t,3))}function forOwnRight(e,t){return e&&baseForOwnRight(e,getIteratee(t,3))}function functions(e){return null==e?[]:baseFunctions(e,keys(e))}function functionsIn(e){return null==e?[]:baseFunctions(e,keysIn(e))}function get(e,t,r){var n=null==e?o:baseGet(e,t);return n===o?r:n}function has(e,t){return null!=e&&hasPath(e,t,baseHas)}function hasIn(e,t){return null!=e&&hasPath(e,t,baseHasIn)}function keys(e){var t=isPrototype(e);if(!t&&!isArrayLike(e))return baseKeys(e);var r=indexKeys(e),n=!!r,i=r||[],o=i.length;for(var a in e)!baseHas(e,a)||n&&("length"==a||isIndex(a,o))||t&&"constructor"==a||i.push(a);return i}function keysIn(e){for(var t=-1,r=isPrototype(e),n=baseKeysIn(e),i=n.length,o=indexKeys(e),a=!!o,l=o||[],s=l.length;++t<i;){var u=n[t];a&&("length"==u||isIndex(u,s))||"constructor"==u&&(r||!Xe.call(e,u))||l.push(u)}return l}function mapKeys(e,t){var r={};return t=getIteratee(t,3),baseForOwn(e,function(e,n,i){r[t(e,n,i)]=e}),r}function mapValues(e,t){var r={};return t=getIteratee(t,3),baseForOwn(e,function(e,n,i){r[n]=t(e,n,i)}),r}function omitBy(e,t){return t=getIteratee(t),basePickBy(e,function(e,r){return!t(e,r)})}function pickBy(e,t){return null==e?{}:basePickBy(e,getIteratee(t))}function result(e,t,r){t=isKey(t,e)?[t]:castPath(t);var n=-1,i=t.length;for(i||(e=o,i=1);++n<i;){var a=null==e?o:e[toKey(t[n])];a===o&&(n=i,a=r),e=isFunction(a)?a.call(e):a}return e}function set(e,t,r){return null==e?e:baseSet(e,t,r)}function setWith(e,t,r,n){return n="function"==typeof n?n:o,null==e?e:baseSet(e,t,r,n)}function transform(e,t,r){var n=Yr(e)||isTypedArray(e);if(t=getIteratee(t,4),null==r)if(n||isObject(e)){var i=e.constructor;r=n?Yr(e)?new i:[]:isFunction(i)?baseCreate(getPrototype(e)):{}}else r={};return(n?arrayEach:baseForOwn)(e,function(e,n,i){return t(r,e,n,i)}),r}function unset(e,t){return null==e?!0:baseUnset(e,t)}function update(e,t,r){return null==e?e:baseUpdate(e,t,castFunction(r))}function updateWith(e,t,r,n){return n="function"==typeof n?n:o,null==e?e:baseUpdate(e,t,castFunction(r),n)}function values(e){return e?baseValues(e,keys(e)):[]}function valuesIn(e){return null==e?[]:baseValues(e,keysIn(e))}function clamp(e,t,r){return r===o&&(r=t,t=o),r!==o&&(r=toNumber(r),r=r===r?r:0),t!==o&&(t=toNumber(t),t=t===t?t:0),baseClamp(toNumber(e),t,r)}function inRange(e,t,r){return t=toNumber(t)||0,r===o?(r=t,t=0):r=toNumber(r)||0,e=toNumber(e),baseInRange(e,t,r)}function random(e,t,r){if(r&&"boolean"!=typeof r&&isIterateeCall(e,t,r)&&(t=r=o),r===o&&("boolean"==typeof t?(r=t,t=o):"boolean"==typeof e&&(r=e,e=o)),e===o&&t===o?(e=0,t=1):(e=toNumber(e)||0,t===o?(t=e,e=0):t=toNumber(t)||0),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var i=wt();return bt(e+i*(t-e+Wt("1e-"+((i+"").length-1))),t)}return baseRandom(e,t)}function capitalize(e){return Sn(toString(e).toLowerCase())}function deburr(e){return e=toString(e),e&&e.replace(We,deburrLetter).replace(Lt,"")}function endsWith(e,t,r){e=toString(e),t=baseToString(t);var n=e.length;return r=r===o?n:baseClamp(toInteger(r),0,n),r-=t.length,r>=0&&e.indexOf(t,r)==r}function escape(e){return e=toString(e),e&&me.test(e)?e.replace(ge,escapeHtmlChar):e}function escapeRegExp(e){return e=toString(e),e&&ke.test(e)?e.replace(Se,"\\$&"):e}function pad(e,t,r){e=toString(e),t=toInteger(t);var n=t?stringSize(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return createPadding(pt(i),r)+e+createPadding(dt(i),r)}function padEnd(e,t,r){e=toString(e),t=toInteger(t);var n=t?stringSize(e):0;return t&&t>n?e+createPadding(t-n,r):e}function padStart(e,t,r){e=toString(e),t=toInteger(t);var n=t?stringSize(e):0;return t&&t>n?createPadding(t-n,r)+e:e}function parseInt(e,t,r){return r||null==t?t=0:t&&(t=+t),e=toString(e).replace(Le,""),xt(e,t||(Re.test(e)?16:10))}function repeat(e,t,r){return t=(r?isIterateeCall(e,t,r):t===o)?1:toInteger(t),baseRepeat(toString(e),t)}function replace(){var e=arguments,t=toString(e[0]);return e.length<3?t:Ct.call(t,e[1],e[2])}function split(e,t,r){return r&&"number"!=typeof r&&isIterateeCall(e,t,r)&&(t=r=o),(r=r===o?P:r>>>0)?(e=toString(e),e&&("string"==typeof t||null!=t&&!isRegExp(t))&&(t=baseToString(t),""==t&&It.test(e))?castSlice(stringToArray(e),0,r):St.call(e,t,r)):[]}function startsWith(e,t,r){return e=toString(e),r=baseClamp(toInteger(r),0,e.length),e.lastIndexOf(baseToString(t),r)==r}function template(e,t,r){var n=lodash.templateSettings;r&&isIterateeCall(e,t,r)&&(t=o),e=toString(e),t=rn({},t,n,assignInDefaults);var a,l,s=rn({},t.imports,n.imports,assignInDefaults),u=keys(s),c=baseValues(s,u),f=0,d=t.interpolate||He,p="__p += '",h=i((t.escape||He).source+"|"+d.source+"|"+(d===xe?Te:He).source+"|"+(t.evaluate||He).source+"|$","g"),g="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Dt+"]")+"\n";
e.replace(h,function(t,r,n,i,o,s){return n||(n=i),p+=e.slice(f,s).replace(Be,escapeStringChar),r&&(a=!0,p+="' +\n__e("+r+") +\n'"),o&&(l=!0,p+="';\n"+o+";\n__p += '"),n&&(p+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),f=s+t.length,t}),p+="';\n";var v=t.variable;v||(p="with (obj) {\n"+p+"\n}\n"),p=(l?p.replace(fe,""):p).replace(de,"$1").replace(pe,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=kn(function(){return Function(u,g+"return "+p).apply(o,c)});if(m.source=p,isError(m))throw m;return m}function toLower(e){return toString(e).toLowerCase()}function toUpper(e){return toString(e).toUpperCase()}function trim(e,t,r){if(e=toString(e),e&&(r||t===o))return e.replace(Le,"");if(!e||!(t=baseToString(t)))return e;var n=stringToArray(e),i=stringToArray(t),a=charsStartIndex(n,i),l=charsEndIndex(n,i)+1;return castSlice(n,a,l).join("")}function trimEnd(e,t,r){if(e=toString(e),e&&(r||t===o))return e.replace(Oe,"");if(!e||!(t=baseToString(t)))return e;var n=stringToArray(e),i=charsEndIndex(n,stringToArray(t))+1;return castSlice(n,0,i).join("")}function trimStart(e,t,r){if(e=toString(e),e&&(r||t===o))return e.replace(Me,"");if(!e||!(t=baseToString(t)))return e;var n=stringToArray(e),i=charsStartIndex(n,stringToArray(t));return castSlice(n,i).join("")}function truncate(e,t){var r=_,n=S;if(isObject(t)){var a="separator"in t?t.separator:a;r="length"in t?toInteger(t.length):r,n="omission"in t?baseToString(t.omission):n}e=toString(e);var l=e.length;if(It.test(e)){var s=stringToArray(e);l=s.length}if(r>=l)return e;var u=r-stringSize(n);if(1>u)return n;var c=s?castSlice(s,0,u).join(""):e.slice(0,u);if(a===o)return c+n;if(s&&(u+=c.length-u),isRegExp(a)){if(e.slice(u).search(a)){var f,d=c;for(a.global||(a=i(a.source,toString(De.exec(a))+"g")),a.lastIndex=0;f=a.exec(d);)var p=f.index;c=c.slice(0,p===o?u:p)}}else if(e.indexOf(baseToString(a),u)!=u){var h=c.lastIndexOf(a);h>-1&&(c=c.slice(0,h))}return c+n}function unescape(e){return e=toString(e),e&&ve.test(e)?e.replace(he,unescapeHtmlChar):e}function words(e,t,r){return e=toString(e),t=r?o:t,t===o&&(t=At.test(e)?Ot:Ie),e.match(t)||[]}function cond(e){var t=e?e.length:0,r=getIteratee();return e=t?arrayMap(e,function(e){if("function"!=typeof e[1])throw new qe(s);return[r(e[0]),e[1]]}):[],rest(function(r){for(var n=-1;++n<t;){var i=e[n];if(apply(i[0],this,r))return apply(i[1],this,r)}})}function conforms(e){return baseConforms(baseClone(e,!0))}function constant(e){return function(){return e}}function identity(e){return e}function iteratee(e){return baseIteratee("function"==typeof e?e:baseClone(e,!0))}function matches(e){return baseMatches(baseClone(e,!0))}function matchesProperty(e,t){return baseMatchesProperty(e,baseClone(t,!0))}function mixin(e,t,r){var n=keys(t),i=baseFunctions(t,n);null!=r||isObject(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=baseFunctions(t,keys(t)));var o=!(isObject(r)&&"chain"in r&&!r.chain),a=isFunction(e);return arrayEach(i,function(r){var n=t[r];e[r]=n,a&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__),i=r.__actions__=copyArray(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,arrayPush([this.value()],arguments))})}),e}function noConflict(){return Ut._===this&&(Ut._=Qe),this}function noop(){}function nthArg(e){return e=toInteger(e),rest(function(t){return baseNth(t,e)})}function property(e){return isKey(e)?baseProperty(toKey(e)):basePropertyDeep(e)}function propertyOf(e){return function(t){return null==e?o:baseGet(e,t)}}function stubArray(){return[]}function stubFalse(){return!1}function stubObject(){return{}}function stubString(){return""}function stubTrue(){return!0}function times(e,t){if(e=toInteger(e),1>e||e>T)return[];var r=P,n=bt(e,P);t=getIteratee(t),e-=P;for(var i=baseTimes(n,t);++r<e;)t(r);return i}function toPath(e){return Yr(e)?arrayMap(e,toKey):isSymbol(e)?[e]:copyArray(pr(e))}function uniqueId(e){var t=++Ye;return toString(e)+t}function max(e){return e&&e.length?baseExtremum(e,identity,baseGt):o}function maxBy(e,t){return e&&e.length?baseExtremum(e,getIteratee(t),baseGt):o}function mean(e){return baseMean(e,identity)}function meanBy(e,t){return baseMean(e,getIteratee(t))}function min(e){return e&&e.length?baseExtremum(e,identity,baseLt):o}function minBy(e,t){return e&&e.length?baseExtremum(e,getIteratee(t),baseLt):o}function sum(e){return e&&e.length?baseSum(e,identity):0}function sumBy(e,t){return e&&e.length?baseSum(e,getIteratee(t)):0}e=e?$t.defaults({},e,$t.pick(Ut,Tt)):Ut;var t=e.Date,r=e.Error,n=e.Math,i=e.RegExp,qe=e.TypeError,ze=e.Array.prototype,Ve=e.Object.prototype,Ge=e.String.prototype,Ke=e["__core-js_shared__"],Ue=function(){var e=/[^.]+$/.exec(Ke&&Ke.keys&&Ke.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),$e=e.Function.prototype.toString,Xe=Ve.hasOwnProperty,Ye=0,Ze=$e.call(Object),Je=Ve.toString,Qe=Ut._,et=i("^"+$e.call(Xe).replace(Se,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tt=zt?e.Buffer:o,rt=e.Reflect,nt=e.Symbol,it=e.Uint8Array,ot=rt?rt.enumerate:o,at=Object.getOwnPropertySymbols,lt="symbol"==typeof(lt=nt&&nt.iterator)?lt:o,st=Object.create,ut=Ve.propertyIsEnumerable,ct=ze.splice,ft=function(t,r){return e.setTimeout.call(Ut,t,r)},dt=n.ceil,pt=n.floor,ht=Object.getPrototypeOf,gt=e.isFinite,vt=ze.join,mt=Object.keys,yt=n.max,bt=n.min,xt=e.parseInt,wt=n.random,Ct=Ge.replace,_t=ze.reverse,St=Ge.split,Mt=getNative(e,"DataView"),Ft=getNative(e,"Map"),Et=getNative(e,"Promise"),Nt=getNative(e,"Set"),jt=getNative(e,"WeakMap"),Bt=getNative(Object,"create"),qt=jt&&new jt,Vt=!ut.call({valueOf:1},"valueOf"),Gt={},Kt=toSource(Mt),Xt=toSource(Ft),Yt=toSource(Et),Zt=toSource(Nt),Jt=toSource(jt),Qt=nt?nt.prototype:o,er=Qt?Qt.valueOf:o,tr=Qt?Qt.toString:o;lodash.templateSettings={escape:ye,evaluate:be,interpolate:xe,variable:"",imports:{_:lodash}},lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash,LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,Hash.prototype.clear=hashClear,Hash.prototype["delete"]=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype["delete"]=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype["delete"]=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,Stack.prototype.clear=stackClear,Stack.prototype["delete"]=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var rr=createBaseEach(baseForOwn),nr=createBaseEach(baseForOwnRight,!0),ir=createBaseFor(),or=createBaseFor(!0);ot&&!ut.call({valueOf:1},"valueOf")&&(baseKeysIn=function(e){return iteratorToArray(ot(e))});var ar=qt?function(e,t){return qt.set(e,t),e}:identity,lr=Nt&&1/setToArray(new Nt([,-0]))[1]==A?function(e){return new Nt(e)}:noop,sr=qt?function(e){return qt.get(e)}:noop,ur=baseProperty("length");at||(getSymbols=stubArray);var cr=at?function(e){for(var t=[];e;)arrayPush(t,getSymbols(e)),e=getPrototype(e);return t}:getSymbols;(Mt&&getTag(new Mt(new ArrayBuffer(1)))!=te||Ft&&getTag(new Ft)!=V||Et&&getTag(Et.resolve())!=U||Nt&&getTag(new Nt)!=X||jt&&getTag(new jt)!=J)&&(getTag=function(e){var t=Je.call(e),r=t==K?e.constructor:o,n=r?toSource(r):o;if(n)switch(n){case Kt:return te;case Xt:return V;case Yt:return U;case Zt:return X;case Jt:return J}return t});var fr=Ke?isFunction:stubFalse,dr=function(){var e=0,t=0;return function(r,n){var i=now(),o=L-(i-t);if(t=i,o>0){if(++e>=k)return r}else e=0;return ar(r,n)}}(),pr=memoize(function(e){var t=[];return toString(e).replace(_e,function(e,r,n,i){t.push(n?i.replace(Ae,"$1"):r||e)}),t}),hr=rest(function(e,t){return isArrayLikeObject(e)?baseDifference(e,baseFlatten(t,1,isArrayLikeObject,!0)):[]}),gr=rest(function(e,t){var r=last(t);return isArrayLikeObject(r)&&(r=o),isArrayLikeObject(e)?baseDifference(e,baseFlatten(t,1,isArrayLikeObject,!0),getIteratee(r)):[]}),vr=rest(function(e,t){var r=last(t);return isArrayLikeObject(r)&&(r=o),isArrayLikeObject(e)?baseDifference(e,baseFlatten(t,1,isArrayLikeObject,!0),o,r):[]}),mr=rest(function(e){var t=arrayMap(e,castArrayLikeObject);return t.length&&t[0]===e[0]?baseIntersection(t):[]}),yr=rest(function(e){var t=last(e),r=arrayMap(e,castArrayLikeObject);return t===last(r)?t=o:r.pop(),r.length&&r[0]===e[0]?baseIntersection(r,getIteratee(t)):[]}),br=rest(function(e){var t=last(e),r=arrayMap(e,castArrayLikeObject);return t===last(r)?t=o:r.pop(),r.length&&r[0]===e[0]?baseIntersection(r,o,t):[]}),xr=rest(pullAll),wr=rest(function(e,t){t=baseFlatten(t,1);var r=e?e.length:0,n=baseAt(e,t);return basePullAt(e,arrayMap(t,function(e){return isIndex(e,r)?+e:e}).sort(compareAscending)),n}),Cr=rest(function(e){return baseUniq(baseFlatten(e,1,isArrayLikeObject,!0))}),_r=rest(function(e){var t=last(e);return isArrayLikeObject(t)&&(t=o),baseUniq(baseFlatten(e,1,isArrayLikeObject,!0),getIteratee(t))}),Sr=rest(function(e){var t=last(e);return isArrayLikeObject(t)&&(t=o),baseUniq(baseFlatten(e,1,isArrayLikeObject,!0),o,t)}),kr=rest(function(e,t){return isArrayLikeObject(e)?baseDifference(e,t):[]}),Lr=rest(function(e){return baseXor(arrayFilter(e,isArrayLikeObject))}),Mr=rest(function(e){var t=last(e);return isArrayLikeObject(t)&&(t=o),baseXor(arrayFilter(e,isArrayLikeObject),getIteratee(t))}),Or=rest(function(e){var t=last(e);return isArrayLikeObject(t)&&(t=o),baseXor(arrayFilter(e,isArrayLikeObject),o,t)}),Ir=rest(unzip),Ar=rest(function(e){var t=e.length,r=t>1?e[t-1]:o;return r="function"==typeof r?(e.pop(),r):o,unzipWith(e,r)}),Tr=rest(function(e){e=baseFlatten(e,1);var t=e.length,r=t?e[0]:0,n=this.__wrapped__,i=function(t){return baseAt(t,e)};return!(t>1||this.__actions__.length)&&n instanceof LazyWrapper&&isIndex(r)?(n=n.slice(r,+r+(t?1:0)),n.__actions__.push({func:thru,args:[i],thisArg:o}),new LodashWrapper(n,this.__chain__).thru(function(e){return t&&!e.length&&e.push(o),e})):this.thru(i)}),Dr=createAggregator(function(e,t,r){Xe.call(e,r)?++e[r]:e[r]=1}),Rr=createFind(findIndex),Pr=createFind(findLastIndex),Fr=createAggregator(function(e,t,r){Xe.call(e,r)?e[r].push(t):e[r]=[t]}),Er=rest(function(e,t,r){var n=-1,i="function"==typeof t,a=isKey(t),l=isArrayLike(e)?Array(e.length):[];return rr(e,function(e){var s=i?t:a&&null!=e?e[t]:o;l[++n]=s?apply(s,e,r):baseInvoke(e,t,r)}),l}),Nr=createAggregator(function(e,t,r){e[r]=t}),jr=createAggregator(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]}),Wr=rest(function(e,t){if(null==e)return[];var r=t.length;return r>1&&isIterateeCall(e,t[0],t[1])?t=[]:r>2&&isIterateeCall(t[0],t[1],t[2])&&(t=[t[0]]),t=1==t.length&&Yr(t[0])?t[0]:baseFlatten(t,1,isFlattenableIteratee),baseOrderBy(e,t,[])}),Hr=rest(function(e,t,r){var n=f;if(r.length){var i=replaceHolders(r,getHolder(Hr));n|=v}return createWrapper(e,n,t,r,i)}),Br=rest(function(e,t,r){var n=f|d;if(r.length){var i=replaceHolders(r,getHolder(Br));n|=v}return createWrapper(t,n,e,r,i)}),qr=rest(function(e,t){return baseDelay(e,1,t)}),zr=rest(function(e,t,r){return baseDelay(e,toNumber(t)||0,r)});memoize.Cache=MapCache;var Vr=rest(function(e,t){t=1==t.length&&Yr(t[0])?arrayMap(t[0],baseUnary(getIteratee())):arrayMap(baseFlatten(t,1,isFlattenableIteratee),baseUnary(getIteratee()));var r=t.length;return rest(function(n){for(var i=-1,o=bt(n.length,r);++i<o;)n[i]=t[i].call(this,n[i]);return apply(e,this,n)})}),Gr=rest(function(e,t){var r=replaceHolders(t,getHolder(Gr));return createWrapper(e,v,o,t,r)}),Kr=rest(function(e,t){var r=replaceHolders(t,getHolder(Kr));return createWrapper(e,m,o,t,r)}),Ur=rest(function(e,t){return createWrapper(e,b,o,o,o,baseFlatten(t,1))}),$r=createRelationalOperation(baseGt),Xr=createRelationalOperation(function(e,t){return e>=t}),Yr=Array.isArray,Zr=tt?function(e){return e instanceof tt}:stubFalse,Jr=createRelationalOperation(baseLt),Qr=createRelationalOperation(function(e,t){return t>=e}),en=createAssigner(function(e,t){if(Vt||isPrototype(t)||isArrayLike(t))return void copyObject(t,keys(t),e);for(var r in t)Xe.call(t,r)&&assignValue(e,r,t[r])}),tn=createAssigner(function(e,t){if(Vt||isPrototype(t)||isArrayLike(t))return void copyObject(t,keysIn(t),e);for(var r in t)assignValue(e,r,t[r])}),rn=createAssigner(function(e,t,r,n){copyObject(t,keysIn(t),e,n)}),nn=createAssigner(function(e,t,r,n){copyObject(t,keys(t),e,n)}),on=rest(function(e,t){return baseAt(e,baseFlatten(t,1))}),an=rest(function(e){return e.push(o,assignInDefaults),apply(rn,o,e)}),ln=rest(function(e){return e.push(o,mergeDefaults),apply(dn,o,e)}),sn=createInverter(function(e,t,r){e[t]=r},constant(identity)),un=createInverter(function(e,t,r){Xe.call(e,t)?e[t].push(r):e[t]=[r]},getIteratee),cn=rest(baseInvoke),fn=createAssigner(function(e,t,r){baseMerge(e,t,r)}),dn=createAssigner(function(e,t,r,n){baseMerge(e,t,r,n)}),pn=rest(function(e,t){return null==e?{}:(t=arrayMap(baseFlatten(t,1),toKey),basePick(e,baseDifference(getAllKeysIn(e),t)))}),hn=rest(function(e,t){return null==e?{}:basePick(e,arrayMap(baseFlatten(t,1),toKey))}),gn=createToPairs(keys),vn=createToPairs(keysIn),mn=createCompounder(function(e,t,r){return t=t.toLowerCase(),e+(r?capitalize(t):t)}),yn=createCompounder(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),bn=createCompounder(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),xn=createCaseFirst("toLowerCase"),wn=createCompounder(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}),Cn=createCompounder(function(e,t,r){return e+(r?" ":"")+Sn(t)}),_n=createCompounder(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),Sn=createCaseFirst("toUpperCase"),kn=rest(function(e,t){try{return apply(e,o,t)}catch(n){return isError(n)?n:new r(n)}}),Ln=rest(function(e,t){return arrayEach(baseFlatten(t,1),function(t){t=toKey(t),e[t]=Hr(e[t],e)}),e}),Mn=createFlow(),On=createFlow(!0),In=rest(function(e,t){return function(r){return baseInvoke(r,e,t)}}),An=rest(function(e,t){return function(r){return baseInvoke(e,r,t)}}),Tn=createOver(arrayMap),Dn=createOver(arrayEvery),Rn=createOver(arraySome),Pn=createRange(),Fn=createRange(!0),En=createMathOperation(function(e,t){return e+t}),Nn=createRound("ceil"),jn=createMathOperation(function(e,t){return e/t}),Wn=createRound("floor"),Hn=createMathOperation(function(e,t){return e*t}),Bn=createRound("round"),qn=createMathOperation(function(e,t){return e-t});return lodash.after=after,lodash.ary=ary,lodash.assign=en,lodash.assignIn=tn,lodash.assignInWith=rn,lodash.assignWith=nn,lodash.at=on,lodash.before=before,lodash.bind=Hr,lodash.bindAll=Ln,lodash.bindKey=Br,lodash.castArray=castArray,lodash.chain=chain,lodash.chunk=chunk,lodash.compact=compact,lodash.concat=concat,lodash.cond=cond,lodash.conforms=conforms,lodash.constant=constant,lodash.countBy=Dr,lodash.create=create,lodash.curry=curry,lodash.curryRight=curryRight,lodash.debounce=debounce,lodash.defaults=an,lodash.defaultsDeep=ln,lodash.defer=qr,lodash.delay=zr,lodash.difference=hr,lodash.differenceBy=gr,lodash.differenceWith=vr,lodash.drop=drop,lodash.dropRight=dropRight,lodash.dropRightWhile=dropRightWhile,lodash.dropWhile=dropWhile,lodash.fill=fill,lodash.filter=filter,lodash.flatMap=flatMap,lodash.flatMapDeep=flatMapDeep,lodash.flatMapDepth=flatMapDepth,lodash.flatten=flatten,lodash.flattenDeep=flattenDeep,lodash.flattenDepth=flattenDepth,lodash.flip=flip,lodash.flow=Mn,lodash.flowRight=On,lodash.fromPairs=fromPairs,lodash.functions=functions,lodash.functionsIn=functionsIn,lodash.groupBy=Fr,lodash.initial=initial,lodash.intersection=mr,lodash.intersectionBy=yr,lodash.intersectionWith=br,lodash.invert=sn,lodash.invertBy=un,lodash.invokeMap=Er,lodash.iteratee=iteratee,lodash.keyBy=Nr,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=mapKeys,lodash.mapValues=mapValues,lodash.matches=matches,lodash.matchesProperty=matchesProperty,lodash.memoize=memoize,lodash.merge=fn,lodash.mergeWith=dn,lodash.method=In,lodash.methodOf=An,lodash.mixin=mixin,lodash.negate=negate,lodash.nthArg=nthArg,lodash.omit=pn,lodash.omitBy=omitBy,lodash.once=once,lodash.orderBy=orderBy,lodash.over=Tn,lodash.overArgs=Vr,lodash.overEvery=Dn,lodash.overSome=Rn,lodash.partial=Gr,lodash.partialRight=Kr,lodash.partition=jr,lodash.pick=hn,lodash.pickBy=pickBy,lodash.property=property,lodash.propertyOf=propertyOf,lodash.pull=xr,lodash.pullAll=pullAll,lodash.pullAllBy=pullAllBy,lodash.pullAllWith=pullAllWith,lodash.pullAt=wr,lodash.range=Pn,lodash.rangeRight=Fn,lodash.rearg=Ur,lodash.reject=reject,lodash.remove=remove,lodash.rest=rest,lodash.reverse=reverse,lodash.sampleSize=sampleSize,lodash.set=set,lodash.setWith=setWith,lodash.shuffle=shuffle,lodash.slice=slice,lodash.sortBy=Wr,lodash.sortedUniq=sortedUniq,lodash.sortedUniqBy=sortedUniqBy,lodash.split=split,lodash.spread=spread,lodash.tail=tail,lodash.take=take,lodash.takeRight=takeRight,lodash.takeRightWhile=takeRightWhile,lodash.takeWhile=takeWhile,lodash.tap=tap,lodash.throttle=throttle,lodash.thru=thru,lodash.toArray=toArray,lodash.toPairs=gn,lodash.toPairsIn=vn,lodash.toPath=toPath,lodash.toPlainObject=toPlainObject,lodash.transform=transform,lodash.unary=unary,lodash.union=Cr,lodash.unionBy=_r,lodash.unionWith=Sr,lodash.uniq=uniq,lodash.uniqBy=uniqBy,lodash.uniqWith=uniqWith,lodash.unset=unset,lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.update=update,lodash.updateWith=updateWith,lodash.values=values,lodash.valuesIn=valuesIn,lodash.without=kr,lodash.words=words,lodash.wrap=wrap,lodash.xor=Lr,lodash.xorBy=Mr,lodash.xorWith=Or,lodash.zip=Ir,lodash.zipObject=zipObject,lodash.zipObjectDeep=zipObjectDeep,lodash.zipWith=Ar,lodash.entries=gn,lodash.entriesIn=vn,lodash.extend=tn,lodash.extendWith=rn,mixin(lodash,lodash),lodash.add=En,lodash.attempt=kn,lodash.camelCase=mn,lodash.capitalize=capitalize,lodash.ceil=Nn,lodash.clamp=clamp,lodash.clone=clone,lodash.cloneDeep=cloneDeep,lodash.cloneDeepWith=cloneDeepWith,lodash.cloneWith=cloneWith,lodash.deburr=deburr,lodash.divide=jn,lodash.endsWith=endsWith,lodash.eq=eq,lodash.escape=escape,lodash.escapeRegExp=escapeRegExp,lodash.every=every,lodash.find=Rr,lodash.findIndex=findIndex,lodash.findKey=findKey,lodash.findLast=Pr,lodash.findLastIndex=findLastIndex,lodash.findLastKey=findLastKey,lodash.floor=Wn,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=forIn,lodash.forInRight=forInRight,lodash.forOwn=forOwn,lodash.forOwnRight=forOwnRight,lodash.get=get,lodash.gt=$r,lodash.gte=Xr,lodash.has=has,lodash.hasIn=hasIn,lodash.head=head,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.inRange=inRange,lodash.invoke=cn,lodash.isArguments=isArguments,lodash.isArray=Yr,lodash.isArrayBuffer=isArrayBuffer,lodash.isArrayLike=isArrayLike,lodash.isArrayLikeObject=isArrayLikeObject,lodash.isBoolean=isBoolean,lodash.isBuffer=Zr,lodash.isDate=isDate,lodash.isElement=isElement,lodash.isEmpty=isEmpty,lodash.isEqual=isEqual,lodash.isEqualWith=isEqualWith,lodash.isError=isError,lodash.isFinite=isFinite,lodash.isFunction=isFunction,lodash.isInteger=isInteger,lodash.isLength=isLength,lodash.isMap=isMap,lodash.isMatch=isMatch,lodash.isMatchWith=isMatchWith,lodash.isNaN=isNaN,lodash.isNative=isNative,lodash.isNil=isNil,lodash.isNull=isNull,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isObjectLike=isObjectLike,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isSafeInteger=isSafeInteger,lodash.isSet=isSet,lodash.isString=isString,lodash.isSymbol=isSymbol,lodash.isTypedArray=isTypedArray,lodash.isUndefined=isUndefined,lodash.isWeakMap=isWeakMap,lodash.isWeakSet=isWeakSet,lodash.join=join,lodash.kebabCase=yn,lodash.last=last,lodash.lastIndexOf=lastIndexOf,lodash.lowerCase=bn,lodash.lowerFirst=xn,lodash.lt=Jr,lodash.lte=Qr,lodash.max=max,lodash.maxBy=maxBy,lodash.mean=mean,lodash.meanBy=meanBy,lodash.min=min,lodash.minBy=minBy,lodash.stubArray=stubArray,lodash.stubFalse=stubFalse,lodash.stubObject=stubObject,lodash.stubString=stubString,lodash.stubTrue=stubTrue,lodash.multiply=Hn,lodash.nth=nth,lodash.noConflict=noConflict,lodash.noop=noop,lodash.now=now,lodash.pad=pad,lodash.padEnd=padEnd,lodash.padStart=padStart,lodash.parseInt=parseInt,lodash.random=random,lodash.reduce=reduce,lodash.reduceRight=reduceRight,lodash.repeat=repeat,lodash.replace=replace,lodash.result=result,lodash.round=Bn,lodash.runInContext=runInContext,lodash.sample=sample,lodash.size=size,lodash.snakeCase=wn,lodash.some=some,lodash.sortedIndex=sortedIndex,lodash.sortedIndexBy=sortedIndexBy,lodash.sortedIndexOf=sortedIndexOf,lodash.sortedLastIndex=sortedLastIndex,lodash.sortedLastIndexBy=sortedLastIndexBy,lodash.sortedLastIndexOf=sortedLastIndexOf,lodash.startCase=Cn,lodash.startsWith=startsWith,lodash.subtract=qn,lodash.sum=sum,lodash.sumBy=sumBy,lodash.template=template,lodash.times=times,lodash.toFinite=toFinite,lodash.toInteger=toInteger,lodash.toLength=toLength,lodash.toLower=toLower,lodash.toNumber=toNumber,lodash.toSafeInteger=toSafeInteger,lodash.toString=toString,lodash.toUpper=toUpper,lodash.trim=trim,lodash.trimEnd=trimEnd,lodash.trimStart=trimStart,lodash.truncate=truncate,lodash.unescape=unescape,lodash.uniqueId=uniqueId,lodash.upperCase=_n,lodash.upperFirst=Sn,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.first=head,mixin(lodash,function(){var e={};return baseForOwn(lodash,function(t,r){Xe.call(lodash.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),lodash.VERSION=a,arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){lodash[e].placeholder=lodash}),arrayEach(["drop","take"],function(e,t){LazyWrapper.prototype[e]=function(r){var n=this.__filtered__;if(n&&!t)return new LazyWrapper(this);r=r===o?1:yt(toInteger(r),0);var i=this.clone();return n?i.__takeCount__=bt(r,i.__takeCount__):i.__views__.push({size:bt(r,P),type:e+(i.__dir__<0?"Right":"")}),i},LazyWrapper.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),arrayEach(["filter","map","takeWhile"],function(e,t){var r=t+1,n=r==M||r==I;LazyWrapper.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:getIteratee(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}}),arrayEach(["head","last"],function(e,t){var r="take"+(t?"Right":"");LazyWrapper.prototype[e]=function(){return this[r](1).value()[0]}}),arrayEach(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");LazyWrapper.prototype[e]=function(){return this.__filtered__?new LazyWrapper(this):this[r](1)}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.find=function(e){return this.filter(e).head()},LazyWrapper.prototype.findLast=function(e){return this.reverse().find(e)},LazyWrapper.prototype.invokeMap=rest(function(e,t){return"function"==typeof e?new LazyWrapper(this):this.map(function(r){return baseInvoke(r,e,t)})}),LazyWrapper.prototype.reject=function(e){return e=getIteratee(e,3),this.filter(function(t){return!e(t)})},LazyWrapper.prototype.slice=function(e,t){e=toInteger(e);var r=this;return r.__filtered__&&(e>0||0>t)?new LazyWrapper(r):(0>e?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==o&&(t=toInteger(t),r=0>t?r.dropRight(-t):r.take(t-e)),r)},LazyWrapper.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(P)},baseForOwn(LazyWrapper.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),i=lodash[n?"take"+("last"==t?"Right":""):t],a=n||/^find/.test(t);i&&(lodash.prototype[t]=function(){var t=this.__wrapped__,l=n?[1]:arguments,s=t instanceof LazyWrapper,u=l[0],c=s||Yr(t),f=function(e){var t=i.apply(lodash,arrayPush([e],l));return n&&d?t[0]:t};c&&r&&"function"==typeof u&&1!=u.length&&(s=c=!1);var d=this.__chain__,p=!!this.__actions__.length,h=a&&!d,g=s&&!p;if(!a&&c){t=g?t:new LazyWrapper(this);var v=e.apply(t,l);return v.__actions__.push({func:thru,args:[f],thisArg:o}),new LodashWrapper(v,d)}return h&&g?e.apply(this,l):(v=this.thru(f),h?n?v.value()[0]:v.value():v)})}),arrayEach(["pop","push","shift","sort","splice","unshift"],function(e){var t=ze[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);lodash.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Yr(i)?i:[],e)}return this[r](function(r){return t.apply(Yr(r)?r:[],e)})}}),baseForOwn(LazyWrapper.prototype,function(e,t){var r=lodash[t];if(r){var n=r.name+"",i=Gt[n]||(Gt[n]=[]);i.push({name:t,func:r})}}),Gt[createHybridWrapper(o,d).name]=[{name:"wrapper",func:o}],LazyWrapper.prototype.clone=lazyClone,LazyWrapper.prototype.reverse=lazyReverse,LazyWrapper.prototype.value=lazyValue,lodash.prototype.at=Tr,lodash.prototype.chain=wrapperChain,lodash.prototype.commit=wrapperCommit,lodash.prototype.next=wrapperNext,lodash.prototype.plant=wrapperPlant,lodash.prototype.reverse=wrapperReverse,lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue,lt&&(lodash.prototype[lt]=wrapperToIterator),lodash}var o,a="4.13.1",l=200,s="Expected a function",u="__lodash_hash_undefined__",c="__lodash_placeholder__",f=1,d=2,p=4,h=8,g=16,v=32,m=64,y=128,b=256,x=512,w=1,C=2,_=30,S="...",k=150,L=16,M=1,O=2,I=3,A=1/0,T=9007199254740991,D=1.7976931348623157e308,R=NaN,P=4294967295,F=P-1,E=P>>>1,N="[object Arguments]",j="[object Array]",W="[object Boolean]",H="[object Date]",B="[object Error]",q="[object Function]",z="[object GeneratorFunction]",V="[object Map]",G="[object Number]",K="[object Object]",U="[object Promise]",$="[object RegExp]",X="[object Set]",Y="[object String]",Z="[object Symbol]",J="[object WeakMap]",Q="[object WeakSet]",ee="[object ArrayBuffer]",te="[object DataView]",re="[object Float32Array]",ne="[object Float64Array]",ie="[object Int8Array]",oe="[object Int16Array]",ae="[object Int32Array]",le="[object Uint8Array]",se="[object Uint8ClampedArray]",ue="[object Uint16Array]",ce="[object Uint32Array]",fe=/\b__p \+= '';/g,de=/\b(__p \+=) '' \+/g,pe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,he=/&(?:amp|lt|gt|quot|#39|#96);/g,ge=/[&<>"'`]/g,ve=RegExp(he.source),me=RegExp(ge.source),ye=/<%-([\s\S]+?)%>/g,be=/<%([\s\S]+?)%>/g,xe=/<%=([\s\S]+?)%>/g,we=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ce=/^\w*$/,_e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(\.|\[\])(?:\4|$))/g,Se=/[\\^$.*+?()[\]{}|]/g,ke=RegExp(Se.source),Le=/^\s+|\s+$/g,Me=/^\s+/,Oe=/\s+$/,Ie=/[a-zA-Z0-9]+/g,Ae=/\\(\\)?/g,Te=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,De=/\w*$/,Re=/^0x/i,Pe=/^[-+]0x[0-9a-f]+$/i,Fe=/^0b[01]+$/i,Ee=/^\[object .+?Constructor\]$/,Ne=/^0o[0-7]+$/i,je=/^(?:0|[1-9]\d*)$/,We=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,He=/($^)/,Be=/['\n\r\u2028\u2029\\]/g,qe="\\ud800-\\udfff",ze="\\u0300-\\u036f\\ufe20-\\ufe23",Ve="\\u20d0-\\u20f0",Ge="\\u2700-\\u27bf",Ke="a-z\\xdf-\\xf6\\xf8-\\xff",Ue="\\xac\\xb1\\xd7\\xf7",$e="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Xe="\\u2000-\\u206f",Ye=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ze="A-Z\\xc0-\\xd6\\xd8-\\xde",Je="\\ufe0e\\ufe0f",Qe=Ue+$e+Xe+Ye,et="['’]",tt="["+qe+"]",rt="["+Qe+"]",nt="["+ze+Ve+"]",it="\\d+",ot="["+Ge+"]",at="["+Ke+"]",lt="[^"+qe+Qe+it+Ge+Ke+Ze+"]",st="\\ud83c[\\udffb-\\udfff]",ut="(?:"+nt+"|"+st+")",ct="[^"+qe+"]",ft="(?:\\ud83c[\\udde6-\\uddff]){2}",dt="[\\ud800-\\udbff][\\udc00-\\udfff]",pt="["+Ze+"]",ht="\\u200d",gt="(?:"+at+"|"+lt+")",vt="(?:"+pt+"|"+lt+")",mt="(?:"+et+"(?:d|ll|m|re|s|t|ve))?",yt="(?:"+et+"(?:D|LL|M|RE|S|T|VE))?",bt=ut+"?",xt="["+Je+"]?",wt="(?:"+ht+"(?:"+[ct,ft,dt].join("|")+")"+xt+bt+")*",Ct=xt+bt+wt,_t="(?:"+[ot,ft,dt].join("|")+")"+Ct,St="(?:"+[ct+nt+"?",nt,ft,dt,tt].join("|")+")",kt=RegExp(et,"g"),Lt=RegExp(nt,"g"),Mt=RegExp(st+"(?="+st+")|"+St+Ct,"g"),Ot=RegExp([pt+"?"+at+"+"+mt+"(?="+[rt,pt,"$"].join("|")+")",vt+"+"+yt+"(?="+[rt,pt+gt,"$"].join("|")+")",pt+"?"+gt+"+"+mt,pt+"+"+yt,it,_t].join("|"),"g"),It=RegExp("["+ht+qe+ze+Ve+Je+"]"),At=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Tt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","isFinite","parseInt","setTimeout"],Dt=-1,Rt={};Rt[re]=Rt[ne]=Rt[ie]=Rt[oe]=Rt[ae]=Rt[le]=Rt[se]=Rt[ue]=Rt[ce]=!0,Rt[N]=Rt[j]=Rt[ee]=Rt[W]=Rt[te]=Rt[H]=Rt[B]=Rt[q]=Rt[V]=Rt[G]=Rt[K]=Rt[$]=Rt[X]=Rt[Y]=Rt[J]=!1;var Pt={};Pt[N]=Pt[j]=Pt[ee]=Pt[te]=Pt[W]=Pt[H]=Pt[re]=Pt[ne]=Pt[ie]=Pt[oe]=Pt[ae]=Pt[V]=Pt[G]=Pt[K]=Pt[$]=Pt[X]=Pt[Y]=Pt[Z]=Pt[le]=Pt[se]=Pt[ue]=Pt[ce]=!0,Pt[B]=Pt[q]=Pt[J]=!1;var Ft={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Et={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Nt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},jt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Wt=parseFloat,Ht=parseInt,Bt="object"==typeof t&&t,qt=Bt&&"object"==typeof e&&e,zt=qt&&qt.exports===Bt,Vt=checkGlobal("object"==typeof i&&i),Gt=checkGlobal("object"==typeof self&&self),Kt=checkGlobal("object"==typeof this&&this),Ut=Vt||Gt||Kt||Function("return this")(),$t=runInContext();(Gt||{})._=$t,n=function(){return $t}.call(t,r,t,e),!(n!==o&&(e.exports=n))}).call(this)}).call(t,r(169)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){!function(e){var t,r=e.prototype.bind;e.prototype.bind=function(){var e=this;if(t=arguments,"string"==typeof t[0]||t[0]instanceof Array)return r.call(e,t[0],t[1],t[2]);for(var n in t[0])t[0].hasOwnProperty(n)&&r.call(e,n,t[0][n],t[1])},e.init()}(Mousetrap)},function(e,t,r){"use strict";var n=r(126),i=r(148);i.CONFIG.defaultDisplayComponent=n.Display},,function(e,t){},,,,,,function(e,t,r){!function(e){e(r(180))}(function(e){"use strict";function expressionAllowed(e,t,r){return/^(?:operator|sof|keyword c|case|new|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(r||0)))}e.defineMode("javascript",function(t,r){function readRegexp(e){for(var t,r=!1,n=!1;null!=(t=e.next());){if(!r){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}r=!r&&"\\"==t}}function ret(e,t,r){return n=e,i=r,t}function tokenBase(e,t){var r=e.next();if('"'==r||"'"==r)return t.tokenize=tokenString(r),t.tokenize(e,t);if("."==r&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return ret("number","number");if("."==r&&e.match(".."))return ret("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return ret(r);if("="==r&&e.eat(">"))return ret("=>","operator");if("0"==r&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),ret("number","number");if("0"==r&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),ret("number","number");if("0"==r&&e.eat(/b/i))return e.eatWhile(/[01]/i),ret("number","number");if(/\d/.test(r))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),
ret("number","number");if("/"==r)return e.eat("*")?(t.tokenize=tokenComment,tokenComment(e,t)):e.eat("/")?(e.skipToEnd(),ret("comment","comment")):expressionAllowed(e,t,1)?(readRegexp(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),ret("regexp","string-2")):(e.eatWhile(d),ret("operator","operator",e.current()));if("`"==r)return t.tokenize=tokenQuasi,tokenQuasi(e,t);if("#"==r)return e.skipToEnd(),ret("error","error");if(d.test(r))return e.eatWhile(d),ret("operator","operator",e.current());if(c.test(r)){e.eatWhile(c);var n=e.current(),i=f.propertyIsEnumerable(n)&&f[n];return i&&"."!=t.lastType?ret(i.type,i.style,n):ret("variable","variable",n)}}function tokenString(e){return function(t,r){var n,i=!1;if(l&&"@"==t.peek()&&t.match(p))return r.tokenize=tokenBase,ret("jsonld-keyword","meta");for(;null!=(n=t.next())&&(n!=e||i);)i=!i&&"\\"==n;return i||(r.tokenize=tokenBase),ret("string","string")}}function tokenComment(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=tokenBase;break}n="*"==r}return ret("comment","comment")}function tokenQuasi(e,t){for(var r,n=!1;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=tokenBase;break}n=!n&&"\\"==r}return ret("quasi","string-2",e.current())}function findFatArrow(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var r=e.string.indexOf("=>",e.start);if(!(0>r)){for(var n=0,i=!1,o=r-1;o>=0;--o){var a=e.string.charAt(o),l=h.indexOf(a);if(l>=0&&3>l){if(!n){++o;break}if(0==--n)break}else if(l>=3&&6>l)++n;else if(c.test(a))i=!0;else{if(/["'\/]/.test(a))return;if(i&&!n){++o;break}}}i&&!n&&(t.fatArrowAt=o)}}function JSLexical(e,t,r,n,i,o){this.indented=e,this.column=t,this.type=r,this.prev=i,this.info=o,null!=n&&(this.align=n)}function inScope(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0;for(var n=e.context;n;n=n.prev)for(var r=n.vars;r;r=r.next)if(r.name==t)return!0}function parseJS(e,t,r,n,i){var o=e.cc;for(v.state=e,v.stream=i,v.marked=null,v.cc=o,v.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var a=o.length?o.pop():s?expression:statement;if(a(r,n)){for(;o.length&&o[o.length-1].lex;)o.pop()();return v.marked?v.marked:"variable"==r&&inScope(e,n)?"variable-2":t}}}function pass(){for(var e=arguments.length-1;e>=0;e--)v.cc.push(arguments[e])}function cont(){return pass.apply(null,arguments),!0}function register(e){function inList(t){for(var r=t;r;r=r.next)if(r.name==e)return!0;return!1}var t=v.state;if(v.marked="def",t.context){if(inList(t.localVars))return;t.localVars={name:e,next:t.localVars}}else{if(inList(t.globalVars))return;r.globalVars&&(t.globalVars={name:e,next:t.globalVars})}}function pushcontext(){v.state.context={prev:v.state.context,vars:v.state.localVars},v.state.localVars=m}function popcontext(){v.state.localVars=v.state.context.vars,v.state.context=v.state.context.prev}function pushlex(e,t){var r=function(){var r=v.state,n=r.indented;if("stat"==r.lexical.type)n=r.lexical.indented;else for(var i=r.lexical;i&&")"==i.type&&i.align;i=i.prev)n=i.indented;r.lexical=new JSLexical(n,v.stream.column(),e,null,r.lexical,t)};return r.lex=!0,r}function poplex(){var e=v.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function expect(e){function exp(t){return t==e?cont():";"==e?pass():cont(exp)}return exp}function statement(e,t){return"var"==e?cont(pushlex("vardef",t.length),vardef,expect(";"),poplex):"keyword a"==e?cont(pushlex("form"),expression,statement,poplex):"keyword b"==e?cont(pushlex("form"),statement,poplex):"{"==e?cont(pushlex("}"),block,poplex):";"==e?cont():"if"==e?("else"==v.state.lexical.info&&v.state.cc[v.state.cc.length-1]==poplex&&v.state.cc.pop()(),cont(pushlex("form"),expression,statement,poplex,maybeelse)):"function"==e?cont(functiondef):"for"==e?cont(pushlex("form"),forspec,statement,poplex):"variable"==e?cont(pushlex("stat"),maybelabel):"switch"==e?cont(pushlex("form"),expression,pushlex("}","switch"),expect("{"),block,poplex,poplex):"case"==e?cont(expression,expect(":")):"default"==e?cont(expect(":")):"catch"==e?cont(pushlex("form"),pushcontext,expect("("),funarg,expect(")"),statement,poplex,popcontext):"class"==e?cont(pushlex("form"),className,poplex):"export"==e?cont(pushlex("stat"),afterExport,poplex):"import"==e?cont(pushlex("stat"),afterImport,poplex):"module"==e?cont(pushlex("form"),pattern,pushlex("}"),expect("{"),block,poplex,poplex):"async"==e?cont(statement):pass(pushlex("stat"),expression,expect(";"),poplex)}function expression(e){return expressionInner(e,!1)}function expressionNoComma(e){return expressionInner(e,!0)}function expressionInner(e,t){if(v.state.fatArrowAt==v.stream.start){var r=t?arrowBodyNoComma:arrowBody;if("("==e)return cont(pushcontext,pushlex(")"),commasep(pattern,")"),poplex,expect("=>"),r,popcontext);if("variable"==e)return pass(pushcontext,pattern,expect("=>"),r,popcontext)}var n=t?maybeoperatorNoComma:maybeoperatorComma;return g.hasOwnProperty(e)?cont(n):"function"==e?cont(functiondef,n):"keyword c"==e?cont(t?maybeexpressionNoComma:maybeexpression):"("==e?cont(pushlex(")"),maybeexpression,comprehension,expect(")"),poplex,n):"operator"==e||"spread"==e?cont(t?expressionNoComma:expression):"["==e?cont(pushlex("]"),arrayLiteral,poplex,n):"{"==e?contCommasep(objprop,"}",null,n):"quasi"==e?pass(quasi,n):"new"==e?cont(maybeTarget(t)):cont()}function maybeexpression(e){return e.match(/[;\}\)\],]/)?pass():pass(expression)}function maybeexpressionNoComma(e){return e.match(/[;\}\)\],]/)?pass():pass(expressionNoComma)}function maybeoperatorComma(e,t){return","==e?cont(expression):maybeoperatorNoComma(e,t,!1)}function maybeoperatorNoComma(e,t,r){var n=0==r?maybeoperatorComma:maybeoperatorNoComma,i=0==r?expression:expressionNoComma;return"=>"==e?cont(pushcontext,r?arrowBodyNoComma:arrowBody,popcontext):"operator"==e?/\+\+|--/.test(t)?cont(n):"?"==t?cont(expression,expect(":"),i):cont(i):"quasi"==e?pass(quasi,n):";"!=e?"("==e?contCommasep(expressionNoComma,")","call",n):"."==e?cont(property,n):"["==e?cont(pushlex("]"),maybeexpression,expect("]"),poplex,n):void 0:void 0}function quasi(e,t){return"quasi"!=e?pass():"${"!=t.slice(t.length-2)?cont(quasi):cont(expression,continueQuasi)}function continueQuasi(e){return"}"==e?(v.marked="string-2",v.state.tokenize=tokenQuasi,cont(quasi)):void 0}function arrowBody(e){return findFatArrow(v.stream,v.state),pass("{"==e?statement:expression)}function arrowBodyNoComma(e){return findFatArrow(v.stream,v.state),pass("{"==e?statement:expressionNoComma)}function maybeTarget(e){return function(t){return"."==t?cont(e?targetNoComma:target):pass(e?expressionNoComma:expression)}}function target(e,t){return"target"==t?(v.marked="keyword",cont(maybeoperatorComma)):void 0}function targetNoComma(e,t){return"target"==t?(v.marked="keyword",cont(maybeoperatorNoComma)):void 0}function maybelabel(e){return":"==e?cont(poplex,statement):pass(maybeoperatorComma,expect(";"),poplex)}function property(e){return"variable"==e?(v.marked="property",cont()):void 0}function objprop(e,t){return"variable"==e||"keyword"==v.style?(v.marked="property",cont("get"==t||"set"==t?getterSetter:afterprop)):"number"==e||"string"==e?(v.marked=l?"property":v.style+" property",cont(afterprop)):"jsonld-keyword"==e?cont(afterprop):"modifier"==e?cont(objprop):"["==e?cont(expression,expect("]"),afterprop):"spread"==e?cont(expression):void 0}function getterSetter(e){return"variable"!=e?pass(afterprop):(v.marked="property",cont(functiondef))}function afterprop(e){return":"==e?cont(expressionNoComma):"("==e?pass(functiondef):void 0}function commasep(e,t){function proceed(r,n){if(","==r){var i=v.state.lexical;return"call"==i.info&&(i.pos=(i.pos||0)+1),cont(e,proceed)}return r==t||n==t?cont():cont(expect(t))}return function(r,n){return r==t||n==t?cont():pass(e,proceed)}}function contCommasep(e,t,r){for(var n=3;n<arguments.length;n++)v.cc.push(arguments[n]);return cont(pushlex(t,r),commasep(e,t),poplex)}function block(e){return"}"==e?cont():pass(statement,block)}function maybetype(e){return u&&":"==e?cont(typeexpr):void 0}function maybedefault(e,t){return"="==t?cont(expressionNoComma):void 0}function typeexpr(e){return"variable"==e?(v.marked="variable-3",cont(afterType)):void 0}function afterType(e,t){return"<"==t?cont(commasep(typeexpr,">"),afterType):"["==e?cont(expect("]"),afterType):void 0}function vardef(){return pass(pattern,maybetype,maybeAssign,vardefCont)}function pattern(e,t){return"modifier"==e?cont(pattern):"variable"==e?(register(t),cont()):"spread"==e?cont(pattern):"["==e?contCommasep(pattern,"]"):"{"==e?contCommasep(proppattern,"}"):void 0}function proppattern(e,t){return"variable"!=e||v.stream.match(/^\s*:/,!1)?("variable"==e&&(v.marked="property"),"spread"==e?cont(pattern):"}"==e?pass():cont(expect(":"),pattern,maybeAssign)):(register(t),cont(maybeAssign))}function maybeAssign(e,t){return"="==t?cont(expressionNoComma):void 0}function vardefCont(e){return","==e?cont(vardef):void 0}function maybeelse(e,t){return"keyword b"==e&&"else"==t?cont(pushlex("form","else"),statement,poplex):void 0}function forspec(e){return"("==e?cont(pushlex(")"),forspec1,expect(")"),poplex):void 0}function forspec1(e){return"var"==e?cont(vardef,expect(";"),forspec2):";"==e?cont(forspec2):"variable"==e?cont(formaybeinof):pass(expression,expect(";"),forspec2)}function formaybeinof(e,t){return"in"==t||"of"==t?(v.marked="keyword",cont(expression)):cont(maybeoperatorComma,forspec2)}function forspec2(e,t){return";"==e?cont(forspec3):"in"==t||"of"==t?(v.marked="keyword",cont(expression)):pass(expression,expect(";"),forspec3)}function forspec3(e){")"!=e&&cont(expression)}function functiondef(e,t){return"*"==t?(v.marked="keyword",cont(functiondef)):"variable"==e?(register(t),cont(functiondef)):"("==e?cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,maybetype,statement,popcontext):void 0}function funarg(e){return"spread"==e?cont(funarg):pass(pattern,maybetype,maybedefault)}function className(e,t){return"variable"==e?(register(t),cont(classNameAfter)):void 0}function classNameAfter(e,t){return"extends"==t?cont(expression,classNameAfter):"{"==e?cont(pushlex("}"),classBody,poplex):void 0}function classBody(e,t){return"variable"==e||"keyword"==v.style?"static"==t?(v.marked="keyword",cont(classBody)):(v.marked="property","get"==t||"set"==t?cont(classGetterSetter,functiondef,classBody):cont(functiondef,classBody)):"*"==t?(v.marked="keyword",cont(classBody)):";"==e?cont(classBody):"}"==e?cont():void 0}function classGetterSetter(e){return"variable"!=e?pass():(v.marked="property",cont())}function afterExport(e,t){return"*"==t?(v.marked="keyword",cont(maybeFrom,expect(";"))):"default"==t?(v.marked="keyword",cont(expression,expect(";"))):pass(statement)}function afterImport(e){return"string"==e?cont():pass(importSpec,maybeFrom)}function importSpec(e,t){return"{"==e?contCommasep(importSpec,"}"):("variable"==e&&register(t),"*"==t&&(v.marked="keyword"),cont(maybeAs))}function maybeAs(e,t){return"as"==t?(v.marked="keyword",cont(importSpec)):void 0}function maybeFrom(e,t){return"from"==t?(v.marked="keyword",cont(expression)):void 0}function arrayLiteral(e){return"]"==e?cont():pass(expressionNoComma,maybeArrayComprehension)}function maybeArrayComprehension(e){return"for"==e?pass(comprehension,expect("]")):","==e?cont(commasep(maybeexpressionNoComma,"]")):pass(commasep(expressionNoComma,"]"))}function comprehension(e){return"for"==e?cont(forspec,comprehension):"if"==e?cont(expression,comprehension):void 0}function isContinuedStatement(e,t){return"operator"==e.lastType||","==e.lastType||d.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}var n,i,o=t.indentUnit,a=r.statementIndent,l=r.jsonld,s=r.json||l,u=r.typescript,c=r.wordCharacters||/[\w$\xa1-\uffff]/,f=function(){function kw(e){return{type:e,style:"keyword"}}var e=kw("keyword a"),t=kw("keyword b"),r=kw("keyword c"),n=kw("operator"),i={type:"atom",style:"atom"},o={"if":kw("if"),"while":e,"with":e,"else":t,"do":t,"try":t,"finally":t,"return":r,"break":r,"continue":r,"new":kw("new"),"delete":r,"throw":r,"debugger":r,"var":kw("var"),"const":kw("var"),let:kw("var"),"function":kw("function"),"catch":kw("catch"),"for":kw("for"),"switch":kw("switch"),"case":kw("case"),"default":kw("default"),"in":n,"typeof":n,"instanceof":n,"true":i,"false":i,"null":i,undefined:i,NaN:i,Infinity:i,"this":kw("this"),"class":kw("class"),"super":kw("atom"),"yield":r,"export":kw("export"),"import":kw("import"),"extends":r,await:r,async:kw("async")};if(u){var a={type:"variable",style:"variable-3"},l={"interface":kw("class"),"implements":r,namespace:r,module:kw("module"),"enum":kw("module"),"public":kw("modifier"),"private":kw("modifier"),"protected":kw("modifier"),"abstract":kw("modifier"),as:n,string:a,number:a,"boolean":a,any:a};for(var s in l)o[s]=l[s]}return o}(),d=/[+\-*&%=<>!?|~^]/,p=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,h="([{}])",g={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},v={state:null,column:null,marked:null,cc:null},m={name:"this",next:{name:"arguments"}};return poplex.lex=!0,{startState:function(e){var t={tokenize:tokenBase,lastType:"sof",cc:[],lexical:new JSLexical((e||0)-o,0,"block",!1),localVars:r.localVars,context:r.localVars&&{vars:r.localVars},indented:e||0};return r.globalVars&&"object"==typeof r.globalVars&&(t.globalVars=r.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),findFatArrow(e,t)),t.tokenize!=tokenComment&&e.eatSpace())return null;var r=t.tokenize(e,t);return"comment"==n?r:(t.lastType="operator"!=n||"++"!=i&&"--"!=i?n:"incdec",parseJS(t,r,n,i,e))},indent:function(t,n){if(t.tokenize==tokenComment)return e.Pass;if(t.tokenize!=tokenBase)return 0;var i=n&&n.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(n))for(var s=t.cc.length-1;s>=0;--s){var u=t.cc[s];if(u==poplex)l=l.prev;else if(u!=maybeelse)break}"stat"==l.type&&"}"==i&&(l=l.prev),a&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var c=l.type,f=i==c;return"vardef"==c?l.indented+("operator"==t.lastType||","==t.lastType?l.info+1:0):"form"==c&&"{"==i?l.indented:"form"==c?l.indented+o:"stat"==c?l.indented+(isContinuedStatement(t,n)?a||o:0):"switch"!=l.info||f||0==r.doubleIndentSwitch?l.align?l.column+(f?0:1):l.indented+(f?0:o):l.indented+(/^(?:case|default)\b/.test(n)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:s?null:"/*",blockCommentEnd:s?null:"*/",lineComment:s?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:s?"json":"javascript",jsonldMode:l,jsonMode:s,expressionAllowed:expressionAllowed,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=expression&&t!=expressionNoComma||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},function(e,t,r){!function(t){e.exports=t()}(function(){"use strict";function CodeMirror(e,t){if(!(this instanceof CodeMirror))return new CodeMirror(e,t);this.options=t=t?copyObj(t):{},copyObj(H,t,!1),setGuttersForLineNumbers(t);var r=t.value;"string"==typeof r&&(r=new ce(r,t.mode,null,t.lineSeparator)),this.doc=r;var n=new CodeMirror.inputStyles[t.inputStyle](this),i=this.display=new Display(e,r,n);i.wrapper.CodeMirror=this,updateGutters(this),themeChanged(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),t.autofocus&&!g&&i.input.focus(),initScrollbars(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Delayed,keySeq:null,specialChars:null};var s=this;o&&11>a&&setTimeout(function(){s.display.input.reset(!0)},20),registerEventHandlers(this),ensureGlobalHandlers(),startOperation(this),this.curOp.forceUpdate=!0,attachDoc(this,r),t.autofocus&&!g||s.hasFocus()?setTimeout(bind(onFocus,this),20):onBlur(this);for(var u in B)B.hasOwnProperty(u)&&B[u](this,t[u],q);maybeUpdateLineNumberWidth(this),t.finishInit&&t.finishInit(this);for(var c=0;c<K.length;++c)K[c](this);endOperation(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(i.lineDiv).textRendering&&(i.lineDiv.style.textRendering="auto")}function Display(e,t,n){var i=this;this.input=n,i.scrollbarFiller=elt("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=elt("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=elt("div",null,"CodeMirror-code"),i.selectionDiv=elt("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=elt("div",null,"CodeMirror-cursors"),i.measure=elt("div",null,"CodeMirror-measure"),i.lineMeasure=elt("div",null,"CodeMirror-measure"),i.lineSpace=elt("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none"),i.mover=elt("div",[elt("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=elt("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=elt("div",null,null,"position: absolute; height: "+we+"px; width: 1px;"),i.gutters=elt("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=elt("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=elt("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),o&&8>a&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),l||r&&g||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,n.init(i)}function loadMode(e){e.doc.mode=CodeMirror.getMode(e.options,e.doc.modeOption),resetModeState(e)}function resetModeState(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,startWorker(e,100),e.state.modeGen++,e.curOp&&regChange(e)}function wrappingChanged(e){e.options.lineWrapping?(je(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Ne(e.display.wrapper,"CodeMirror-wrap"),findMaxLine(e)),estimateLineHeights(e),regChange(e),clearCaches(e),setTimeout(function(){updateScrollbars(e)},100)}function estimateHeight(e){var t=textHeight(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/charWidth(e.display)-3);return function(i){if(lineIsHidden(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}function estimateLineHeights(e){var t=e.doc,r=estimateHeight(e);t.iter(function(e){var t=r(e);t!=e.height&&updateLineHeight(e,t)})}function themeChanged(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),clearCaches(e)}function guttersChanged(e){updateGutters(e),regChange(e),setTimeout(function(){alignHorizontally(e)},20)}function updateGutters(e){var t=e.display.gutters,r=e.options.gutters;removeChildren(t);for(var n=0;n<r.length;++n){var i=r[n],o=t.appendChild(elt("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none",updateGutterSpace(e)}function updateGutterSpace(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function lineLength(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=collapsedSpanAtStart(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=collapsedSpanAtEnd(n);){var i=t.find(0,!0);r-=n.text.length-i.from.ch,n=i.to.line,r+=n.text.length-i.to.ch}return r}function findMaxLine(e){var t=e.display,r=e.doc;t.maxLine=getLine(r,r.first),t.maxLineLength=lineLength(t.maxLine),t.maxLineChanged=!0,r.iter(function(e){var r=lineLength(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)})}function setGuttersForLineNumbers(e){var t=indexOf(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function measureForScrollbars(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+paddingVert(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+scrollGap(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}function NativeScrollbars(e,t,r){this.cm=r;var n=this.vert=elt("div",[elt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=elt("div",[elt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(n),e(i),ve(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),ve(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,o&&8>a&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function NullScrollbars(){}function initScrollbars(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Ne(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new CodeMirror.scrollbarModel[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ve(t,"mousedown",function(){e.state.focused&&setTimeout(function(){e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,r){"horizontal"==r?setScrollLeft(e,t):setScrollTop(e,t)},e),e.display.scrollbars.addClass&&je(e.display.wrapper,e.display.scrollbars.addClass)}function updateScrollbars(e,t){t||(t=measureForScrollbars(e));var r=e.display.barWidth,n=e.display.barHeight;updateScrollbarsInner(e,t);for(var i=0;4>i&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&updateHeightsInViewport(e),updateScrollbarsInner(e,measureForScrollbars(e)),r=e.display.barWidth,n=e.display.barHeight}function updateScrollbarsInner(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}function visibleLines(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-paddingTop(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,o=lineAtHeight(t,n),a=lineAtHeight(t,i);if(r&&r.ensure){var l=r.ensure.from.line,s=r.ensure.to.line;o>l?(o=l,a=lineAtHeight(t,heightAtLine(getLine(t,l))+e.wrapper.clientHeight)):Math.min(s,t.lastLine())>=a&&(o=lineAtHeight(t,heightAtLine(getLine(t,s))-e.wrapper.clientHeight),a=s)}return{from:o,to:Math.max(a,o+1)}}function alignHorizontally(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=compensateForHScroll(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",a=0;a<r.length;a++)if(!r[a].hidden){e.options.fixedGutter&&r[a].gutter&&(r[a].gutter.style.left=o);var l=r[a].alignable;if(l)for(var s=0;s<l.length;s++)l[s].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function maybeUpdateLineNumberWidth(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=lineNumberFor(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(elt("div",[elt("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-a)+1,n.lineNumWidth=n.lineNumInnerWidth+a,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",updateGutterSpace(e),!0}return!1}function lineNumberFor(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function compensateForHScroll(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function DisplayUpdate(e,t,r){var n=e.display;this.viewport=t,this.visible=visibleLines(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=displayWidth(e),this.force=r,this.dims=getDimensions(e),this.events=[]}function maybeClipScrollbars(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=scrollGap(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=scrollGap(e)+"px",t.scrollbarsClipped=!0)}function updateDisplayIfNeeded(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return resetView(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==countDirtyView(e))return!1;maybeUpdateLineNumberWidth(e)&&(resetView(e),t.dims=getDimensions(e));var i=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(n.first,r.viewFrom)),r.viewTo>a&&r.viewTo-a<20&&(a=Math.min(i,r.viewTo)),_&&(o=visualLineNo(e.doc,o),a=visualLineEndNo(e.doc,a));var l=o!=r.viewFrom||a!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;adjustView(e,o,a),r.viewOffset=heightAtLine(getLine(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var s=countDirtyView(e);if(!l&&0==s&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var u=activeElt();return s>4&&(r.lineDiv.style.display="none"),patchDisplay(e,r.updateLineNumbers,t.dims),s>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,u&&activeElt()!=u&&u.offsetHeight&&u.focus(),removeChildren(r.cursorDiv),removeChildren(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,l&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,startWorker(e,400)),r.updateLineNumbers=null,!0}function postUpdateDisplay(e,t){for(var r=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=displayWidth(e)||(r&&null!=r.top&&(r={top:Math.min(e.doc.height+paddingVert(e.display)-displayHeight(e),r.top)}),t.visible=visibleLines(e.display,e.doc,r),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&updateDisplayIfNeeded(e,t);n=!1){updateHeightsInViewport(e);var i=measureForScrollbars(e);updateSelection(e),updateScrollbars(e,i),setDocumentHeight(e,i)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function updateDisplaySimple(e,t){var r=new DisplayUpdate(e,t);if(updateDisplayIfNeeded(e,r)){updateHeightsInViewport(e),postUpdateDisplay(e,r);var n=measureForScrollbars(e);updateSelection(e),updateScrollbars(e,n),setDocumentHeight(e,n),r.finish()}}function setDocumentHeight(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+scrollGap(e)+"px"}function updateHeightsInViewport(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i,l=t.view[n];if(!l.hidden){if(o&&8>a){var s=l.node.offsetTop+l.node.offsetHeight;i=s-r,r=s}else{var u=l.node.getBoundingClientRect();i=u.bottom-u.top}var c=l.line.height-i;if(2>i&&(i=textHeight(t)),(c>.001||-.001>c)&&(updateLineHeight(l.line,i),updateWidgetHeight(l.line),l.rest))for(var f=0;f<l.rest.length;f++)updateWidgetHeight(l.rest[f])}}}function updateWidgetHeight(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function getDimensions(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)r[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,n[e.options.gutters[a]]=o.clientWidth;return{fixedPos:compensateForHScroll(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function patchDisplay(e,t,r){function rm(t){var r=t.nextSibling;return l&&v&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var n=e.display,i=e.options.lineNumbers,o=n.lineDiv,a=o.firstChild,s=n.view,u=n.viewFrom,c=0;c<s.length;c++){var f=s[c];if(f.hidden);else if(f.node&&f.node.parentNode==o){for(;a!=f.node;)a=rm(a);var d=i&&null!=t&&u>=t&&f.lineNumber;f.changes&&(indexOf(f.changes,"gutter")>-1&&(d=!1),updateLineForChanges(e,f,u,r)),d&&(removeChildren(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(lineNumberFor(e.options,u)))),a=f.node.nextSibling}else{var p=buildLineElement(e,f,u,r);o.insertBefore(p,a)}u+=f.size}for(;a;)a=rm(a)}function updateLineForChanges(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?updateLineText(e,t):"gutter"==o?updateLineGutter(e,t,r,n):"class"==o?updateLineClasses(t):"widget"==o&&updateLineWidgets(e,t,n)}t.changes=null}function ensureLineWrapped(e){return e.node==e.text&&(e.node=elt("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),o&&8>a&&(e.node.style.zIndex=2)),e.node}function updateLineBackground(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var r=ensureLineWrapped(e);e.background=r.insertBefore(elt("div",null,t),r.firstChild)}}function getLineContent(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):buildLineContent(e,t)}function updateLineText(e,t){var r=t.text.className,n=getLineContent(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,updateLineClasses(t)):r&&(t.text.className=r)}function updateLineClasses(e){updateLineBackground(e),e.line.wrapClass?ensureLineWrapped(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function updateLineGutter(e,t,r,n){
if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=ensureLineWrapped(t);t.gutterBackground=elt("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var i=ensureLineWrapped(t),a=t.gutter=elt("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),i.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(elt("div",lineNumberFor(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.options.gutters.length;++l){var s=e.options.gutters[l],u=o.hasOwnProperty(s)&&o[s];u&&a.appendChild(elt("div",[u],"CodeMirror-gutter-elt","left: "+n.gutterLeft[s]+"px; width: "+n.gutterWidth[s]+"px"))}}}function updateLineWidgets(e,t,r){t.alignable&&(t.alignable=null);for(var n,i=t.node.firstChild;i;i=n){var n=i.nextSibling;"CodeMirror-linewidget"==i.className&&t.node.removeChild(i)}insertLineWidgets(e,t,r)}function buildLineElement(e,t,r,n){var i=getLineContent(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),updateLineClasses(t),updateLineGutter(e,t,r,n),insertLineWidgets(e,t,n),t.node}function insertLineWidgets(e,t,r){if(insertLineWidgetsFor(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)insertLineWidgetsFor(e,t.rest[n],t,r,!1)}function insertLineWidgetsFor(e,t,r,n,i){if(t.widgets)for(var o=ensureLineWrapped(r),a=0,l=t.widgets;a<l.length;++a){var s=l[a],u=elt("div",[s.node],"CodeMirror-linewidget");s.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),positionLineWidget(s,u,r,n),e.display.input.setUneditable(u),i&&s.above?o.insertBefore(u,r.gutter||r.text):o.appendChild(u),signalLater(s,"redraw")}}function positionLineWidget(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function copyPos(e){return S(e.line,e.ch)}function maxPos(e,t){return k(e,t)<0?t:e}function minPos(e,t){return k(e,t)<0?e:t}function ensureFocus(e){e.state.focused||(e.display.input.focus(),onFocus(e))}function applyTextInput(e,t,r,n,i){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var a=e.state.pasteIncoming||"paste"==i,l=o.splitLines(t),s=null;if(a&&n.ranges.length>1)if(L&&L.text.join("\n")==t){if(n.ranges.length%L.text.length==0){s=[];for(var u=0;u<L.text.length;u++)s.push(o.splitLines(L.text[u]))}}else l.length==n.ranges.length&&(s=map(l,function(e){return[e]}));for(var u=n.ranges.length-1;u>=0;u--){var c=n.ranges[u],f=c.from(),d=c.to();c.empty()&&(r&&r>0?f=S(f.line,f.ch-r):e.state.overwrite&&!a?d=S(d.line,Math.min(getLine(o,d.line).text.length,d.ch+lst(l).length)):L&&L.lineWise&&L.text.join("\n")==t&&(f=d=S(f.line,0)));var p=e.curOp.updateInput,h={from:f,to:d,text:s?s[u%s.length]:l,origin:i||(a?"paste":e.state.cutIncoming?"cut":"+input")};makeChange(e.doc,h),signalLater(e,"inputRead",e,h)}t&&!a&&triggerElectric(e,t),ensureCursorVisible(e),e.curOp.updateInput=p,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function handlePaste(e,t){var r=e.clipboardData&&e.clipboardData.getData("text/plain");return r?(e.preventDefault(),t.isReadOnly()||t.options.disableInput||runInOp(t,function(){applyTextInput(t,r,0,null,"paste")}),!0):void 0}function triggerElectric(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var l=0;l<o.electricChars.length;l++)if(t.indexOf(o.electricChars.charAt(l))>-1){a=indentLine(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(getLine(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=indentLine(e,i.head.line,"smart"));a&&signalLater(e,"electricInput",e,i.head.line)}}}function copyableRanges(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,o={anchor:S(i,0),head:S(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function disableBrowserMagic(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function TextareaInput(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Delayed,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function hiddenTextarea(){var e=elt("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=elt("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),h&&(e.style.border="1px solid black"),disableBrowserMagic(e),t}function ContentEditableInput(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Delayed,this.gracePeriod=!1}function posToDOM(e,t){var r=findViewForLine(e,t.line);if(!r||r.hidden)return null;var n=getLine(e.doc,t.line),i=mapFromLineView(r,n,t.line),o=getOrder(n),a="left";if(o){var l=getBidiPartAt(o,t.ch);a=l%2?"right":"left"}var s=nodeAndOffsetInLineMap(i.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function badPos(e,t){return t&&(e.bad=!0),e}function domToPos(e,t,r){var n;if(t==e.display.lineDiv){if(n=e.display.lineDiv.childNodes[r],!n)return badPos(e.clipPos(S(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return locateNodeInLineView(o,t,r)}}function locateNodeInLineView(e,t,r){function find(t,r,n){for(var i=-1;i<(u?u.length:0);i++)for(var o=0>i?s.map:u[i],a=0;a<o.length;a+=3){var l=o[a+2];if(l==t||l==r){var c=lineNo(0>i?e.line:e.rest[i]),f=o[a]+n;return(0>n||l!=t)&&(f=o[a+(n?1:0)]),S(c,f)}}}var n=e.text.firstChild,i=!1;if(!t||!Pe(n,t))return badPos(S(lineNo(e.line),0),!0);if(t==n&&(i=!0,t=n.childNodes[r],r=0,!t)){var o=e.rest?lst(e.rest):e.line;return badPos(S(lineNo(o),o.text.length),i)}var a=3==t.nodeType?t:null,l=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,r&&(r=a.nodeValue.length));l.parentNode!=n;)l=l.parentNode;var s=e.measure,u=s.maps,c=find(a,l,r);if(c)return badPos(c,i);for(var f=l.nextSibling,d=a?a.nodeValue.length-r:0;f;f=f.nextSibling){if(c=find(f,f.firstChild,0))return badPos(S(c.line,c.ch-d),i);d+=f.textContent.length}for(var p=l.previousSibling,d=r;p;p=p.previousSibling){if(c=find(p,p.firstChild,-1))return badPos(S(c.line,c.ch+d),i);d+=f.textContent.length}}function domTextBetween(e,t,r,n,i){function recognizeMarker(e){return function(t){return t.id==e}}function walk(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(null!=r)return""==r&&(r=t.textContent.replace(/\u200b/g,"")),void(o+=r);var s,u=t.getAttribute("cm-marker");if(u){var c=e.findMarks(S(n,0),S(i+1,0),recognizeMarker(+u));return void(c.length&&(s=c[0].find())&&(o+=getBetween(e.doc,s.from,s.to).join(l)))}if("false"==t.getAttribute("contenteditable"))return;for(var f=0;f<t.childNodes.length;f++)walk(t.childNodes[f]);/^(pre|div|p)$/i.test(t.nodeName)&&(a=!0)}else if(3==t.nodeType){var d=t.nodeValue;if(!d)return;a&&(o+=l,a=!1),o+=d}}for(var o="",a=!1,l=e.doc.lineSeparator();walk(t),t!=r;)t=t.nextSibling;return o}function Selection(e,t){this.ranges=e,this.primIndex=t}function Range(e,t){this.anchor=e,this.head=t}function normalizeSelection(e,t){var r=e[t];e.sort(function(e,t){return k(e.from(),t.from())}),t=indexOf(e,r);for(var n=1;n<e.length;n++){var i=e[n],o=e[n-1];if(k(o.to(),i.from())>=0){var a=minPos(o.from(),i.from()),l=maxPos(o.to(),i.to()),s=o.empty()?i.from()==i.head:o.from()==o.head;t>=n&&--t,e.splice(--n,2,new Range(s?l:a,s?a:l))}}return new Selection(e,t)}function simpleSelection(e,t){return new Selection([new Range(e,t||e)],0)}function clipLine(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function clipPos(e,t){if(t.line<e.first)return S(e.first,0);var r=e.first+e.size-1;return t.line>r?S(r,getLine(e,r).text.length):clipToLen(t,getLine(e,t.line).text.length)}function clipToLen(e,t){var r=e.ch;return null==r||r>t?S(e.line,t):0>r?S(e.line,0):e}function isLine(e,t){return t>=e.first&&t<e.first+e.size}function clipPosArray(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=clipPos(e,t[n]);return r}function extendRange(e,t,r,n){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(n){var o=k(r,i)<0;o!=k(n,i)<0?(i=r,r=n):o!=k(r,n)<0&&(r=n)}return new Range(i,r)}return new Range(n||r,r)}function extendSelection(e,t,r,n){setSelection(e,new Selection([extendRange(e,e.sel.primary(),t,r)],0),n)}function extendSelections(e,t,r){for(var n=[],i=0;i<e.sel.ranges.length;i++)n[i]=extendRange(e,e.sel.ranges[i],t[i],null);var o=normalizeSelection(n,e.sel.primIndex);setSelection(e,o,r)}function replaceOneSelection(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,setSelection(e,normalizeSelection(i,e.sel.primIndex),n)}function setSimpleSelection(e,t,r,n){setSelection(e,simpleSelection(t,r),n)}function filterSelectionChange(e,t,r){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var r=0;r<t.length;r++)this.ranges[r]=new Range(clipPos(e,t[r].anchor),clipPos(e,t[r].head))},origin:r&&r.origin};return be(e,"beforeSelectionChange",e,n),e.cm&&be(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?normalizeSelection(n.ranges,n.ranges.length-1):t}function setSelectionReplaceHistory(e,t,r){var n=e.history.done,i=lst(n);i&&i.ranges?(n[n.length-1]=t,setSelectionNoUndo(e,t,r)):setSelection(e,t,r)}function setSelection(e,t,r){setSelectionNoUndo(e,t,r),addSelectionToHistory(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function setSelectionNoUndo(e,t,r){(hasHandler(e,"beforeSelectionChange")||e.cm&&hasHandler(e.cm,"beforeSelectionChange"))&&(t=filterSelectionChange(e,t,r));var n=r&&r.bias||(k(t.primary().head,e.sel.primary().head)<0?-1:1);setSelectionInner(e,skipAtomicInSelection(e,t,n,!0)),r&&r.scroll===!1||!e.cm||ensureCursorVisible(e.cm)}function setSelectionInner(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,signalCursorActivity(e.cm)),signalLater(e,"cursorActivity",e))}function reCheckSelection(e){setSelectionInner(e,skipAtomicInSelection(e,e.sel,null,!1),_e)}function skipAtomicInSelection(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],l=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],s=skipAtomic(e,a.anchor,l&&l.anchor,r,n),u=skipAtomic(e,a.head,l&&l.head,r,n);(i||s!=a.anchor||u!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Range(s,u))}return i?normalizeSelection(i,t.primIndex):t}function skipAtomicInner(e,t,r,n,i){var o=getLine(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var l=o.markedSpans[a],s=l.marker;if((null==l.from||(s.inclusiveLeft?l.from<=t.ch:l.from<t.ch))&&(null==l.to||(s.inclusiveRight?l.to>=t.ch:l.to>t.ch))){if(i&&(be(s,"beforeCursorEnter"),s.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!s.atomic)continue;if(r){var u,c=s.find(0>n?1:-1);if((0>n?s.inclusiveRight:s.inclusiveLeft)&&(c=movePos(e,c,-n,c&&c.line==t.line?o:null)),c&&c.line==t.line&&(u=k(c,r))&&(0>n?0>u:u>0))return skipAtomicInner(e,c,t,n,i)}var f=s.find(0>n?-1:1);return(0>n?s.inclusiveLeft:s.inclusiveRight)&&(f=movePos(e,f,n,f.line==t.line?o:null)),f?skipAtomicInner(e,f,t,n,i):null}}return t}function skipAtomic(e,t,r,n,i){var o=n||1,a=skipAtomicInner(e,t,r,o,i)||!i&&skipAtomicInner(e,t,r,o,!0)||skipAtomicInner(e,t,r,-o,i)||!i&&skipAtomicInner(e,t,r,-o,!0);return a?a:(e.cantEdit=!0,S(e.first,0))}function movePos(e,t,r,n){return 0>r&&0==t.ch?t.line>e.first?clipPos(e,S(t.line-1)):null:r>0&&t.ch==(n||getLine(e,t.line)).text.length?t.line<e.first+e.size-1?S(t.line+1,0):null:new S(t.line,t.ch+r)}function updateSelection(e){e.display.input.showSelection(e.display.input.prepareSelection())}function prepareSelection(e,t){for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),a=0;a<r.sel.ranges.length;a++)if(t!==!1||a!=r.sel.primIndex){var l=r.sel.ranges[a];if(!(l.from().line>=e.display.viewTo||l.to().line<e.display.viewFrom)){var s=l.empty();(s||e.options.showCursorWhenSelecting)&&drawSelectionCursor(e,l.head,i),s||drawSelectionRange(e,l,o)}}return n}function drawSelectionCursor(e,t,r){var n=cursorCoords(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=r.appendChild(elt("div"," ","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var o=r.appendChild(elt("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=n.other.left+"px",o.style.top=n.other.top+"px",o.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function drawSelectionRange(e,t,r){function add(e,t,r,n){0>t&&(t=0),t=Math.round(t),n=Math.round(n),o.appendChild(elt("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==r?s-e:r)+"px; height: "+(n-t)+"px"))}function drawForLine(t,r,n){function coords(r,n){return charCoords(e,S(t,r),"div",u,n)}var o,a,u=getLine(i,t),c=u.text.length;return iterateBidiSections(getOrder(u),r||0,null==n?c:n,function(e,t,i){var u,f,d,p=coords(e,"left");if(e==t)u=p,f=d=p.left;else{if(u=coords(t-1,"right"),"rtl"==i){var h=p;p=u,u=h}f=p.left,d=u.right}null==r&&0==e&&(f=l),u.top-p.top>3&&(add(f,p.top,null,p.bottom),f=l,p.bottom<u.top&&add(f,p.bottom,null,u.top)),null==n&&t==c&&(d=s),(!o||p.top<o.top||p.top==o.top&&p.left<o.left)&&(o=p),(!a||u.bottom>a.bottom||u.bottom==a.bottom&&u.right>a.right)&&(a=u),l+1>f&&(f=l),add(f,u.top,d-f,u.bottom)}),{start:o,end:a}}var n=e.display,i=e.doc,o=document.createDocumentFragment(),a=paddingH(e.display),l=a.left,s=Math.max(n.sizerWidth,displayWidth(e)-n.sizer.offsetLeft)-a.right,u=t.from(),c=t.to();if(u.line==c.line)drawForLine(u.line,u.ch,c.ch);else{var f=getLine(i,u.line),d=getLine(i,c.line),p=visualLine(f)==visualLine(d),h=drawForLine(u.line,u.ch,p?f.text.length+1:null).end,g=drawForLine(c.line,p?0:null,c.ch).start;p&&(h.top<g.top-2?(add(h.right,h.top,null,h.bottom),add(l,g.top,g.left,g.bottom)):add(h.right,h.top,g.left-h.right,h.bottom)),h.bottom<g.top&&add(l,h.bottom,null,g.top)}r.appendChild(o)}function restartBlink(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function startWorker(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,bind(highlightWorker,e))}function highlightWorker(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=$(t.mode,getStateBefore(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var a=o.styles,l=o.text.length>e.options.maxHighlightLength,s=highlightLine(e,o,l?$(t.mode,n):n,!0);o.styles=s.styles;var u=o.styleClasses,c=s.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),d=0;!f&&d<a.length;++d)f=a[d]!=o.styles[d];f&&i.push(t.frontier),o.stateAfter=l?n:$(t.mode,n)}else o.text.length<=e.options.maxHighlightLength&&processLine(e,o.text,n),o.stateAfter=t.frontier%5==0?$(t.mode,n):null;return++t.frontier,+new Date>r?(startWorker(e,e.options.workDelay),!0):void 0}),i.length&&runInOp(e,function(){for(var t=0;t<i.length;t++)regLineChange(e,i[t],"text")})}}function findStartLine(e,t,r){for(var n,i,o=e.doc,a=r?-1:t-(e.doc.mode.innerMode?1e3:100),l=t;l>a;--l){if(l<=o.first)return o.first;var s=getLine(o,l-1);if(s.stateAfter&&(!r||l<=o.frontier))return l;var u=Le(s.text,null,e.options.tabSize);(null==i||n>u)&&(i=l-1,n=u)}return i}function getStateBefore(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return!0;var o=findStartLine(e,t,r),a=o>n.first&&getLine(n,o-1).stateAfter;return a=a?$(n.mode,a):X(n.mode),n.iter(o,t,function(r){processLine(e,r.text,a);var l=o==t-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;r.stateAfter=l?$(n.mode,a):null,++o}),r&&(n.frontier=o),a}function paddingTop(e){return e.lineSpace.offsetTop}function paddingVert(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function paddingH(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=removeChildrenAndAdd(e.measure,elt("pre","x")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function scrollGap(e){return we-e.display.nativeBarWidth}function displayWidth(e){return e.display.scroller.clientWidth-scrollGap(e)-e.display.barWidth}function displayHeight(e){return e.display.scroller.clientHeight-scrollGap(e)-e.display.barHeight}function ensureLineHeights(e,t,r){var n=e.options.lineWrapping,i=n&&displayWidth(e);if(!t.measure.heights||n&&t.measure.width!=i){var o=t.measure.heights=[];if(n){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),l=0;l<a.length-1;l++){var s=a[l],u=a[l+1];Math.abs(s.bottom-u.bottom)>2&&o.push((s.bottom+u.top)/2-r.top)}}o.push(r.bottom-r.top)}}function mapFromLineView(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var n=0;n<e.rest.length;n++)if(lineNo(e.rest[n])>r)return{map:e.measure.maps[n],cache:e.measure.caches[n],before:!0}}function updateExternalMeasurement(e,t){t=visualLine(t);var r=lineNo(t),n=e.display.externalMeasured=new LineView(e.doc,t,r);n.lineN=r;var i=n.built=buildLineContent(e,n);return n.text=i.pre,removeChildrenAndAdd(e.display.lineMeasure,i.pre),n}function measureChar(e,t,r,n){return measureCharPrepared(e,prepareMeasureForLine(e,t),r,n)}function findViewForLine(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[findViewIndex(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function prepareMeasureForLine(e,t){var r=lineNo(t),n=findViewForLine(e,r);n&&!n.text?n=null:n&&n.changes&&(updateLineForChanges(e,n,r,getDimensions(e)),e.curOp.forceUpdate=!0),n||(n=updateExternalMeasurement(e,t));var i=mapFromLineView(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function measureCharPrepared(e,t,r,n,i){t.before&&(r=-1);var o,a=r+(n||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(ensureLineHeights(e,t.view,t.rect),t.hasHeights=!0),o=measureCharInner(e,t,r,n),o.bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function nodeAndOffsetInLineMap(e,t,r){for(var n,i,o,a,l=0;l<e.length;l+=3){var s=e[l],u=e[l+1];if(s>t?(i=0,o=1,a="left"):u>t?(i=t-s,o=i+1):(l==e.length-3||t==u&&e[l+3]>t)&&(o=u-s,i=o-1,t>=u&&(a="right")),null!=i){if(n=e[l+2],s==u&&r==(n.insertLeft?"left":"right")&&(a=r),"left"==r&&0==i)for(;l&&e[l-2]==e[l-3]&&e[l-1].insertLeft;)n=e[(l-=3)+2],a="left";if("right"==r&&i==u-s)for(;l<e.length-3&&e[l+3]==e[l+4]&&!e[l+5].insertLeft;)n=e[(l+=3)+2],a="right";break}}return{node:n,start:i,end:o,collapse:a,coverStart:s,coverEnd:u}}function measureCharInner(e,t,r,n){var i,l=nodeAndOffsetInLineMap(t.map,r,n),s=l.node,u=l.start,c=l.end,f=l.collapse;if(3==s.nodeType){for(var d=0;4>d;d++){for(;u&&isExtendingChar(t.line.text.charAt(l.coverStart+u));)--u;for(;l.coverStart+c<l.coverEnd&&isExtendingChar(t.line.text.charAt(l.coverStart+c));)++c;if(o&&9>a&&0==u&&c==l.coverEnd-l.coverStart)i=s.parentNode.getBoundingClientRect();else if(o&&e.options.lineWrapping){var p=Ae(s,u,c).getClientRects();i=p.length?p["right"==n?p.length-1:0]:A}else i=Ae(s,u,c).getBoundingClientRect()||A;if(i.left||i.right||0==u)break;c=u,u-=1,f="right"}o&&11>a&&(i=maybeUpdateRectForZooming(e.display.measure,i))}else{u>0&&(f=n="right");var p;i=e.options.lineWrapping&&(p=s.getClientRects()).length>1?p["right"==n?p.length-1:0]:s.getBoundingClientRect()}if(o&&9>a&&!u&&(!i||!i.left&&!i.right)){var h=s.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+charWidth(e.display),top:h.top,bottom:h.bottom}:A}for(var g=i.top-t.rect.top,v=i.bottom-t.rect.top,m=(g+v)/2,y=t.view.measure.heights,d=0;d<y.length-1&&!(m<y[d]);d++);var b=d?y[d-1]:0,x=y[d],w={left:("right"==f?i.right:i.left)-t.rect.left,right:("left"==f?i.left:i.right)-t.rect.left,top:b,bottom:x};return i.left||i.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=g,w.rbottom=v),w}function maybeUpdateRectForZooming(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!hasBadZoomedRects(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}function clearLineMeasurementCacheFor(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function clearLineMeasurementCache(e){e.display.externalMeasure=null,removeChildren(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)clearLineMeasurementCacheFor(e.display.view[t])}function clearCaches(e){clearLineMeasurementCache(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function pageScrollX(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pageScrollY(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function intoCoordSystem(e,t,r,n){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var o=widgetHeight(t.widgets[i]);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var a=heightAtLine(t);if("local"==n?a+=paddingTop(e.display):a-=e.display.viewOffset,"page"==n||"window"==n){var l=e.display.lineSpace.getBoundingClientRect();a+=l.top+("window"==n?0:pageScrollY());var s=l.left+("window"==n?0:pageScrollX());r.left+=s,r.right+=s}return r.top+=a,r.bottom+=a,r}function fromCoordSystem(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=pageScrollX(),i-=pageScrollY();else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:n-a.left,top:i-a.top}}function charCoords(e,t,r,n,i){return n||(n=getLine(e.doc,t.line)),intoCoordSystem(e,n,measureChar(e,n,t.ch,i),r)}function cursorCoords(e,t,r,n,i,o){function get(t,a){var l=measureCharPrepared(e,i,t,a?"right":"left",o);return a?l.left=l.right:l.right=l.left,intoCoordSystem(e,n,l,r)}function getBidi(e,t){var r=a[t],n=r.level%2;return e==bidiLeft(r)&&t&&r.level<a[t-1].level?(r=a[--t],e=bidiRight(r)-(r.level%2?0:1),n=!0):e==bidiRight(r)&&t<a.length-1&&r.level<a[t+1].level&&(r=a[++t],e=bidiLeft(r)-r.level%2,n=!1),n&&e==r.to&&e>r.from?get(e-1):get(e,n)}n=n||getLine(e.doc,t.line),i||(i=prepareMeasureForLine(e,n));var a=getOrder(n),l=t.ch;if(!a)return get(l);var s=getBidiPartAt(a,l),u=getBidi(l,s);return null!=Ke&&(u.other=getBidi(l,Ke)),u}function estimateCoords(e,t){var r=0,t=clipPos(e.doc,t);e.options.lineWrapping||(r=charWidth(e.display)*t.ch);var n=getLine(e.doc,t.line),i=heightAtLine(n)+paddingTop(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function PosWithInfo(e,t,r,n){var i=S(e,t);return i.xRel=n,r&&(i.outside=!0),i}function coordsChar(e,t,r){var n=e.doc;if(r+=e.display.viewOffset,0>r)return PosWithInfo(n.first,0,!0,-1);var i=lineAtHeight(n,r),o=n.first+n.size-1;if(i>o)return PosWithInfo(n.first+n.size-1,getLine(n,o).text.length,!0,1);0>t&&(t=0);for(var a=getLine(n,i);;){var l=coordsCharInner(e,a,i,t,r),s=collapsedSpanAtEnd(a),u=s&&s.find(0,!0);if(!s||!(l.ch>u.from.ch||l.ch==u.from.ch&&l.xRel>0))return l;i=lineNo(a=u.to.line)}}function coordsCharInner(e,t,r,n,i){function getX(n){var i=cursorCoords(e,S(r,n),"line",t,s);return a=!0,o>i.bottom?i.left-l:o<i.top?i.left+l:(a=!1,i.left)}var o=i-heightAtLine(t),a=!1,l=2*e.display.wrapper.clientWidth,s=prepareMeasureForLine(e,t),u=getOrder(t),c=t.text.length,f=lineLeft(t),d=lineRight(t),p=getX(f),h=a,g=getX(d),v=a;if(n>g)return PosWithInfo(r,d,v,1);for(;;){if(u?d==f||d==moveVisually(t,f,1):1>=d-f){var m=p>n||g-n>=n-p?f:d,y=m==f?h:v,b=n-(m==f?p:g);if(v&&!u&&!/\s/.test(t.text.charAt(m))&&b>0&&m<t.text.length&&s.view.measure.heights.length>1){var x=measureCharPrepared(e,s,m,"right");o<=x.bottom&&o>=x.top&&Math.abs(n-x.right)<b&&(y=!1,m++,b=n-x.right)}for(;isExtendingChar(t.text.charAt(m));)++m;var w=PosWithInfo(r,m,y,-1>b?-1:b>1?1:0);return w}var C=Math.ceil(c/2),_=f+C;if(u){_=f;for(var k=0;C>k;++k)_=moveVisually(t,_,1)}var L=getX(_);L>n?(d=_,g=L,(v=a)&&(g+=1e3),c=C):(f=_,p=L,h=a,c-=C)}}function textHeight(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==M){M=elt("pre");for(var t=0;49>t;++t)M.appendChild(document.createTextNode("x")),M.appendChild(elt("br"));M.appendChild(document.createTextNode("x"))}removeChildrenAndAdd(e.measure,M);var r=M.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),removeChildren(e.measure),r||1}function charWidth(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=elt("span","xxxxxxxxxx"),r=elt("pre",[t]);removeChildrenAndAdd(e.measure,r);var n=t.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function startOperation(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++D},T?T.ops.push(e.curOp):e.curOp.ownsGroup=T={ops:[e.curOp],delayedCallbacks:[]}}function fireCallbacksForOps(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}function endOperation(e){var t=e.curOp,r=t.ownsGroup;if(r)try{fireCallbacksForOps(r)}finally{T=null;for(var n=0;n<r.ops.length;n++)r.ops[n].cm.curOp=null;endOperations(r)}}function endOperations(e){for(var t=e.ops,r=0;r<t.length;r++)endOperation_R1(t[r]);for(var r=0;r<t.length;r++)endOperation_W1(t[r]);for(var r=0;r<t.length;r++)endOperation_R2(t[r]);for(var r=0;r<t.length;r++)endOperation_W2(t[r]);for(var r=0;r<t.length;r++)endOperation_finish(t[r])}function endOperation_R1(e){var t=e.cm,r=t.display;maybeClipScrollbars(t),e.updateMaxLine&&findMaxLine(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new DisplayUpdate(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function endOperation_W1(e){e.updatedDisplay=e.mustUpdate&&updateDisplayIfNeeded(e.cm,e.update)}function endOperation_R2(e){var t=e.cm,r=t.display;e.updatedDisplay&&updateHeightsInViewport(t),e.barMeasure=measureForScrollbars(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=measureChar(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+scrollGap(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-displayWidth(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection(e.focus))}function endOperation_W2(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&setScrollLeft(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==activeElt()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&updateScrollbars(t,e.barMeasure),e.updatedDisplay&&setDocumentHeight(t,e.barMeasure),e.selectionChanged&&restartBlink(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&ensureFocus(e.cm)}function endOperation_finish(e){var t=e.cm,r=t.display,n=t.doc;if(e.updatedDisplay&&postUpdateDisplay(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null==e.scrollTop||r.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(n.scrollTop=Math.max(0,Math.min(r.scroller.scrollHeight-r.scroller.clientHeight,e.scrollTop)),r.scrollbars.setScrollTop(n.scrollTop),r.scroller.scrollTop=n.scrollTop),null==e.scrollLeft||r.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(n.scrollLeft=Math.max(0,Math.min(r.scroller.scrollWidth-r.scroller.clientWidth,e.scrollLeft)),r.scrollbars.setScrollLeft(n.scrollLeft),r.scroller.scrollLeft=n.scrollLeft,alignHorizontally(t)),e.scrollToPos){var i=scrollPosIntoView(t,clipPos(n,e.scrollToPos.from),clipPos(n,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&maybeScrollWindow(t,i)}var o=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(o)for(var l=0;l<o.length;++l)o[l].lines.length||be(o[l],"hide");if(a)for(var l=0;l<a.length;++l)a[l].lines.length&&be(a[l],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&be(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function runInOp(e,t){if(e.curOp)return t();startOperation(e);try{return t()}finally{endOperation(e)}}function operation(e,t){return function(){if(e.curOp)return t.apply(e,arguments);startOperation(e);try{return t.apply(e,arguments)}finally{endOperation(e)}}}function methodOp(e){return function(){if(this.curOp)return e.apply(this,arguments);startOperation(this);try{return e.apply(this,arguments)}finally{endOperation(this)}}}function docMethodOp(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);startOperation(t);try{return e.apply(this,arguments)}finally{endOperation(t)}}}function LineView(e,t,r){this.line=t,this.rest=visualLineContinued(t),this.size=this.rest?lineNo(lst(this.rest))-r+1:1,this.node=this.text=null,this.hidden=lineIsHidden(e,t)}function buildViewArray(e,t,r){for(var n,i=[],o=t;r>o;o=n){var a=new LineView(e.doc,getLine(e.doc,o),o);n=o+a.size,i.push(a)}return i}function regChange(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)_&&visualLineNo(e.doc,t)<i.viewTo&&resetView(e);else if(r<=i.viewFrom)_&&visualLineEndNo(e.doc,r+n)>i.viewFrom?resetView(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)resetView(e);else if(t<=i.viewFrom){var o=viewCuttingPoint(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):resetView(e)}else if(r>=i.viewTo){var o=viewCuttingPoint(e,t,t,-1);
o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):resetView(e)}else{var a=viewCuttingPoint(e,t,t,-1),l=viewCuttingPoint(e,r,r+n,1);a&&l?(i.view=i.view.slice(0,a.index).concat(buildViewArray(e,a.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=n):resetView(e)}var s=i.externalMeasured;s&&(r<s.lineN?s.lineN+=n:t<s.lineN+s.size&&(i.externalMeasured=null))}function regLineChange(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[findViewIndex(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==indexOf(a,r)&&a.push(r)}}}function resetView(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function findViewIndex(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var r=e.display.view,n=0;n<r.length;n++)if(t-=r[n].size,0>t)return n}function viewCuttingPoint(e,t,r,n){var i,o=findViewIndex(e,t),a=e.display.view;if(!_||r==e.doc.first+e.doc.size)return{index:o,lineN:r};for(var l=0,s=e.display.viewFrom;o>l;l++)s+=a[l].size;if(s!=t){if(n>0){if(o==a.length-1)return null;i=s+a[o].size-t,o++}else i=s-t;t+=i,r+=i}for(;visualLineNo(e.doc,r)!=r;){if(o==(0>n?0:a.length-1))return null;r+=n*a[o-(0>n?1:0)].size,o+=n}return{index:o,lineN:r}}function adjustView(e,t,r){var n=e.display,i=n.view;0==i.length||t>=n.viewTo||r<=n.viewFrom?(n.view=buildViewArray(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=buildViewArray(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(findViewIndex(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(buildViewArray(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,findViewIndex(e,r)))),n.viewTo=r}function countDirtyView(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function registerEventHandlers(e){function finishTouch(){t.activeTouch&&(r=setTimeout(function(){t.activeTouch=null},1e3),n=t.activeTouch,n.end=+new Date)}function isMouseLikeTouchEvent(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function farAway(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}var t=e.display;ve(t.scroller,"mousedown",operation(e,onMouseDown)),o&&11>a?ve(t.scroller,"dblclick",operation(e,function(t){if(!signalDOMEvent(e,t)){var r=posFromMouse(e,t);if(r&&!clickInGutter(e,t)&&!eventInWidget(e.display,t)){pe(t);var n=e.findWordAt(r);extendSelection(e.doc,n.anchor,n.head)}}})):ve(t.scroller,"dblclick",function(t){signalDOMEvent(e,t)||pe(t)}),w||ve(t.scroller,"contextmenu",function(t){onContextMenu(e,t)});var r,n={end:0};ve(t.scroller,"touchstart",function(i){if(!signalDOMEvent(e,i)&&!isMouseLikeTouchEvent(i)){clearTimeout(r);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-n.end<=300?n:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}}),ve(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),ve(t.scroller,"touchend",function(r){var n=t.activeTouch;if(n&&!eventInWidget(t,r)&&null!=n.left&&!n.moved&&new Date-n.start<300){var i,o=e.coordsChar(t.activeTouch,"page");i=!n.prev||farAway(n,n.prev)?new Range(o,o):!n.prev.prev||farAway(n,n.prev.prev)?e.findWordAt(o):new Range(S(o.line,0),clipPos(e.doc,S(o.line+1,0))),e.setSelection(i.anchor,i.head),e.focus(),pe(r)}finishTouch()}),ve(t.scroller,"touchcancel",finishTouch),ve(t.scroller,"scroll",function(){t.scroller.clientHeight&&(setScrollTop(e,t.scroller.scrollTop),setScrollLeft(e,t.scroller.scrollLeft,!0),be(e,"scroll",e))}),ve(t.scroller,"mousewheel",function(t){onScrollWheel(e,t)}),ve(t.scroller,"DOMMouseScroll",function(t){onScrollWheel(e,t)}),ve(t.wrapper,"scroll",function(){t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(t){signalDOMEvent(e,t)||ge(t)},over:function(t){signalDOMEvent(e,t)||(onDragOver(e,t),ge(t))},start:function(t){onDragStart(e,t)},drop:operation(e,onDrop),leave:function(t){signalDOMEvent(e,t)||clearDragCursor(e)}};var i=t.input.getField();ve(i,"keyup",function(t){onKeyUp.call(e,t)}),ve(i,"keydown",operation(e,onKeyDown)),ve(i,"keypress",operation(e,onKeyPress)),ve(i,"focus",bind(onFocus,e)),ve(i,"blur",bind(onBlur,e))}function dragDropChanged(e,t,r){var n=r&&r!=CodeMirror.Init;if(!t!=!n){var i=e.display.dragFunctions,o=t?ve:ye;o(e.display.scroller,"dragstart",i.start),o(e.display.scroller,"dragenter",i.enter),o(e.display.scroller,"dragover",i.over),o(e.display.scroller,"dragleave",i.leave),o(e.display.scroller,"drop",i.drop)}}function onResize(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function eventInWidget(e,t){for(var r=e_target(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function posFromMouse(e,t,r,n){var i=e.display;if(!r&&"true"==e_target(t).getAttribute("cm-not-content"))return null;var o,a,l=i.lineSpace.getBoundingClientRect();try{o=t.clientX-l.left,a=t.clientY-l.top}catch(t){return null}var s,u=coordsChar(e,o,a);if(n&&1==u.xRel&&(s=getLine(e.doc,u.line).text).length==u.ch){var c=Le(s,s.length,e.options.tabSize)-s.length;u=S(u.line,Math.max(0,Math.round((o-paddingH(e.display).left)/charWidth(e.display))-c))}return u}function onMouseDown(e){var t=this,r=t.display;if(!(signalDOMEvent(t,e)||r.activeTouch&&r.input.supportsTouch())){if(r.shift=e.shiftKey,eventInWidget(r,e))return void(l||(r.scroller.draggable=!1,setTimeout(function(){r.scroller.draggable=!0},100)));if(!clickInGutter(t,e)){var n=posFromMouse(t,e);switch(window.focus(),e_button(e)){case 1:t.state.selectingText?t.state.selectingText(e):n?leftButtonDown(t,e,n):e_target(e)==r.scroller&&pe(e);break;case 2:l&&(t.state.lastMiddleDown=+new Date),n&&extendSelection(t.doc,n),setTimeout(function(){r.input.focus()},20),pe(e);break;case 3:w?onContextMenu(t,e):delayBlurEvent(t)}}}}function leftButtonDown(e,t,r){o?setTimeout(bind(ensureFocus,e),0):e.curOp.focus=activeElt();var n,i=+new Date;I&&I.time>i-400&&0==k(I.pos,r)?n="triple":O&&O.time>i-400&&0==k(O.pos,r)?(n="double",I={time:i,pos:r}):(n="single",O={time:i,pos:r});var a,l=e.doc.sel,s=v?t.metaKey:t.ctrlKey;e.options.dragDrop&&He&&!e.isReadOnly()&&"single"==n&&(a=l.contains(r))>-1&&(k((a=l.ranges[a]).from(),r)<0||r.xRel>0)&&(k(a.to(),r)>0||r.xRel<0)?leftButtonStartDrag(e,t,r,s):leftButtonSelect(e,t,r,n,s)}function leftButtonStartDrag(e,t,r,n){var i=e.display,s=+new Date,u=operation(e,function(c){l&&(i.scroller.draggable=!1),e.state.draggingText=!1,ye(document,"mouseup",u),ye(i.scroller,"drop",u),Math.abs(t.clientX-c.clientX)+Math.abs(t.clientY-c.clientY)<10&&(pe(c),!n&&+new Date-200<s&&extendSelection(e.doc,r),l||o&&9==a?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())});l&&(i.scroller.draggable=!0),e.state.draggingText=u,u.copy=v?t.altKey:t.ctrlKey,i.scroller.dragDrop&&i.scroller.dragDrop(),ve(document,"mouseup",u),ve(i.scroller,"drop",u)}function leftButtonSelect(e,t,r,n,i){function extendTo(t){if(0!=k(p,t))if(p=t,"rect"==n){for(var i=[],o=e.options.tabSize,c=Le(getLine(a,r.line).text,r.ch,o),f=Le(getLine(a,t.line).text,t.ch,o),d=Math.min(c,f),h=Math.max(c,f),g=Math.min(r.line,t.line),v=Math.min(e.lastLine(),Math.max(r.line,t.line));v>=g;g++){var m=getLine(a,g).text,y=Me(m,d,o);d==h?i.push(new Range(S(g,y),S(g,y))):m.length>y&&i.push(new Range(S(g,y),S(g,Me(m,h,o))))}i.length||i.push(new Range(r,r)),setSelection(a,normalizeSelection(u.ranges.slice(0,s).concat(i),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=l,x=b.anchor,w=t;if("single"!=n){if("double"==n)var C=e.findWordAt(t);else var C=new Range(S(t.line,0),clipPos(a,S(t.line+1,0)));k(C.anchor,x)>0?(w=C.head,x=minPos(b.from(),C.anchor)):(w=C.anchor,x=maxPos(b.to(),C.head))}var i=u.ranges.slice(0);i[s]=new Range(clipPos(a,x),w),setSelection(a,normalizeSelection(i,s),Se)}}function extend(t){var r=++g,i=posFromMouse(e,t,!0,"rect"==n);if(i)if(0!=k(i,p)){e.curOp.focus=activeElt(),extendTo(i);var l=visibleLines(o,a);(i.line>=l.to||i.line<l.from)&&setTimeout(operation(e,function(){g==r&&extend(t)}),150)}else{var s=t.clientY<h.top?-20:t.clientY>h.bottom?20:0;s&&setTimeout(operation(e,function(){g==r&&(o.scroller.scrollTop+=s,extend(t))}),50)}}function done(t){e.state.selectingText=!1,g=1/0,pe(t),o.input.focus(),ye(document,"mousemove",v),ye(document,"mouseup",y),a.history.lastSelOrigin=null}var o=e.display,a=e.doc;pe(t);var l,s,u=a.sel,c=u.ranges;if(i&&!t.shiftKey?(s=a.sel.contains(r),l=s>-1?c[s]:new Range(r,r)):(l=a.sel.primary(),s=a.sel.primIndex),m?t.shiftKey&&t.metaKey:t.altKey)n="rect",i||(l=new Range(r,r)),r=posFromMouse(e,t,!0,!0),s=-1;else if("double"==n){var f=e.findWordAt(r);l=e.display.shift||a.extend?extendRange(a,l,f.anchor,f.head):f}else if("triple"==n){var d=new Range(S(r.line,0),clipPos(a,S(r.line+1,0)));l=e.display.shift||a.extend?extendRange(a,l,d.anchor,d.head):d}else l=extendRange(a,l,r);i?-1==s?(s=c.length,setSelection(a,normalizeSelection(c.concat([l]),s),{scroll:!1,origin:"*mouse"})):c.length>1&&c[s].empty()&&"single"==n&&!t.shiftKey?(setSelection(a,normalizeSelection(c.slice(0,s).concat(c.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),u=a.sel):replaceOneSelection(a,s,l,Se):(s=0,setSelection(a,new Selection([l],0),Se),u=a.sel);var p=r,h=o.wrapper.getBoundingClientRect(),g=0,v=operation(e,function(e){e_button(e)?extend(e):done(e)}),y=operation(e,done);e.state.selectingText=y,ve(document,"mousemove",v),ve(document,"mouseup",y)}function gutterEvent(e,t,r,n){try{var i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&pe(t);var a=e.display,l=a.lineDiv.getBoundingClientRect();if(o>l.bottom||!hasHandler(e,r))return e_defaultPrevented(t);o-=l.top-a.viewOffset;for(var s=0;s<e.options.gutters.length;++s){var u=a.gutters.childNodes[s];if(u&&u.getBoundingClientRect().right>=i){var c=lineAtHeight(e.doc,o),f=e.options.gutters[s];return be(e,r,e,c,f,t),e_defaultPrevented(t)}}}function clickInGutter(e,t){return gutterEvent(e,t,"gutterClick",!0)}function onDrop(e){var t=this;if(clearDragCursor(t),!signalDOMEvent(t,e)&&!eventInWidget(t.display,e)){pe(e),o&&(R=+new Date);var r=posFromMouse(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,a=Array(i),l=0,s=function(e,n){if(!t.options.allowDropFileTypes||-1!=indexOf(t.options.allowDropFileTypes,e.type)){var o=new FileReader;o.onload=operation(t,function(){var e=o.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),a[n]=e,++l==i){r=clipPos(t.doc,r);var s={from:r,to:r,text:t.doc.splitLines(a.join(t.doc.lineSeparator())),origin:"paste"};makeChange(t.doc,s),setSelectionReplaceHistory(t.doc,simpleSelection(r,W(s)))}}),o.readAsText(e)}},u=0;i>u;++u)s(n[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var a=e.dataTransfer.getData("Text");if(a){if(t.state.draggingText&&!t.state.draggingText.copy)var c=t.listSelections();if(setSelectionNoUndo(t.doc,simpleSelection(r,r)),c)for(var u=0;u<c.length;++u)replaceRange(t.doc,"",c[u].anchor,c[u].head,"drag");t.replaceSelection(a,"around","paste"),t.display.input.focus()}}catch(e){}}}}function onDragStart(e,t){if(o&&(!e.state.draggingText||+new Date-R<100))return void ge(t);if(!signalDOMEvent(e,t)&&!eventInWidget(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!f)){var r=elt("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",c&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),c&&r.parentNode.removeChild(r)}}function onDragOver(e,t){var r=posFromMouse(e,t);if(r){var n=document.createDocumentFragment();drawSelectionCursor(e,r,n),e.display.dragCursor||(e.display.dragCursor=elt("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),removeChildrenAndAdd(e.display.dragCursor,n)}}function clearDragCursor(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function setScrollTop(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,r||updateDisplaySimple(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),r&&updateDisplaySimple(e),startWorker(e,100))}function setScrollLeft(e,t,r){(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,alignHorizontally(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function onScrollWheel(e,t){var n=E(t),i=n.x,o=n.y,a=e.display,s=a.scroller,u=s.scrollWidth>s.clientWidth,f=s.scrollHeight>s.clientHeight;if(i&&u||o&&f){if(o&&v&&l)e:for(var d=t.target,p=a.view;d!=s;d=d.parentNode)for(var h=0;h<p.length;h++)if(p[h].node==d){e.display.currentWheelTarget=d;break e}if(i&&!r&&!c&&null!=F)return o&&f&&setScrollTop(e,Math.max(0,Math.min(s.scrollTop+o*F,s.scrollHeight-s.clientHeight))),setScrollLeft(e,Math.max(0,Math.min(s.scrollLeft+i*F,s.scrollWidth-s.clientWidth))),(!o||o&&f)&&pe(t),void(a.wheelStartX=null);if(o&&null!=F){var g=o*F,m=e.doc.scrollTop,y=m+a.wrapper.clientHeight;0>g?m=Math.max(0,m+g-50):y=Math.min(e.doc.height,y+g+50),updateDisplaySimple(e,{top:m,bottom:y})}20>P&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout(function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,t=s.scrollTop-a.wheelStartY,r=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,r&&(F=(F*P+r)/(P+1),++P)}},200)):(a.wheelDX+=i,a.wheelDY+=o))}}function doHandleBinding(e,t,r){if("string"==typeof t&&(t=Y[t],!t))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=Ce}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}function lookupKeyForEditor(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=J(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&J(t,e.options.extraKeys,r,e)||J(t,e.options.keyMap,r,e)}function dispatchKey(e,t,r,n){var i=e.state.keySeq;if(i){if(Q(t))return"handled";N.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var o=lookupKeyForEditor(e,t,n);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&signalLater(e,"keyHandled",e,t,r),"handled"!=o&&"multi"!=o||(pe(r),restartBlink(e)),i&&!o&&/\'$/.test(t)?(pe(r),!0):!!o}function handleKeyBinding(e,t){var r=ee(t,!0);return r?t.shiftKey&&!e.state.keySeq?dispatchKey(e,"Shift-"+r,t,function(t){return doHandleBinding(e,t,!0)})||dispatchKey(e,r,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?doHandleBinding(e,t):void 0}):dispatchKey(e,r,t,function(t){return doHandleBinding(e,t)}):!1}function handleCharBinding(e,t,r){return dispatchKey(e,"'"+r+"'",t,function(t){return doHandleBinding(e,t,!0)})}function onKeyDown(e){var t=this;if(t.curOp.focus=activeElt(),!signalDOMEvent(t,e)){o&&11>a&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var n=handleKeyBinding(t,e);c&&(j=n?r:null,!n&&88==r&&!ze&&(v?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||showCrossHair(t)}}function showCrossHair(e){function up(e){18!=e.keyCode&&e.altKey||(Ne(t,"CodeMirror-crosshair"),ye(document,"keyup",up),ye(document,"mouseover",up))}var t=e.display.lineDiv;je(t,"CodeMirror-crosshair"),ve(document,"keyup",up),ve(document,"mouseover",up)}function onKeyUp(e){16==e.keyCode&&(this.doc.sel.shift=!1),signalDOMEvent(this,e)}function onKeyPress(e){var t=this;if(!(eventInWidget(t.display,e)||signalDOMEvent(t,e)||e.ctrlKey&&!e.altKey||v&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(c&&r==j)return j=null,void pe(e);if(!c||e.which&&!(e.which<10)||!handleKeyBinding(t,e)){var i=String.fromCharCode(null==n?r:n);handleCharBinding(t,e,i)||t.display.input.onKeyPress(e)}}}function delayBlurEvent(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,onBlur(e))},100)}function onFocus(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(be(e,"focus",e),e.state.focused=!0,je(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),restartBlink(e))}function onBlur(e){e.state.delayingBlurEvent||(e.state.focused&&(be(e,"blur",e),e.state.focused=!1,Ne(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function onContextMenu(e,t){eventInWidget(e.display,t)||contextMenuInGutter(e,t)||signalDOMEvent(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function contextMenuInGutter(e,t){return hasHandler(e,"gutterContextMenu")?gutterEvent(e,t,"gutterContextMenu",!1):!1}function adjustForChange(e,t){if(k(e,t.from)<0)return e;if(k(e,t.to)<=0)return W(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=W(t).ch-t.to.ch),S(r,n)}function computeSelAfterChange(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new Range(adjustForChange(i.anchor,t),adjustForChange(i.head,t)))}return normalizeSelection(r,e.sel.primIndex)}function offsetPos(e,t,r){return e.line==t.line?S(r.line,e.ch-t.ch+r.ch):S(r.line+(e.line-t.line),e.ch)}function computeReplacedSel(e,t,r){for(var n=[],i=S(e.first,0),o=i,a=0;a<t.length;a++){var l=t[a],s=offsetPos(l.from,i,o),u=offsetPos(W(l),i,o);if(i=l.to,o=u,"around"==r){var c=e.sel.ranges[a],f=k(c.head,c.anchor)<0;n[a]=new Range(f?u:s,f?s:u)}else n[a]=new Range(s,s)}return new Selection(n,e.sel.primIndex)}function filterChange(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return r&&(n.update=function(t,r,n,i){t&&(this.from=clipPos(e,t)),r&&(this.to=clipPos(e,r)),n&&(this.text=n),void 0!==i&&(this.origin=i)}),be(e,"beforeChange",e,n),e.cm&&be(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function makeChange(e,t,r){if(e.cm){if(!e.cm.curOp)return operation(e.cm,makeChange)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(hasHandler(e,"beforeChange")||e.cm&&hasHandler(e.cm,"beforeChange"))||(t=filterChange(e,t,!0))){var n=C&&!r&&removeReadOnlyRanges(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)makeChangeInner(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text});else makeChangeInner(e,t)}}function makeChangeInner(e,t){if(1!=t.text.length||""!=t.text[0]||0!=k(t.from,t.to)){var r=computeSelAfterChange(e,t);addChangeToHistory(e,t,r,e.cm?e.cm.curOp.id:NaN),makeChangeSingleDoc(e,t,r,stretchSpansOverChange(e,t));var n=[];linkedDocs(e,function(e,r){r||-1!=indexOf(n,e.history)||(rebaseHist(e.history,t),n.push(e.history)),makeChangeSingleDoc(e,t,null,stretchSpansOverChange(e,t))})}}function makeChangeFromHistory(e,t,r){if(!e.cm||!e.cm.state.suppressEdits){for(var n,i=e.history,o=e.sel,a="undo"==t?i.done:i.undone,l="undo"==t?i.undone:i.done,s=0;s<a.length&&(n=a[s],r?!n.ranges||n.equals(e.sel):n.ranges);s++);if(s!=a.length){for(i.lastOrigin=i.lastSelOrigin=null;n=a.pop(),n.ranges;){if(pushSelectionToHistory(n,l),r&&!n.equals(e.sel))return void setSelection(e,n,{clearRedo:!1});o=n}var u=[];pushSelectionToHistory(o,l),l.push({changes:u,generation:i.generation}),i.generation=n.generation||++i.maxGeneration;for(var c=hasHandler(e,"beforeChange")||e.cm&&hasHandler(e.cm,"beforeChange"),s=n.changes.length-1;s>=0;--s){var f=n.changes[s];if(f.origin=t,c&&!filterChange(e,f,!1))return void(a.length=0);u.push(historyChangeFromChange(e,f));var d=s?computeSelAfterChange(e,f):lst(a);makeChangeSingleDoc(e,f,d,mergeOldSpans(e,f)),!s&&e.cm&&e.cm.scrollIntoView({from:f.from,to:W(f)});var p=[];linkedDocs(e,function(e,t){t||-1!=indexOf(p,e.history)||(rebaseHist(e.history,f),p.push(e.history)),makeChangeSingleDoc(e,f,null,mergeOldSpans(e,f))})}}}}function shiftDoc(e,t){if(0!=t&&(e.first+=t,e.sel=new Selection(map(e.sel.ranges,function(e){return new Range(S(e.anchor.line+t,e.anchor.ch),S(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){regChange(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)regLineChange(e.cm,n,"gutter")}}function makeChangeSingleDoc(e,t,r,n){if(e.cm&&!e.cm.curOp)return operation(e.cm,makeChangeSingleDoc)(e,t,r,n);if(t.to.line<e.first)return void shiftDoc(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);shiftDoc(e,i),t={from:S(e.first,0),to:S(t.to.line+i,t.to.ch),text:[lst(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:S(o,getLine(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=getBetween(e,t.from,t.to),r||(r=computeSelAfterChange(e,t)),e.cm?makeChangeSingleDocInEditor(e.cm,t,n):updateDoc(e,t,n),setSelectionNoUndo(e,r,_e)}}function makeChangeSingleDocInEditor(e,t,r){var n=e.doc,i=e.display,o=t.from,a=t.to,l=!1,s=o.line;e.options.lineWrapping||(s=lineNo(visualLine(getLine(n,o.line))),n.iter(s,a.line+1,function(e){return e==i.maxLine?(l=!0,!0):void 0})),n.sel.contains(t.from,t.to)>-1&&signalCursorActivity(e),updateDoc(n,t,r,estimateHeight(e)),e.options.lineWrapping||(n.iter(s,o.line+t.text.length,function(e){var t=lineLength(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),n.frontier=Math.min(n.frontier,o.line),startWorker(e,400);var u=t.text.length-(a.line-o.line)-1;t.full?regChange(e):o.line!=a.line||1!=t.text.length||isWholeLineUpdate(e.doc,t)?regChange(e,o.line,a.line+1,u):regLineChange(e,o.line,"text");var c=hasHandler(e,"changes"),f=hasHandler(e,"change");if(f||c){var d={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&signalLater(e,"change",e,d),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}function replaceRange(e,t,r,n,i){if(n||(n=r),k(n,r)<0){var o=n;n=r,r=o}"string"==typeof t&&(t=e.splitLines(t)),makeChange(e,{from:r,to:n,text:t,origin:i})}function maybeScrollWindow(e,t){if(!signalDOMEvent(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),i=null;if(t.top+n.top<0?i=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!p){var o=elt("div","​",null,"position: absolute; top: "+(t.top-r.viewOffset-paddingTop(e.display))+"px; height: "+(t.bottom-t.top+scrollGap(e)+r.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}function scrollPosIntoView(e,t,r,n){null==n&&(n=0);for(var i=0;5>i;i++){var o=!1,a=cursorCoords(e,t),l=r&&r!=t?cursorCoords(e,r):a,s=calculateScrollPos(e,Math.min(a.left,l.left),Math.min(a.top,l.top)-n,Math.max(a.left,l.left),Math.max(a.bottom,l.bottom)+n),u=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=s.scrollTop&&(setScrollTop(e,s.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(o=!0)),null!=s.scrollLeft&&(setScrollLeft(e,s.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(o=!0)),!o)break}return a}function scrollIntoView(e,t,r,n,i){var o=calculateScrollPos(e,t,r,n,i);null!=o.scrollTop&&setScrollTop(e,o.scrollTop),null!=o.scrollLeft&&setScrollLeft(e,o.scrollLeft)}function calculateScrollPos(e,t,r,n,i){var o=e.display,a=textHeight(e.display);0>r&&(r=0);var l=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,s=displayHeight(e),u={};i-r>s&&(i=r+s);var c=e.doc.height+paddingVert(o),f=a>r,d=i>c-a;if(l>r)u.scrollTop=f?0:r;else if(i>l+s){var p=Math.min(r,(d?c:i)-s);p!=l&&(u.scrollTop=p)}var h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,g=displayWidth(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),v=n-t>g;return v&&(n=t+g),10>t?u.scrollLeft=0:h>t?u.scrollLeft=Math.max(0,t-(v?0:10)):n>g+h-3&&(u.scrollLeft=n+(v?0:10)-g),u}function addToScrollPos(e,t,r){null==t&&null==r||resolveScrollToPos(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=r&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+r)}function ensureCursorVisible(e){resolveScrollToPos(e);var t=e.getCursor(),r=t,n=t;e.options.lineWrapping||(r=t.ch?S(t.line,t.ch-1):t,n=S(t.line,t.ch+1)),e.curOp.scrollToPos={from:r,to:n,margin:e.options.cursorScrollMargin,isCursor:!0}}function resolveScrollToPos(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var r=estimateCoords(e,t.from),n=estimateCoords(e,t.to),i=calculateScrollPos(e,Math.min(r.left,n.left),Math.min(r.top,n.top)-t.margin,Math.max(r.right,n.right),Math.max(r.bottom,n.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function indentLine(e,t,r,n){var i,o=e.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=getStateBefore(e,t):r="prev");var a=e.options.tabSize,l=getLine(o,t),s=Le(l.text,null,a);l.stateAfter&&(l.stateAfter=null);var u,c=l.text.match(/^\s*/)[0];if(n||/\S/.test(l.text)){if("smart"==r&&(u=o.mode.indent(i,l.text.slice(c.length),l.text),u==Ce||u>150)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=t>o.first?Le(getLine(o,t-1).text,null,a):0:"add"==r?u=s+e.options.indentUnit:"subtract"==r?u=s-e.options.indentUnit:"number"==typeof r&&(u=s+r),u=Math.max(0,u);var f="",d=0;if(e.options.indentWithTabs)for(var p=Math.floor(u/a);p;--p)d+=a,f+="	";if(u>d&&(f+=spaceStr(u-d)),f!=c)return replaceRange(o,f,S(t,0),S(t,c.length),"+input"),l.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var h=o.sel.ranges[p];if(h.head.line==t&&h.head.ch<c.length){var d=S(t,c.length);replaceOneSelection(o,p,new Range(d,d));break}}}function changeLine(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=getLine(e,clipLine(e,t)):i=lineNo(t),null==i?null:(n(o,i)&&e.cm&&regLineChange(e.cm,i,r),o)}function deleteNearSelection(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&k(o.from,lst(n).to)<=0;){var a=n.pop();if(k(a.from,o.from)<0){o.from=a.from;break}}n.push(o)}runInOp(e,function(){for(var t=n.length-1;t>=0;t--)replaceRange(e.doc,"",n[t].from,n[t].to,"+delete");ensureCursorVisible(e)})}function findPosH(e,t,r,n,i){function findNextLine(){var t=o+r;return t<e.first||t>=e.first+e.size?!1:(o=t,s=getLine(e,t))}function moveOnce(e){var t=(i?moveVisually:moveLogically)(s,a,r,!0);if(null==t){if(e||!findNextLine())return!1;a=i?(0>r?lineRight:lineLeft)(s):0>r?s.text.length:0}else a=t;return!0}var o=t.line,a=t.ch,l=r,s=getLine(e,o);if("char"==n)moveOnce();else if("column"==n)moveOnce(!0);else if("word"==n||"group"==n)for(var u=null,c="group"==n,f=e.cm&&e.cm.getHelper(t,"wordChars"),d=!0;!(0>r)||moveOnce(!d);d=!1){var p=s.text.charAt(a)||"\n",h=isWordChar(p,f)?"w":c&&"\n"==p?"n":!c||/\s/.test(p)?null:"p";if(!c||d||h||(h="s"),u&&u!=h){0>r&&(r=1,moveOnce());break}if(h&&(u=h),r>0&&!moveOnce(!d))break}var g=skipAtomic(e,S(o,a),t,l,!0);return k(t,g)||(g.hitSide=!0),g}function findPosV(e,t,r,n){var i,o=e.doc,a=t.left;if("page"==n){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=t.top+r*(l-(0>r?1.5:.5)*textHeight(e.display))}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(;;){var s=coordsChar(e,a,i);if(!s.outside)break;if(0>r?0>=i:i>=o.height){s.hitSide=!0;break}i+=5*r}return s}function option(e,t,r,n){CodeMirror.defaults[e]=t,r&&(B[e]=n?function(e,t,n){n!=q&&r(e,t,n)}:r)}function normalizeKeyName(e){for(var t,r,n,i,o=e.split(/-(?!$)/),e=o[o.length-1],a=0;a<o.length-1;a++){var l=o[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else{if(!/^s(hift)$/i.test(l))throw new Error("Unrecognized modifier name: "+l);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function getKeyMap(e){return"string"==typeof e?Z[e]:e}function markText(e,t,r,n,i){if(n&&n.shared)return markTextShared(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return operation(e.cm,markText)(e,t,r,n,i);var o=new ne(e,i),a=k(t,r);if(n&&copyObj(n,o,!1),a>0||0==a&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=elt("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(conflictingCollapsedRange(e,t.line,t,r,o)||t.line!=r.line&&conflictingCollapsedRange(e,r.line,t,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");_=!0}o.addToHistory&&addChangeToHistory(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var l,s=t.line,u=e.cm;if(e.iter(s,r.line+1,function(e){u&&o.collapsed&&!u.options.lineWrapping&&visualLine(e)==u.display.maxLine&&(l=!0),o.collapsed&&s!=t.line&&updateLineHeight(e,0),addMarkedSpan(e,new MarkedSpan(o,s==t.line?t.ch:null,s==r.line?r.ch:null)),++s}),o.collapsed&&e.iter(t.line,r.line+1,function(t){lineIsHidden(e,t)&&updateLineHeight(t,0)}),o.clearOnEnter&&ve(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(C=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++re,o.atomic=!0),u){if(l&&(u.curOp.updateMaxLine=!0),o.collapsed)regChange(u,t.line,r.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=t.line;c<=r.line;c++)regLineChange(u,c,"text");o.atomic&&reCheckSelection(u.doc),signalLater(u,"markerAdded",u,o)}return o}function markTextShared(e,t,r,n,i){n=copyObj(n),n.shared=!1;var o=[markText(e,t,r,n,i)],a=o[0],l=n.widgetNode;return linkedDocs(e,function(e){l&&(n.widgetNode=l.cloneNode(!0)),o.push(markText(e,clipPos(e,t),clipPos(e,r),n,i));for(var s=0;s<e.linked.length;++s)if(e.linked[s].isParent)return;a=lst(o)}),new ie(o,a)}function findSharedMarkers(e){return e.findMarks(S(e.first,0),e.clipPos(S(e.lastLine())),function(e){return e.parent})}function copySharedMarkers(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(k(o,a)){var l=markText(e,o,a,n.primary,n.primary.type);n.markers.push(l),l.parent=n}}}function detachSharedMarkers(e){for(var t=0;t<e.length;t++){var r=e[t],n=[r.primary.doc];linkedDocs(r.primary.doc,function(e){n.push(e)});for(var i=0;i<r.markers.length;i++){var o=r.markers[i];-1==indexOf(n,o.doc)&&(o.parent=null,r.markers.splice(i--,1))}}}function MarkedSpan(e,t,r){this.marker=e,this.from=t,this.to=r}function getMarkedSpanFor(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function removeMarkedSpan(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function addMarkedSpan(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function markedSpansBefore(e,t,r){if(e)for(var n,i=0;i<e.length;++i){var o=e[i],a=o.marker,l=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);if(l||o.from==t&&"bookmark"==a.type&&(!r||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new MarkedSpan(a,o.from,s?null:o.to))}}return n}function markedSpansAfter(e,t,r){if(e)for(var n,i=0;i<e.length;++i){var o=e[i],a=o.marker,l=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);if(l||o.from==t&&"bookmark"==a.type&&(!r||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new MarkedSpan(a,s?null:o.from-t,null==o.to?null:o.to-t));
}}return n}function stretchSpansOverChange(e,t){if(t.full)return null;var r=isLine(e,t.from.line)&&getLine(e,t.from.line).markedSpans,n=isLine(e,t.to.line)&&getLine(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,a=0==k(t.from,t.to),l=markedSpansBefore(r,i,a),s=markedSpansAfter(n,o,a),u=1==t.text.length,c=lst(t.text).length+(u?i:0);if(l)for(var f=0;f<l.length;++f){var d=l[f];if(null==d.to){var p=getMarkedSpanFor(s,d.marker);p?u&&(d.to=null==p.to?null:p.to+c):d.to=i}}if(s)for(var f=0;f<s.length;++f){var d=s[f];if(null!=d.to&&(d.to+=c),null==d.from){var p=getMarkedSpanFor(l,d.marker);p||(d.from=c,u&&(l||(l=[])).push(d))}else d.from+=c,u&&(l||(l=[])).push(d)}l&&(l=clearEmptySpans(l)),s&&s!=l&&(s=clearEmptySpans(s));var h=[l];if(!u){var g,v=t.text.length-2;if(v>0&&l)for(var f=0;f<l.length;++f)null==l[f].to&&(g||(g=[])).push(new MarkedSpan(l[f].marker,null,null));for(var f=0;v>f;++f)h.push(g);h.push(s)}return h}function clearEmptySpans(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function mergeOldSpans(e,t){var r=getOldSpans(e,t),n=stretchSpansOverChange(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],a=n[i];if(o&&a)e:for(var l=0;l<a.length;++l){for(var s=a[l],u=0;u<o.length;++u)if(o[u].marker==s.marker)continue e;o.push(s)}else a&&(r[i]=a)}return r}function removeReadOnlyRanges(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=indexOf(n,r)||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var a=n[o],l=a.find(0),s=0;s<i.length;++s){var u=i[s];if(!(k(u.to,l.from)<0||k(u.from,l.to)>0)){var c=[s,1],f=k(u.from,l.from),d=k(u.to,l.to);(0>f||!a.inclusiveLeft&&!f)&&c.push({from:u.from,to:l.from}),(d>0||!a.inclusiveRight&&!d)&&c.push({from:l.to,to:u.to}),i.splice.apply(i,c),s+=c.length-1}}return i}function detachMarkedSpans(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function attachMarkedSpans(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function extraLeft(e){return e.inclusiveLeft?-1:0}function extraRight(e){return e.inclusiveRight?1:0}function compareCollapsedMarkers(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),o=k(n.from,i.from)||extraLeft(e)-extraLeft(t);if(o)return-o;var a=k(n.to,i.to)||extraRight(e)-extraRight(t);return a?a:t.id-e.id}function collapsedSpanAtSide(e,t){var r,n=_&&e.markedSpans;if(n)for(var i,o=0;o<n.length;++o)i=n[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!r||compareCollapsedMarkers(r,i.marker)<0)&&(r=i.marker);return r}function collapsedSpanAtStart(e){return collapsedSpanAtSide(e,!0)}function collapsedSpanAtEnd(e){return collapsedSpanAtSide(e,!1)}function conflictingCollapsedRange(e,t,r,n,i){var o=getLine(e,t),a=_&&o.markedSpans;if(a)for(var l=0;l<a.length;++l){var s=a[l];if(s.marker.collapsed){var u=s.marker.find(0),c=k(u.from,r)||extraLeft(s.marker)-extraLeft(i),f=k(u.to,n)||extraRight(s.marker)-extraRight(i);if(!(c>=0&&0>=f||0>=c&&f>=0)&&(0>=c&&(s.marker.inclusiveRight&&i.inclusiveLeft?k(u.to,r)>=0:k(u.to,r)>0)||c>=0&&(s.marker.inclusiveRight&&i.inclusiveLeft?k(u.from,n)<=0:k(u.from,n)<0)))return!0}}}function visualLine(e){for(var t;t=collapsedSpanAtStart(e);)e=t.find(-1,!0).line;return e}function visualLineContinued(e){for(var t,r;t=collapsedSpanAtEnd(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function visualLineNo(e,t){var r=getLine(e,t),n=visualLine(r);return r==n?t:lineNo(n)}function visualLineEndNo(e,t){if(t>e.lastLine())return t;var r,n=getLine(e,t);if(!lineIsHidden(e,n))return t;for(;r=collapsedSpanAtEnd(n);)n=r.find(1,!0).line;return lineNo(n)+1}function lineIsHidden(e,t){var r=_&&t.markedSpans;if(r)for(var n,i=0;i<r.length;++i)if(n=r[i],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&lineIsHiddenInner(e,t,n))return!0}}function lineIsHiddenInner(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return lineIsHiddenInner(e,n.line,getMarkedSpanFor(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&lineIsHiddenInner(e,t,i))return!0}function adjustScrollWhenAboveVisible(e,t,r){heightAtLine(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&addToScrollPos(e,null,r)}function widgetHeight(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Pe(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),removeChildrenAndAdd(t.display.measure,elt("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function addLineWidget(e,t,r,n){var i=new oe(e,r,n),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),changeLine(e,t,"widget",function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!lineIsHidden(e,t)){var n=heightAtLine(t)<e.scrollTop;updateLineHeight(t,t.height+widgetHeight(i)),n&&addToScrollPos(o,null,i.height),o.curOp.forceUpdate=!0}return!0}),i}function updateLine(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),detachMarkedSpans(e),attachMarkedSpans(e,r);var i=n?n(e):1;i!=e.height&&updateLineHeight(e,i)}function cleanUpLine(e){e.parent=null,detachMarkedSpans(e)}function extractLineClasses(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+r[2])}return e}function callBlankLine(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=CodeMirror.innerMode(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function readToken(e,t,r,n){for(var i=0;10>i;i++){n&&(n[0]=CodeMirror.innerMode(e,r).mode);var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function takeToken(e,t,r,n){function getObj(e){return{start:c.start,end:c.pos,string:c.current(),type:i||null,state:e?$(o.mode,u):u}}var i,o=e.doc,a=o.mode;t=clipPos(o,t);var l,s=getLine(o,t.line),u=getStateBefore(e,t.line,r),c=new te(s.text,e.options.tabSize);for(n&&(l=[]);(n||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=readToken(a,c,u),n&&l.push(getObj(!0));return n?l:getObj()}function runMode(e,t,r,n,i,o,a){var l=r.flattenSpans;null==l&&(l=e.options.flattenSpans);var s,u=0,c=null,f=new te(t,e.options.tabSize),d=e.options.addModeClass&&[null];for(""==t&&extractLineClasses(callBlankLine(r,n),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(l=!1,a&&processLine(e,t,n,f.pos),f.pos=t.length,s=null):s=extractLineClasses(readToken(r,f,n,d),o),d){var p=d[0].name;p&&(s="m-"+(s?p+" "+s:p))}if(!l||c!=s){for(;u<f.start;)u=Math.min(f.start,u+5e4),i(u,c);c=s}f.start=f.pos}for(;u<f.pos;){var h=Math.min(f.pos,u+5e4);i(h,c),u=h}}function highlightLine(e,t,r,n){var i=[e.state.modeGen],o={};runMode(e,t.text,e.doc.mode,r,function(e,t){i.push(e,t)},o,n);for(var a=0;a<e.state.overlays.length;++a){var l=e.state.overlays[a],s=1,u=0;runMode(e,t.text,l.mode,!0,function(e,t){for(var r=s;e>u;){var n=i[s];n>e&&i.splice(s,1,e,i[s+1],n),s+=2,u=Math.min(e,n)}if(t)if(l.opaque)i.splice(r,s-r,e,"cm-overlay "+t),s=r+2;else for(;s>r;r+=2){var o=i[r+1];i[r+1]=(o?o+" ":"")+"cm-overlay "+t}},o)}return{styles:i,classes:o.bgClass||o.textClass?o:null}}function getLineStyles(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=getStateBefore(e,lineNo(t)),i=highlightLine(e,t,t.text.length>e.options.maxHighlightLength?$(e.doc.mode,n):n);t.stateAfter=n,t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.frontier&&e.doc.frontier++}return t.styles}function processLine(e,t,r,n){var i=e.doc.mode,o=new te(t,e.options.tabSize);for(o.start=o.pos=n||0,""==t&&callBlankLine(i,r);!o.eol();)readToken(i,o,r),o.start=o.pos}function interpretTokenStyle(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?se:le;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function buildLineContent(e,t){var r=elt("span",null,null,l?"padding-right: .1px":null),n={pre:elt("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,splitSpaces:(o||l)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var a,s=i?t.rest[i-1]:t.line;n.pos=0,n.addToken=buildToken,hasBadBidiRects(e.display.measure)&&(a=getOrder(s))&&(n.addToken=buildTokenBadBidi(n.addToken,a)),n.map=[];var u=t!=e.display.externalMeasured&&lineNo(s);insertLineContent(s,n,getLineStyles(e,s,u)),s.styleClasses&&(s.styleClasses.bgClass&&(n.bgClass=joinClasses(s.styleClasses.bgClass,n.bgClass||"")),s.styleClasses.textClass&&(n.textClass=joinClasses(s.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(zeroWidthElement(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var c=n.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return be(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=joinClasses(n.pre.className,n.textClass||"")),n}function defaultSpecialCharPlaceholder(e){var t=elt("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function buildToken(e,t,r,n,i,l,s){if(t){var u=e.splitSpaces?t.replace(/ {3,}/g,splitSpaces):t,c=e.cm.state.specialChars,f=!1;if(c.test(t))for(var d=document.createDocumentFragment(),p=0;;){c.lastIndex=p;var h=c.exec(t),g=h?h.index-p:t.length-p;if(g){var v=document.createTextNode(u.slice(p,p+g));o&&9>a?d.appendChild(elt("span",[v])):d.appendChild(v),e.map.push(e.pos,e.pos+g,v),e.col+=g,e.pos+=g}if(!h)break;if(p+=g+1,"	"==h[0]){var m=e.cm.options.tabSize,y=m-e.col%m,v=d.appendChild(elt("span",spaceStr(y),"cm-tab"));v.setAttribute("role","presentation"),v.setAttribute("cm-text","	"),e.col+=y}else if("\r"==h[0]||"\n"==h[0]){var v=d.appendChild(elt("span","\r"==h[0]?"␍":"␤","cm-invalidchar"));v.setAttribute("cm-text",h[0]),e.col+=1}else{var v=e.cm.options.specialCharPlaceholder(h[0]);v.setAttribute("cm-text",h[0]),o&&9>a?d.appendChild(elt("span",[v])):d.appendChild(v),e.col+=1}e.map.push(e.pos,e.pos+1,v),e.pos++}else{e.col+=t.length;var d=document.createTextNode(u);e.map.push(e.pos,e.pos+t.length,d),o&&9>a&&(f=!0),e.pos+=t.length}if(r||n||i||f||s){var b=r||"";n&&(b+=n),i&&(b+=i);var x=elt("span",[d],b,s);return l&&(x.title=l),e.content.appendChild(x)}e.content.appendChild(d)}}function splitSpaces(e){for(var t=" ",r=0;r<e.length-2;++r)t+=r%2?" ":" ";return t+=" "}function buildTokenBadBidi(e,t){return function(r,n,i,o,a,l,s){i=i?i+" cm-force-border":"cm-force-border";for(var u=r.pos,c=u+n.length;;){for(var f=0;f<t.length;f++){var d=t[f];if(d.to>u&&d.from<=u)break}if(d.to>=c)return e(r,n,i,o,a,l,s);e(r,n.slice(0,d.to-u),i,o,null,l,s),o=null,n=n.slice(d.to-u),u=d.to}}}function buildCollapsedSpan(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t}function insertLineContent(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var a,l,s,u,c,f,d,p=i.length,h=0,g=1,v="",m=0;;){if(m==h){s=u=c=f=l="",d=null,m=1/0;for(var y,b=[],x=0;x<n.length;++x){var w=n[x],C=w.marker;"bookmark"==C.type&&w.from==h&&C.widgetNode?b.push(C):w.from<=h&&(null==w.to||w.to>h||C.collapsed&&w.to==h&&w.from==h)?(null!=w.to&&w.to!=h&&m>w.to&&(m=w.to,u=""),C.className&&(s+=" "+C.className),C.css&&(l=(l?l+";":"")+C.css),C.startStyle&&w.from==h&&(c+=" "+C.startStyle),C.endStyle&&w.to==m&&(y||(y=[])).push(C.endStyle,w.to),C.title&&!f&&(f=C.title),C.collapsed&&(!d||compareCollapsedMarkers(d.marker,C)<0)&&(d=w)):w.from>h&&m>w.from&&(m=w.from)}if(y)for(var x=0;x<y.length;x+=2)y[x+1]==m&&(u+=" "+y[x]);if(!d||d.from==h)for(var x=0;x<b.length;++x)buildCollapsedSpan(t,0,b[x]);if(d&&(d.from||0)==h){if(buildCollapsedSpan(t,(null==d.to?p+1:d.to)-h,d.marker,null==d.from),null==d.to)return;d.to==h&&(d=!1)}}if(h>=p)break;for(var _=Math.min(p,m);;){if(v){var S=h+v.length;if(!d){var k=S>_?v.slice(0,_-h):v;t.addToken(t,k,a?a+s:s,c,h+k.length==m?u:"",f,l)}if(S>=_){v=v.slice(_-h),h=_;break}h=S,c=""}v=i.slice(o,o=r[g++]),a=interpretTokenStyle(r[g++],t.cm.options)}}else for(var g=1;g<r.length;g+=2)t.addToken(t,i.slice(o,o=r[g]),interpretTokenStyle(r[g+1],t.cm.options))}function isWholeLineUpdate(e,t){return 0==t.from.ch&&0==t.to.ch&&""==lst(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function updateDoc(e,t,r,n){function spansFor(e){return r?r[e]:null}function update(e,r,i){updateLine(e,r,i,n),signalLater(e,"change",e,t)}function linesFor(e,t){for(var r=e,i=[];t>r;++r)i.push(new ae(a[r],spansFor(r),n));return i}var i=t.from,o=t.to,a=t.text,l=getLine(e,i.line),s=getLine(e,o.line),u=lst(a),c=spansFor(a.length-1),f=o.line-i.line;if(t.full)e.insert(0,linesFor(0,a.length)),e.remove(a.length,e.size-a.length);else if(isWholeLineUpdate(e,t)){var d=linesFor(0,a.length-1);update(s,s.text,c),f&&e.remove(i.line,f),d.length&&e.insert(i.line,d)}else if(l==s)if(1==a.length)update(l,l.text.slice(0,i.ch)+u+l.text.slice(o.ch),c);else{var d=linesFor(1,a.length-1);d.push(new ae(u+l.text.slice(o.ch),c,n)),update(l,l.text.slice(0,i.ch)+a[0],spansFor(0)),e.insert(i.line+1,d)}else if(1==a.length)update(l,l.text.slice(0,i.ch)+a[0]+s.text.slice(o.ch),spansFor(0)),e.remove(i.line+1,f);else{update(l,l.text.slice(0,i.ch)+a[0],spansFor(0)),update(s,u+s.text.slice(o.ch),c);var d=linesFor(1,a.length-1);f>1&&e.remove(i.line+1,f-1),e.insert(i.line+1,d)}signalLater(e,"change",e,t)}function LeafChunk(e){this.lines=e,this.parent=null;for(var t=0,r=0;t<e.length;++t)e[t].parent=this,r+=e[t].height;this.height=r}function BranchChunk(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}function linkedDocs(e,t,r){function propagate(e,n,i){if(e.linked)for(var o=0;o<e.linked.length;++o){var a=e.linked[o];if(a.doc!=n){var l=i&&a.sharedHist;r&&!l||(t(a.doc,l),propagate(a.doc,e,l))}}}propagate(e,null,!0)}function attachDoc(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,estimateLineHeights(e),loadMode(e),e.options.lineWrapping||findMaxLine(e),e.options.mode=t.modeOption,regChange(e)}function getLine(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(o>t){r=i;break}t-=o}return r.lines[t]}function getBetween(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(e){var o=e.text;i==r.line&&(o=o.slice(0,r.ch)),i==t.line&&(o=o.slice(t.ch)),n.push(o),++i}),n}function getLines(e,t,r){var n=[];return e.iter(t,r,function(e){n.push(e.text)}),n}function updateLineHeight(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function lineNo(e){if(null==e.parent)return null;for(var t=e.parent,r=indexOf(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function lineAtHeight(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(o>t){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(var n=0;n<e.lines.length;++n){var a=e.lines[n],l=a.height;if(l>t)break;t-=l}return r+n}function heightAtLine(e){e=visualLine(e);for(var t=0,r=e.parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;r=o,o=r.parent)for(var n=0;n<o.children.length;++n){var a=o.children[n];if(a==r)break;t+=a.height}return t}function getOrder(e){var t=e.order;return null==t&&(t=e.order=Ue(e.text)),t}function History(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function historyChangeFromChange(e,t){var r={from:copyPos(t.from),to:W(t),text:getBetween(e,t.from,t.to)};return attachLocalSpans(e,r,t.from.line,t.to.line+1),linkedDocs(e,function(e){attachLocalSpans(e,r,t.from.line,t.to.line+1)},!0),r}function clearSelectionEvents(e){for(;e.length;){var t=lst(e);if(!t.ranges)break;e.pop()}}function lastChangeEvent(e,t){return t?(clearSelectionEvents(e.done),lst(e.done)):e.done.length&&!lst(e.done).ranges?lst(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),lst(e.done)):void 0}function addChangeToHistory(e,t,r,n){var i=e.history;i.undone.length=0;var o,a=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>a-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=lastChangeEvent(i,i.lastOp==n))){var l=lst(o.changes);0==k(t.from,t.to)&&0==k(t.from,l.to)?l.to=W(t):o.changes.push(historyChangeFromChange(e,t))}else{var s=lst(i.done);for(s&&s.ranges||pushSelectionToHistory(e.sel,i.done),o={changes:[historyChangeFromChange(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,l||be(e,"historyAdded")}function selectionEventCanBeMerged(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function addSelectionToHistory(e,t,r,n){var i=e.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||selectionEventCanBeMerged(e,o,lst(i.done),t))?i.done[i.done.length-1]=t:pushSelectionToHistory(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&n.clearRedo!==!1&&clearSelectionEvents(i.undone)}function pushSelectionToHistory(e,t){var r=lst(t);r&&r.ranges&&r.equals(e)||t.push(e)}function attachLocalSpans(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=r.markedSpans),++o})}function removeClearedSpans(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function getOldSpans(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=0,i=[];n<t.text.length;++n)i.push(removeClearedSpans(r[n]));return i}function copyHistoryArray(e,t,r){for(var n=0,i=[];n<e.length;++n){var o=e[n];if(o.ranges)i.push(r?Selection.prototype.deepCopy.call(o):o);else{var a=o.changes,l=[];i.push({changes:l});for(var s=0;s<a.length;++s){var u,c=a[s];if(l.push({from:c.from,to:c.to,text:c.text}),t)for(var f in c)(u=f.match(/^spans_(\d+)$/))&&indexOf(t,Number(u[1]))>-1&&(lst(l)[f]=c[f],delete c[f])}}}return i}function rebaseHistSelSingle(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function rebaseHistArray(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var l=0;l<o.ranges.length;l++)rebaseHistSelSingle(o.ranges[l].anchor,t,r,n),rebaseHistSelSingle(o.ranges[l].head,t,r,n)}else{for(var l=0;l<o.changes.length;++l){var s=o.changes[l];if(r<s.from.line)s.from=S(s.from.line+n,s.from.ch),s.to=S(s.to.line+n,s.to.ch);else if(t<=s.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function rebaseHist(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;rebaseHistArray(e.done,r,n,i),rebaseHistArray(e.undone,r,n,i)}function e_defaultPrevented(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function e_target(e){return e.target||e.srcElement}function e_button(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),v&&e.ctrlKey&&1==t&&(t=3),t}function getHandlers(e,t,r){var n=e._handlers&&e._handlers[t];return r?n&&n.length>0?n.slice():me:n||me}function signalLater(e,t){function bnd(e){return function(){e.apply(null,i)}}var r=getHandlers(e,t,!1);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);T?n=T.delayedCallbacks:xe?n=xe:(n=xe=[],setTimeout(fireOrphanDelayed,0));for(var o=0;o<r.length;++o)n.push(bnd(r[o]))}}function fireOrphanDelayed(){var e=xe;xe=null;for(var t=0;t<e.length;++t)e[t]()}function signalDOMEvent(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),be(e,r||t.type,e,t),e_defaultPrevented(t)||t.codemirrorIgnore}function signalCursorActivity(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==indexOf(r,t[n])&&r.push(t[n])}function hasHandler(e,t){return getHandlers(e,t).length>0}function eventMixin(e){e.prototype.on=function(e,t){ve(this,e,t)},e.prototype.off=function(e,t){ye(this,e,t)}}function Delayed(){this.id=null}function spaceStr(e){for(;Oe.length<=e;)Oe.push(lst(Oe)+" ");return Oe[e]}function lst(e){return e[e.length-1]}function indexOf(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}function map(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function nothing(){}function createObj(e,t){var r;return Object.create?r=Object.create(e):(nothing.prototype=e,r=new nothing),t&&copyObj(t,r),r}function copyObj(e,t,r){t||(t={});for(var n in e)!e.hasOwnProperty(n)||r===!1&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function bind(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function isWordChar(e,t){return t?t.source.indexOf("\\w")>-1&&De(e)?!0:t.test(e):De(e)}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function isExtendingChar(e){return e.charCodeAt(0)>=768&&Re.test(e)}function elt(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function removeChildren(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function removeChildrenAndAdd(e,t){return removeChildren(e).appendChild(t)}function activeElt(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function classTest(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function joinClasses(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!classTest(r[n]).test(t)&&(t+=" "+r[n]);return t}function forEachCodeMirror(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),r=0;r<t.length;r++){var n=t[r].CodeMirror;n&&e(n)}}function ensureGlobalHandlers(){We||(registerGlobalHandlers(),We=!0)}function registerGlobalHandlers(){var e;ve(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,forEachCodeMirror(onResize)},100))}),ve(window,"blur",function(){forEachCodeMirror(onBlur)})}function zeroWidthElement(e){if(null==Fe){var t=elt("span","​");removeChildrenAndAdd(e,elt("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Fe=t.offsetWidth<=1&&t.offsetHeight>2&&!(o&&8>a))}var r=Fe?elt("span","​"):elt("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function hasBadBidiRects(e){if(null!=Ee)return Ee;var t=removeChildrenAndAdd(e,document.createTextNode("AخA")),r=Ae(t,0,1).getBoundingClientRect();if(!r||r.left==r.right)return!1;var n=Ae(t,1,2).getBoundingClientRect();return Ee=n.right-r.right<3}function hasBadZoomedRects(e){if(null!=Ve)return Ve;var t=removeChildrenAndAdd(e,elt("span","x")),r=t.getBoundingClientRect(),n=Ae(t,0,1).getBoundingClientRect();return Ve=Math.abs(r.left-n.left)>1}function iterateBidiSections(e,t,r,n){if(!e)return n(t,r,"ltr");for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<r&&a.to>t||t==r&&a.to==t)&&(n(Math.max(a.from,t),Math.min(a.to,r),1==a.level?"rtl":"ltr"),i=!0)}i||n(t,r,"ltr")}function bidiLeft(e){return e.level%2?e.to:e.from}function bidiRight(e){return e.level%2?e.from:e.to}function lineLeft(e){var t=getOrder(e);return t?bidiLeft(t[0]):0}function lineRight(e){var t=getOrder(e);return t?bidiRight(lst(t)):e.text.length}function lineStart(e,t){var r=getLine(e.doc,t),n=visualLine(r);n!=r&&(t=lineNo(n));var i=getOrder(n),o=i?i[0].level%2?lineRight(n):lineLeft(n):0;return S(t,o)}function lineEnd(e,t){for(var r,n=getLine(e.doc,t);r=collapsedSpanAtEnd(n);)n=r.find(1,!0).line,t=null;var i=getOrder(n),o=i?i[0].level%2?lineLeft(n):lineRight(n):n.text.length;return S(null==t?lineNo(n):t,o)}function lineStartSmart(e,t){var r=lineStart(e,t.line),n=getLine(e.doc,r.line),i=getOrder(n);if(!i||0==i[0].level){var o=Math.max(0,n.text.search(/\S/)),a=t.line==r.line&&t.ch<=o&&t.ch;return S(r.line,a?0:o)}return r}function compareBidiLevel(e,t,r){var n=e[0].level;return t==n?!0:r==n?!1:r>t}function getBidiPartAt(e,t){Ke=null;for(var r,n=0;n<e.length;++n){var i=e[n];if(i.from<t&&i.to>t)return n;if(i.from==t||i.to==t){if(null!=r)return compareBidiLevel(e,i.level,e[r].level)?(i.from!=i.to&&(Ke=r),n):(i.from!=i.to&&(Ke=n),r);r=n}}return r}function moveInLine(e,t,r,n){if(!n)return t+r;do t+=r;while(t>0&&isExtendingChar(e.text.charAt(t)));return t}function moveVisually(e,t,r,n){var i=getOrder(e);if(!i)return moveLogically(e,t,r,n);for(var o=getBidiPartAt(i,t),a=i[o],l=moveInLine(e,t,a.level%2?-r:r,n);;){if(l>a.from&&l<a.to)return l;if(l==a.from||l==a.to)return getBidiPartAt(i,l)==o?l:(a=i[o+=r],r>0==a.level%2?a.to:a.from);if(a=i[o+=r],!a)return null;l=r>0==a.level%2?moveInLine(e,a.to,-1,n):moveInLine(e,a.from,1,n)}}function moveLogically(e,t,r,n){var i=t+r;if(n)for(;i>0&&isExtendingChar(e.text.charAt(i));)i+=r;return 0>i||i>e.text.length?null:i}var e=navigator.userAgent,t=navigator.platform,r=/gecko\/\d/i.test(e),n=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=n||i,a=o&&(n?document.documentMode||6:i[1]),l=/WebKit\//.test(e),s=l&&/Qt\/\d+\.\d+/.test(e),u=/Chrome\//.test(e),c=/Opera\//.test(e),f=/Apple Computer/.test(navigator.vendor),d=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),p=/PhantomJS/.test(e),h=/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),g=h||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),v=h||/Mac/.test(t),m=/\bCrOS\b/.test(e),y=/win/i.test(t),b=c&&e.match(/Version\/(\d*\.\d*)/);b&&(b=Number(b[1])),b&&b>=15&&(c=!1,l=!0);var x=v&&(s||c&&(null==b||12.11>b)),w=r||o&&a>=9,C=!1,_=!1;NativeScrollbars.prototype=copyObj({update:function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=v&&!d?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Delayed,this.disableVert=new Delayed},enableZeroWidthBar:function(e,t){function maybeDisable(){var r=e.getBoundingClientRect(),n=document.elementFromPoint(r.left+1,r.bottom-1);n!=e?e.style.pointerEvents="none":t.set(1e3,maybeDisable)}e.style.pointerEvents="auto",t.set(1e3,maybeDisable)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},NativeScrollbars.prototype),NullScrollbars.prototype=copyObj({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},NullScrollbars.prototype),CodeMirror.scrollbarModel={"native":NativeScrollbars,"null":NullScrollbars},DisplayUpdate.prototype.signal=function(e,t){hasHandler(e,t)&&this.events.push(arguments)},DisplayUpdate.prototype.finish=function(){for(var e=0;e<this.events.length;e++)be.apply(null,this.events[e])};var S=CodeMirror.Pos=function(e,t){return this instanceof S?(this.line=e,void(this.ch=t)):new S(e,t)},k=CodeMirror.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},L=null;TextareaInput.prototype=copyObj({init:function(e){function prepareCopyCut(e){if(!signalDOMEvent(r,e)){if(r.somethingSelected())L={lineWise:!1,text:r.getSelections()},t.inaccurateSelection&&(t.prevInput="",t.inaccurateSelection=!1,i.value=L.text.join("\n"),Ie(i));else{if(!r.options.lineWiseCopyCut)return;var n=copyableRanges(r);L={lineWise:!0,text:n.text},"cut"==e.type?r.setSelections(n.ranges,null,_e):(t.prevInput="",i.value=n.text.join("\n"),Ie(i))}"cut"==e.type&&(r.state.cutIncoming=!0)}}var t=this,r=this.cm,n=this.wrapper=hiddenTextarea(),i=this.textarea=n.firstChild;e.wrapper.insertBefore(n,e.wrapper.firstChild),h&&(i.style.width="0px"),ve(i,"input",function(){o&&a>=9&&t.hasSelection&&(t.hasSelection=null),t.poll()}),ve(i,"paste",function(e){signalDOMEvent(r,e)||handlePaste(e,r)||(r.state.pasteIncoming=!0,t.fastPoll())}),ve(i,"cut",prepareCopyCut),ve(i,"copy",prepareCopyCut),ve(e.scroller,"paste",function(n){eventInWidget(e,n)||signalDOMEvent(r,n)||(r.state.pasteIncoming=!0,t.focus())}),ve(e.lineSpace,"selectstart",function(t){eventInWidget(e,t)||pe(t)}),ve(i,"compositionstart",function(){var e=r.getCursor("from");t.composing&&t.composing.range.clear(),t.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),ve(i,"compositionend",function(){t.composing&&(t.poll(),t.composing.range.clear(),t.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,r=e.doc,n=prepareSelection(e);if(e.options.moveInputWithCursor){var i=cursorCoords(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return n},showSelection:function(e){var t=this.cm,r=t.display;removeChildrenAndAdd(r.cursorDiv,e.cursors),removeChildrenAndAdd(r.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,r,n=this.cm,i=n.doc;if(n.somethingSelected()){this.prevInput="";var l=i.sel.primary();t=ze&&(l.to().line-l.from().line>100||(r=n.getSelection()).length>1e3);var s=t?"-":r||n.getSelection();this.textarea.value=s,n.state.focused&&Ie(this.textarea),o&&a>=9&&(this.hasSelection=s)}else e||(this.prevInput=this.textarea.value="",o&&a>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea;
},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!g||activeElt()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function p(){var r=t.poll();r||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,p))}var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,p)},poll:function(){var e=this.cm,t=this.textarea,r=this.prevInput;if(this.contextMenuPending||!e.state.focused||qe(t)&&!r&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var n=t.value;if(n==r&&!e.somethingSelected())return!1;if(o&&a>=9&&this.hasSelection===n||v&&/[\uf700-\uf7ff]/.test(n))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var i=n.charCodeAt(0);if(8203!=i||r||(r="​"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var l=0,s=Math.min(r.length,n.length);s>l&&r.charCodeAt(l)==n.charCodeAt(l);)++l;var u=this;return runInOp(e,function(){applyTextInput(e,n.slice(l),r.length-l,null,u.composing?"*compose":null),n.length>1e3||n.indexOf("\n")>-1?t.value=u.prevInput="":u.prevInput=n,u.composing&&(u.composing.range.clear(),u.composing.range=e.markText(u.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){o&&a>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function prepareSelectAllHack(){if(null!=i.selectionStart){var e=r.somethingSelected(),o="​"+(e?i.value:"");i.value="⇚",i.value=o,t.prevInput=e?"":"​",i.selectionStart=1,i.selectionEnd=o.length,n.selForContextMenu=r.doc.sel}}function rehide(){if(t.contextMenuPending=!1,t.wrapper.style.cssText=p,i.style.cssText=d,o&&9>a&&n.scrollbars.setScrollTop(n.scroller.scrollTop=u),null!=i.selectionStart){(!o||o&&9>a)&&prepareSelectAllHack();var e=0,l=function(){n.selForContextMenu==r.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"​"==t.prevInput?operation(r,Y.selectAll)(r):e++<10?n.detectingSelectAll=setTimeout(l,500):n.input.reset()};n.detectingSelectAll=setTimeout(l,200)}}var t=this,r=t.cm,n=r.display,i=t.textarea,s=posFromMouse(r,e),u=n.scroller.scrollTop;if(s&&!c){var f=r.options.resetSelectionOnContextMenu;f&&-1==r.doc.sel.contains(s)&&operation(r,setSelection)(r.doc,simpleSelection(s),_e);var d=i.style.cssText,p=t.wrapper.style.cssText;t.wrapper.style.cssText="position: absolute";var h=t.wrapper.getBoundingClientRect();if(i.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px; z-index: 1000; background: "+(o?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l)var g=window.scrollY;if(n.input.focus(),l&&window.scrollTo(null,g),n.input.reset(),r.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=!0,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll),o&&a>=9&&prepareSelectAllHack(),w){ge(e);var v=function(){ye(window,"mouseup",v),setTimeout(rehide,20)};ve(window,"mouseup",v)}else setTimeout(rehide,50)}},readOnlyChanged:function(e){e||this.reset()},setUneditable:nothing,needsContentAttribute:!1},TextareaInput.prototype),ContentEditableInput.prototype=copyObj({init:function(e){function onCopyCut(e){if(!signalDOMEvent(r,e)){if(r.somethingSelected())L={lineWise:!1,text:r.getSelections()},"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=copyableRanges(r);L={lineWise:!0,text:t.text},"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,_e),r.replaceSelection("",null,"cut")})}if(e.clipboardData&&!h)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",L.text.join("\n"));else{var n=hiddenTextarea(),i=n.firstChild;r.display.lineSpace.insertBefore(n,r.display.lineSpace.firstChild),i.value=L.text.join("\n");var o=document.activeElement;Ie(i),setTimeout(function(){r.display.lineSpace.removeChild(n),o.focus()},50)}}}var t=this,r=t.cm,n=t.div=e.lineDiv;disableBrowserMagic(n),ve(n,"paste",function(e){signalDOMEvent(r,e)||handlePaste(e,r)}),ve(n,"compositionstart",function(e){var n=e.data;if(t.composing={sel:r.doc.sel,data:n,startData:n},n){var i=r.doc.sel.primary(),o=r.getLine(i.head.line),a=o.indexOf(n,Math.max(0,i.head.ch-n.length));a>-1&&a<=i.head.ch&&(t.composing.sel=simpleSelection(S(i.head.line,a),S(i.head.line,a+n.length)))}}),ve(n,"compositionupdate",function(e){t.composing.data=e.data}),ve(n,"compositionend",function(e){var r=t.composing;r&&(e.data==r.startData||/\u200b/.test(e.data)||(r.data=e.data),setTimeout(function(){r.handled||t.applyComposition(r),t.composing==r&&(t.composing=null)},50))}),ve(n,"touchstart",function(){t.forceCompositionEnd()}),ve(n,"input",function(){t.composing||!r.isReadOnly()&&t.pollContent()||runInOp(t.cm,function(){regChange(r)})}),ve(n,"copy",onCopyCut),ve(n,"cut",onCopyCut)},prepareSelection:function(){var e=prepareSelection(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=domToPos(this.cm,e.anchorNode,e.anchorOffset),i=domToPos(this.cm,e.focusNode,e.focusOffset);if(!n||n.bad||!i||i.bad||0!=k(minPos(n,i),t.from())||0!=k(maxPos(n,i),t.to())){var o=posToDOM(this.cm,t.from()),a=posToDOM(this.cm,t.to());if(o||a){var l=this.cm.display.view,s=e.rangeCount&&e.getRangeAt(0);if(o){if(!a){var u=l[l.length-1].measure,c=u.maps?u.maps[u.maps.length-1]:u.map;a={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else o={node:l[0].measure.map[2],offset:0};try{var f=Ae(o.node,o.offset,a.offset,a.node)}catch(d){}f&&(!r&&this.cm.state.focused?(e.collapse(o.node,o.offset),f.collapsed||e.addRange(f)):(e.removeAllRanges(),e.addRange(f)),s&&null==e.anchorNode?e.addRange(s):r&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){removeChildrenAndAdd(this.cm.display.cursorDiv,e.cursors),removeChildrenAndAdd(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Pe(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function poll(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,poll))}var e=this;this.selectionInEditor()?this.pollSelection():runInOp(this.cm,function(){e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,poll)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var r=domToPos(t,e.anchorNode,e.anchorOffset),n=domToPos(t,e.focusNode,e.focusOffset);r&&n&&runInOp(t,function(){setSelection(t.doc,simpleSelection(r,n),_e),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,r=e.doc.sel.primary(),n=r.from(),i=r.to();if(n.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o;if(n.line==t.viewFrom||0==(o=findViewIndex(e,n.line)))var a=lineNo(t.view[0].line),l=t.view[0].node;else var a=lineNo(t.view[o].line),l=t.view[o-1].node.nextSibling;var s=findViewIndex(e,i.line);if(s==t.view.length-1)var u=t.viewTo-1,c=t.lineDiv.lastChild;else var u=lineNo(t.view[s+1].line)-1,c=t.view[s+1].node.previousSibling;for(var f=e.doc.splitLines(domTextBetween(e,l,c,a,u)),d=getBetween(e.doc,S(a,0),S(u,getLine(e.doc,u).text.length));f.length>1&&d.length>1;)if(lst(f)==lst(d))f.pop(),d.pop(),u--;else{if(f[0]!=d[0])break;f.shift(),d.shift(),a++}for(var p=0,h=0,g=f[0],v=d[0],m=Math.min(g.length,v.length);m>p&&g.charCodeAt(p)==v.charCodeAt(p);)++p;for(var y=lst(f),b=lst(d),x=Math.min(y.length-(1==f.length?p:0),b.length-(1==d.length?p:0));x>h&&y.charCodeAt(y.length-h-1)==b.charCodeAt(b.length-h-1);)++h;f[f.length-1]=y.slice(0,y.length-h),f[0]=f[0].slice(p);var w=S(a,p),C=S(u,d.length?lst(d).length-h:0);return f.length>1||f[0]||k(w,C)?(replaceRange(e.doc,f,w,C,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){this.cm.isReadOnly()?operation(this.cm,regChange)(this.cm):e.data&&e.data!=e.startData&&operation(this.cm,applyTextInput)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||operation(this.cm,applyTextInput)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:nothing,resetPosition:nothing,needsContentAttribute:!0},ContentEditableInput.prototype),CodeMirror.inputStyles={textarea:TextareaInput,contenteditable:ContentEditableInput},Selection.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(0!=k(r.anchor,n.anchor)||0!=k(r.head,n.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Range(copyPos(this.ranges[t].anchor),copyPos(this.ranges[t].head));return new Selection(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(k(t,n.from())>=0&&k(e,n.to())<=0)return r}return-1}},Range.prototype={from:function(){return minPos(this.anchor,this.head)},to:function(){return maxPos(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var M,O,I,A={left:0,right:0,top:0,bottom:0},T=null,D=0,R=0,P=0,F=null;o?F=-.53:r?F=15:u?F=-.7:f&&(F=-1/3);var E=function(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}};CodeMirror.wheelEventPixels=function(e){var t=E(e);return t.x*=F,t.y*=F,t};var N=new Delayed,j=null,W=CodeMirror.changeEnd=function(e){return e.text?S(e.from.line+e.text.length-1,lst(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};CodeMirror.prototype={constructor:CodeMirror,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var r=this.options,n=r[e];r[e]==t&&"mode"!=e||(r[e]=t,B.hasOwnProperty(e)&&operation(this,B[e])(this,t,n))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](getKeyMap(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:methodOp(function(e,t){var r=e.token?e:CodeMirror.getMode(this.options,e);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:e,opaque:t&&t.opaque}),this.state.modeGen++,regChange(this)}),removeOverlay:methodOp(function(e){for(var t=this.state.overlays,r=0;r<t.length;++r){var n=t[r].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(r,1),this.state.modeGen++,void regChange(this)}}),indentLine:methodOp(function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),isLine(this.doc,e)&&indentLine(this,e,t,r)}),indentSelection:methodOp(function(e){for(var t=this.doc.sel.ranges,r=-1,n=0;n<t.length;n++){var i=t[n];if(i.empty())i.head.line>r&&(indentLine(this,i.head.line,e,!0),r=i.head.line,n==this.doc.sel.primIndex&&ensureCursorVisible(this));else{var o=i.from(),a=i.to(),l=Math.max(r,o.line);r=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var s=l;r>s;++s)indentLine(this,s,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[n].from().ch>0&&replaceOneSelection(this.doc,n,new Range(o,u[n].to()),_e)}}}),getTokenAt:function(e,t){return takeToken(this,e,t)},getLineTokens:function(e,t){return takeToken(this,S(e),t,!0)},getTokenTypeAt:function(e){e=clipPos(this.doc,e);var t,r=getLineStyles(this,getLine(this.doc,e.line)),n=0,i=(r.length-1)/2,o=e.ch;if(0==o)t=r[2];else for(;;){var a=n+i>>1;if((a?r[2*a-1]:0)>=o)i=a;else{if(!(r[2*a+1]<o)){t=r[2*a+2];break}n=a+1}}var l=t?t.indexOf("cm-overlay "):-1;return 0>l?t:0==l?null:t.slice(0,l-1)},getModeAt:function(e){var t=this.doc.mode;return t.innerMode?CodeMirror.innerMode(t,this.getTokenAt(e).state).mode:t},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!U.hasOwnProperty(t))return r;var n=U[t],i=this.getModeAt(e);if("string"==typeof i[t])n[i[t]]&&r.push(n[i[t]]);else if(i[t])for(var o=0;o<i[t].length;o++){var a=n[i[t][o]];a&&r.push(a)}else i.helperType&&n[i.helperType]?r.push(n[i.helperType]):n[i.name]&&r.push(n[i.name]);for(var o=0;o<n._global.length;o++){var l=n._global[o];l.pred(i,this)&&-1==indexOf(r,l.val)&&r.push(l.val)}return r},getStateAfter:function(e,t){var r=this.doc;return e=clipLine(r,null==e?r.first+r.size-1:e),getStateBefore(this,e+1,t)},cursorCoords:function(e,t){var r,n=this.doc.sel.primary();return r=null==e?n.head:"object"==typeof e?clipPos(this.doc,e):e?n.from():n.to(),cursorCoords(this,r,t||"page")},charCoords:function(e,t){return charCoords(this,clipPos(this.doc,e),t||"page")},coordsChar:function(e,t){return e=fromCoordSystem(this,e,t||"page"),coordsChar(this,e.left,e.top)},lineAtHeight:function(e,t){return e=fromCoordSystem(this,{top:e,left:0},t||"page").top,lineAtHeight(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var r,n=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,n=!0),r=getLine(this.doc,e)}else r=e;return intoCoordSystem(this,r,{top:0,left:0},t||"page").top+(n?this.doc.height-heightAtLine(r):0)},defaultTextHeight:function(){return textHeight(this.display)},defaultCharWidth:function(){return charWidth(this.display)},setGutterMarker:methodOp(function(e,t,r){return changeLine(this.doc,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&isEmpty(n)&&(e.gutterMarkers=null),!0})}),clearGutter:methodOp(function(e){var t=this,r=t.doc,n=r.first;r.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&(r.gutterMarkers[e]=null,regLineChange(t,n,"gutter"),isEmpty(r.gutterMarkers)&&(r.gutterMarkers=null)),++n})}),lineInfo:function(e){if("number"==typeof e){if(!isLine(this.doc,e))return null;var t=e;if(e=getLine(this.doc,e),!e)return null}else{var t=lineNo(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var o=this.display;e=cursorCoords(this,clipPos(this.doc,e));var a=e.bottom,l=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==n)a=e.top;else if("above"==n||"near"==n){var s=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>s)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=s&&(a=e.bottom),l+t.offsetWidth>u&&(l=u-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(l=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?l=0:"middle"==i&&(l=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=l+"px"),r&&scrollIntoView(this,l,a,l+t.offsetWidth,a+t.offsetHeight)},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,execCommand:function(e){return Y.hasOwnProperty(e)?Y[e].call(null,this):void 0},triggerElectric:methodOp(function(e){triggerElectric(this,e)}),findPosH:function(e,t,r,n){var i=1;0>t&&(i=-1,t=-t);for(var o=0,a=clipPos(this.doc,e);t>o&&(a=findPosH(this.doc,a,i,r,n),!a.hitSide);++o);return a},moveH:methodOp(function(e,t){var r=this;r.extendSelectionsBy(function(n){return r.display.shift||r.doc.extend||n.empty()?findPosH(r.doc,n.head,e,t,r.options.rtlMoveVisually):0>e?n.from():n.to()},ke)}),deleteH:methodOp(function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):deleteNearSelection(this,function(r){var i=findPosH(n,r.head,e,t,!1);return 0>e?{from:i,to:r.head}:{from:r.head,to:i}})}),findPosV:function(e,t,r,n){var i=1,o=n;0>t&&(i=-1,t=-t);for(var a=0,l=clipPos(this.doc,e);t>a;++a){var s=cursorCoords(this,l,"div");if(null==o?o=s.left:s.left=o,l=findPosV(this,s,i,r),l.hitSide)break}return l},moveV:methodOp(function(e,t){var r=this,n=this.doc,i=[],o=!r.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(a){if(o)return 0>e?a.from():a.to();var l=cursorCoords(r,a.head,"div");null!=a.goalColumn&&(l.left=a.goalColumn),i.push(l.left);var s=findPosV(r,l,e,t);return"page"==t&&a==n.sel.primary()&&addToScrollPos(r,null,charCoords(r,s,"div").top-l.top),s},ke),i.length)for(var a=0;a<n.sel.ranges.length;a++)n.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(e){var t=this.doc,r=getLine(t,e.line).text,n=e.ch,i=e.ch;if(r){var o=this.getHelper(e,"wordChars");(e.xRel<0||i==r.length)&&n?--n:++i;for(var a=r.charAt(n),l=isWordChar(a,o)?function(e){return isWordChar(e,o)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!isWordChar(e)};n>0&&l(r.charAt(n-1));)--n;for(;i<r.length&&l(r.charAt(i));)++i}return new Range(S(e.line,n),S(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?je(this.display.cursorDiv,"CodeMirror-overwrite"):Ne(this.display.cursorDiv,"CodeMirror-overwrite"),be(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==activeElt()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:methodOp(function(e,t){null==e&&null==t||resolveScrollToPos(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-scrollGap(this)-this.display.barHeight,width:e.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)}},scrollIntoView:methodOp(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:S(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)resolveScrollToPos(this),this.curOp.scrollToPos=e;else{var r=calculateScrollPos(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(r.scrollLeft,r.scrollTop)}}),setSize:methodOp(function(e,t){function interpret(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var r=this;null!=e&&(r.display.wrapper.style.width=interpret(e)),null!=t&&(r.display.wrapper.style.height=interpret(t)),r.options.lineWrapping&&clearLineMeasurementCache(this);var n=r.display.viewFrom;r.doc.iter(n,r.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){regLineChange(r,n,"widget");break}++n}),r.curOp.forceUpdate=!0,be(r,"refresh",this)}),operation:function(e){return runInOp(this,e)},refresh:methodOp(function(){var e=this.display.cachedTextHeight;regChange(this),this.curOp.forceUpdate=!0,clearCaches(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),updateGutterSpace(this),(null==e||Math.abs(e-textHeight(this.display))>.5)&&estimateLineHeights(this),be(this,"refresh",this)}),swapDoc:methodOp(function(e){var t=this.doc;return t.cm=null,attachDoc(this,e),clearCaches(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,signalLater(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},eventMixin(CodeMirror);var H=CodeMirror.defaults={},B=CodeMirror.optionHandlers={},q=CodeMirror.Init={toString:function(){return"CodeMirror.Init"}};option("value","",function(e,t){e.setValue(t)},!0),option("mode",null,function(e,t){e.doc.modeOption=t,loadMode(e)},!0),option("indentUnit",2,loadMode,!0),option("indentWithTabs",!1),option("smartIndent",!0),option("tabSize",4,function(e){resetModeState(e),clearCaches(e),regChange(e)},!0),option("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,r.push(S(n,o))}n++});for(var i=r.length-1;i>=0;i--)replaceRange(e.doc,t,r[i],S(r[i].line,r[i].ch+t.length))}}),option("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("	")?"":"|	"),"g"),r!=CodeMirror.Init&&e.refresh()}),option("specialCharPlaceholder",defaultSpecialCharPlaceholder,function(e){e.refresh()},!0),option("electricChars",!0),option("inputStyle",g?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),option("rtlMoveVisually",!y),option("wholeLineUpdateBefore",!0),option("theme","default",function(e){themeChanged(e),guttersChanged(e)},!0),option("keyMap","default",function(e,t,r){var n=getKeyMap(t),i=r!=CodeMirror.Init&&getKeyMap(r);i&&i.detach&&i.detach(e,n),n.attach&&n.attach(e,i||null)}),option("extraKeys",null),option("lineWrapping",!1,wrappingChanged,!0),option("gutters",[],function(e){setGuttersForLineNumbers(e.options),guttersChanged(e)},!0),option("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?compensateForHScroll(e.display)+"px":"0",e.refresh()},!0),option("coverGutterNextToScrollbar",!1,function(e){updateScrollbars(e)},!0),option("scrollbarStyle","native",function(e){initScrollbars(e),updateScrollbars(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),option("lineNumbers",!1,function(e){setGuttersForLineNumbers(e.options),guttersChanged(e)},!0),option("firstLineNumber",1,guttersChanged,!0),option("lineNumberFormatter",function(e){return e},guttersChanged,!0),option("showCursorWhenSelecting",!1,updateSelection,!0),option("resetSelectionOnContextMenu",!0),option("lineWiseCopyCut",!0),option("readOnly",!1,function(e,t){"nocursor"==t?(onBlur(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),option("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),option("dragDrop",!0,dragDropChanged),option("allowDropFileTypes",null),option("cursorBlinkRate",530),option("cursorScrollMargin",0),option("cursorHeight",1,updateSelection,!0),option("singleCursorHeightPerLine",!0,updateSelection,!0),option("workTime",100),option("workDelay",100),option("flattenSpans",!0,resetModeState,!0),option("addModeClass",!1,resetModeState,!0),option("pollInterval",100),option("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),option("historyEventDelay",1250),option("viewportMargin",10,function(e){e.refresh()},!0),option("maxHighlightLength",1e4,resetModeState,!0),option("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),option("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),option("autofocus",null);var z=CodeMirror.modes={},V=CodeMirror.mimeModes={};CodeMirror.defineMode=function(e,t){CodeMirror.defaults.mode||"null"==e||(CodeMirror.defaults.mode=e),arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),z[e]=t},CodeMirror.defineMIME=function(e,t){V[e]=t},CodeMirror.resolveMode=function(e){if("string"==typeof e&&V.hasOwnProperty(e))e=V[e];else if(e&&"string"==typeof e.name&&V.hasOwnProperty(e.name)){var t=V[e.name];"string"==typeof t&&(t={name:t}),e=createObj(t,e),e.name=t.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return CodeMirror.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},CodeMirror.getMode=function(e,t){var t=CodeMirror.resolveMode(t),r=z[t.name];if(!r)return CodeMirror.getMode(e,"text/plain");var n=r(e,t);if(G.hasOwnProperty(t.name)){var i=G[t.name];for(var o in i)i.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var o in t.modeProps)n[o]=t.modeProps[o];return n},CodeMirror.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),CodeMirror.defineMIME("text/plain","null");var G=CodeMirror.modeExtensions={};CodeMirror.extendMode=function(e,t){var r=G.hasOwnProperty(e)?G[e]:G[e]={};copyObj(t,r)},CodeMirror.defineExtension=function(e,t){CodeMirror.prototype[e]=t},CodeMirror.defineDocExtension=function(e,t){ce.prototype[e]=t},CodeMirror.defineOption=option;var K=[];CodeMirror.defineInitHook=function(e){K.push(e)};var U=CodeMirror.helpers={};CodeMirror.registerHelper=function(e,t,r){U.hasOwnProperty(e)||(U[e]=CodeMirror[e]={_global:[]}),U[e][t]=r},CodeMirror.registerGlobalHelper=function(e,t,r,n){CodeMirror.registerHelper(e,t,n),U[e]._global.push({pred:r,val:n})};var $=CodeMirror.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r},X=CodeMirror.startState=function(e,t,r){return e.startState?e.startState(t,r):!0};CodeMirror.innerMode=function(e,t){for(;e.innerMode;){var r=e.innerMode(t);if(!r||r.mode==e)break;t=r.state,e=r.mode}return r||{mode:e,state:t}};var Y=CodeMirror.commands={selectAll:function(e){e.setSelection(S(e.firstLine(),0),S(e.lastLine()),_e)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),_e)},killLine:function(e){deleteNearSelection(e,function(t){if(t.empty()){var r=getLine(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:S(t.head.line+1,0)}:{from:t.head,to:S(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){deleteNearSelection(e,function(t){return{from:S(t.from().line,0),to:clipPos(e.doc,S(t.to().line+1,0))}})},delLineLeft:function(e){deleteNearSelection(e,function(e){return{from:S(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){deleteNearSelection(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return{from:n,to:t.from()}})},delWrappedLineRight:function(e){deleteNearSelection(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(S(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(S(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return lineStart(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return lineStartSmart(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return lineEnd(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},ke)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},ke)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?lineStartSmart(e,t.head):n},ke)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),a=Le(e.getLine(o.line),o.ch,n);t.push(spaceStr(n-a%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){runInOp(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++){var i=t[n].head,o=getLine(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new S(i.line,i.ch-1)),i.ch>0)i=new S(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),S(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=getLine(e.doc,i.line-1).text;a&&e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),S(i.line-1,a.length-1),S(i.line,1),"+transpose")}r.push(new Range(i,i))}e.setSelections(r)})},newlineAndIndent:function(e){runInOp(e,function(){for(var t=e.listSelections().length,r=0;t>r;r++){var n=e.listSelections()[r];e.replaceRange(e.doc.lineSeparator(),n.anchor,n.head,"+input"),e.indentLine(n.from().line+1,null,!0)}ensureCursorVisible(e)})},openLine:function(e){e.replaceSelection("\n","start")},toggleOverwrite:function(e){e.toggleOverwrite()}},Z=CodeMirror.keyMap={};Z.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",
Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Z.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Z.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Z.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Z["default"]=v?Z.macDefault:Z.pcDefault,CodeMirror.normalizeKeyMap=function(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=map(r.split(" "),normalizeKeyName),o=0;o<i.length;o++){var a,l;o==i.length-1?(l=i.join(" "),a=n):(l=i.slice(0,o+1).join(" "),a="...");var s=t[l];if(s){if(s!=a)throw new Error("Inconsistent bindings for "+l)}else t[l]=a}delete e[r]}for(var u in t)e[u]=t[u];return e};var J=CodeMirror.lookupKey=function(e,t,r,n){t=getKeyMap(t);var i=t.call?t.call(e,n):t[e];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return J(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var a=J(e,t.fallthrough[o],r,n);if(a)return a}}},Q=CodeMirror.isModifierKey=function(e){var t="string"==typeof e?e:Ge[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},ee=CodeMirror.keyName=function(e,t){if(c&&34==e.keyCode&&e["char"])return!1;var r=Ge[e.keyCode],n=r;return null==n||e.altGraphKey?!1:(e.altKey&&"Alt"!=r&&(n="Alt-"+n),(x?e.metaKey:e.ctrlKey)&&"Ctrl"!=r&&(n="Ctrl-"+n),(x?e.ctrlKey:e.metaKey)&&"Cmd"!=r&&(n="Cmd-"+n),!t&&e.shiftKey&&"Shift"!=r&&(n="Shift-"+n),n)};CodeMirror.fromTextArea=function(e,t){function save(){e.value=l.getValue()}if(t=t?copyObj(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=activeElt();t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}if(e.form&&(ve(e.form,"submit",save),!t.leaveSubmitMethodAlone)){var n=e.form,i=n.submit;try{var o=n.submit=function(){save(),n.submit=i,n.submit(),n.submit=o}}catch(a){}}t.finishInit=function(t){t.save=save,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,save(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(ye(e.form,"submit",save),"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var l=CodeMirror(function(t){e.parentNode.insertBefore(t,e.nextSibling)},t);return l};var te=CodeMirror.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};te.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var r=t==e;else var r=t&&(e.test?e.test(t):e(t));return r?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Le(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Le(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Le(this.string,null,this.tabSize)-(this.lineStart?Le(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&t!==!1&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);return i(o)==i(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var re=0,ne=CodeMirror.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++re};eventMixin(ne),ne.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&startOperation(e),hasHandler(this,"clear")){var r=this.find();r&&signalLater(this,"clear",r.from,r.to)}for(var n=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],l=getMarkedSpanFor(a.markedSpans,this);e&&!this.collapsed?regLineChange(e,lineNo(a),"text"):e&&(null!=l.to&&(i=lineNo(a)),null!=l.from&&(n=lineNo(a))),a.markedSpans=removeMarkedSpan(a.markedSpans,l),null==l.from&&this.collapsed&&!lineIsHidden(this.doc,a)&&e&&updateLineHeight(a,textHeight(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var s=visualLine(this.lines[o]),u=lineLength(s);u>e.display.maxLineLength&&(e.display.maxLine=s,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&regChange(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&reCheckSelection(e.doc)),e&&signalLater(e,"markerCleared",e,this),t&&endOperation(e),this.parent&&this.parent.clear()}},ne.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var r,n,i=0;i<this.lines.length;++i){var o=this.lines[i],a=getMarkedSpanFor(o.markedSpans,this);if(null!=a.from&&(r=S(t?o:lineNo(o),a.from),-1==e))return r;if(null!=a.to&&(n=S(t?o:lineNo(o),a.to),1==e))return n}return r&&{from:r,to:n}},ne.prototype.changed=function(){var e=this.find(-1,!0),t=this,r=this.doc.cm;e&&r&&runInOp(r,function(){var n=e.line,i=lineNo(e.line),o=findViewForLine(r,i);if(o&&(clearLineMeasurementCacheFor(o),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!lineIsHidden(t.doc,n)&&null!=t.height){var a=t.height;t.height=null;var l=widgetHeight(t)-a;l&&updateLineHeight(n,n.height+l)}})},ne.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=indexOf(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ne.prototype.detachLine=function(e){if(this.lines.splice(indexOf(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var re=0,ie=CodeMirror.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};eventMixin(ie),ie.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();signalLater(this,"clear")}},ie.prototype.find=function(e,t){return this.primary.find(e,t)};var oe=CodeMirror.LineWidget=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};eventMixin(oe),oe.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=lineNo(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var o=widgetHeight(this);updateLineHeight(r,Math.max(0,r.height-o)),e&&runInOp(e,function(){adjustScrollWhenAboveVisible(e,r,-o),regLineChange(e,n,"widget")})}},oe.prototype.changed=function(){var e=this.height,t=this.doc.cm,r=this.line;this.height=null;var n=widgetHeight(this)-e;n&&(updateLineHeight(r,r.height+n),t&&runInOp(t,function(){t.curOp.forceUpdate=!0,adjustScrollWhenAboveVisible(t,r,n)}))};var ae=CodeMirror.Line=function(e,t,r){this.text=e,attachMarkedSpans(this,t),this.height=r?r(this):1};eventMixin(ae),ae.prototype.lineNo=function(){return lineNo(this)};var le={},se={};LeafChunk.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;n>r;++r){var i=this.lines[r];this.height-=i.height,cleanUpLine(i),signalLater(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;n>e;++e)if(r(this.lines[e]))return!0}},BranchChunk.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(i>e){var o=Math.min(t,i-e),a=n.height;if(n.removeInner(e,o),this.height-=a-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof LeafChunk))){var l=[];this.collapse(l),this.children=[new LeafChunk(l)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(o>=e){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,l=a;l<i.lines.length;){var s=new LeafChunk(i.lines.slice(l,l+=25));i.height-=s.height,this.children.splice(++n,0,s),s.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),r=new BranchChunk(t);if(e.parent){e.size-=r.size,e.height-=r.height;var n=indexOf(e.parent.children,e);e.parent.children.splice(n+1,0,r)}else{var i=new BranchChunk(e.children);i.parent=e,e.children=[i,r],e=i}r.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(o>e){var a=Math.min(t,o-e);if(i.iterN(e,a,r))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var ue=0,ce=CodeMirror.Doc=function(e,t,r,n){if(!(this instanceof ce))return new ce(e,t,r,n);null==r&&(r=0),BranchChunk.call(this,[new LeafChunk([new ae("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=r;var i=S(r,0);this.sel=simpleSelection(i),this.history=new History(null),this.id=++ue,this.modeOption=t,this.lineSep=n,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),updateDoc(this,{from:i,to:i,text:e}),setSelection(this,simpleSelection(i),_e)};ce.prototype=createObj(BranchChunk.prototype,{constructor:ce,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=getLines(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:docMethodOp(function(e){var t=S(this.first,0),r=this.first+this.size-1;makeChange(this,{from:t,to:S(r,getLine(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),setSelection(this,simpleSelection(t))}),replaceRange:function(e,t,r,n){t=clipPos(this,t),r=r?clipPos(this,r):t,replaceRange(this,e,t,r,n)},getRange:function(e,t,r){var n=getBetween(this,clipPos(this,e),clipPos(this,t));return r===!1?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return isLine(this,e)?getLine(this,e):void 0},getLineNumber:function(e){return lineNo(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=getLine(this,e)),visualLine(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return clipPos(this,e)},getCursor:function(e){var t,r=this.sel.primary();return t=null==e||"head"==e?r.head:"anchor"==e?r.anchor:"end"==e||"to"==e||e===!1?r.to():r.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:docMethodOp(function(e,t,r){setSimpleSelection(this,clipPos(this,"number"==typeof e?S(e,t||0):e),null,r)}),setSelection:docMethodOp(function(e,t,r){setSimpleSelection(this,clipPos(this,e),clipPos(this,t||e),r)}),extendSelection:docMethodOp(function(e,t,r){extendSelection(this,clipPos(this,e),t&&clipPos(this,t),r)}),extendSelections:docMethodOp(function(e,t){extendSelections(this,clipPosArray(this,e),t)}),extendSelectionsBy:docMethodOp(function(e,t){var r=map(this.sel.ranges,e);extendSelections(this,clipPosArray(this,r),t)}),setSelections:docMethodOp(function(e,t,r){if(e.length){for(var n=0,i=[];n<e.length;n++)i[n]=new Range(clipPos(this,e[n].anchor),clipPos(this,e[n].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),setSelection(this,normalizeSelection(i,t),r)}}),addSelection:docMethodOp(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new Range(clipPos(this,e),clipPos(this,t||e))),setSelection(this,normalizeSelection(n,n.length-1),r)}),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var i=getBetween(this,r[n].from(),r[n].to());t=t?t.concat(i):i}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=getBetween(this,r[n].from(),r[n].to());e!==!1&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:docMethodOp(function(e,t,r){for(var n=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];n[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:r}}for(var l=t&&"end"!=t&&computeReplacedSel(this,n,t),o=n.length-1;o>=0;o--)makeChange(this,n[o]);l?setSelectionReplaceHistory(this,l):this.cm&&ensureCursorVisible(this.cm)}),undo:docMethodOp(function(){makeChangeFromHistory(this,"undo")}),redo:docMethodOp(function(){makeChangeFromHistory(this,"redo")}),undoSelection:docMethodOp(function(){makeChangeFromHistory(this,"undo",!0)}),redoSelection:docMethodOp(function(){makeChangeFromHistory(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var n=0;n<e.undone.length;n++)e.undone[n].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){this.history=new History(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)}},setHistory:function(e){var t=this.history=new History(this.history.maxGeneration);t.done=copyHistoryArray(e.done.slice(0),null,!0),t.undone=copyHistoryArray(e.undone.slice(0),null,!0)},addLineClass:docMethodOp(function(e,t,r){return changeLine(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(classTest(r).test(e[n]))return!1;e[n]+=" "+r}else e[n]=r;return!0})}),removeLineClass:docMethodOp(function(e,t,r){return changeLine(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[n];if(!i)return!1;if(null==r)e[n]=null;else{var o=i.match(classTest(r));if(!o)return!1;var a=o.index+o[0].length;e[n]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0})}),addLineWidget:docMethodOp(function(e,t,r){return addLineWidget(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return markText(this,clipPos(this,e),clipPos(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=clipPos(this,e),markText(this,e,e,r,"bookmark")},findMarksAt:function(e){e=clipPos(this,e);var t=[],r=getLine(this,e.line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=clipPos(this,e),t=clipPos(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var l=0;l<a.length;l++){var s=a[l];null!=s.to&&i==e.line&&e.ch>=s.to||null==s.from&&i!=e.line||null!=s.from&&i==t.line&&s.from>=t.ch||r&&!r(s.marker)||n.push(s.marker.parent||s.marker)}++i}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+n;return o>e?(t=e,!0):(e-=o,void++r)}),clipPos(this,S(r,t))},indexFromPos:function(e){e=clipPos(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+r}),t},copy:function(e){var t=new ce(getLines(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new ce(getLines(this,t,r),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],copySharedMarkers(n,findSharedMarkers(this)),n},unlinkDoc:function(e){if(e instanceof CodeMirror&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var r=this.linked[t];if(r.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),detachSharedMarkers(findSharedMarkers(this));break}}if(e.history==this.history){var n=[e.id];linkedDocs(e,function(e){n.push(e.id)},!0),e.history=new History(null),e.history.done=copyHistoryArray(this.history.done,n),e.history.undone=copyHistoryArray(this.history.undone,n)}},iterLinkedDocs:function(e){linkedDocs(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Be(e)},lineSeparator:function(){return this.lineSep||"\n"}}),ce.prototype.eachLine=ce.prototype.iter;var fe="iter insert remove copy getEditor constructor".split(" ");for(var de in ce.prototype)ce.prototype.hasOwnProperty(de)&&indexOf(fe,de)<0&&(CodeMirror.prototype[de]=function(e){return function(){return e.apply(this.doc,arguments)}}(ce.prototype[de]));eventMixin(ce);var pe=CodeMirror.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},he=CodeMirror.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},ge=CodeMirror.e_stop=function(e){pe(e),he(e)},ve=CodeMirror.on=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={}),i=n[t]||(n[t]=[]);i.push(r)}},me=[],ye=CodeMirror.off=function(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else for(var n=getHandlers(e,t,!1),i=0;i<n.length;++i)if(n[i]==r){n.splice(i,1);break}},be=CodeMirror.signal=function(e,t){var r=getHandlers(e,t,!0);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)},xe=null,we=30,Ce=CodeMirror.Pass={toString:function(){return"CodeMirror.Pass"}},_e={scroll:!1},Se={origin:"*mouse"},ke={origin:"+move"};Delayed.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Le=CodeMirror.countColumn=function(e,t,r,n,i){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var o=n||0,a=i||0;;){var l=e.indexOf("	",o);if(0>l||l>=t)return a+(t-o);a+=l-o,a+=r-a%r,o=l+1}},Me=CodeMirror.findColumn=function(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("	",n);-1==o&&(o=e.length);var a=o-n;if(o==e.length||i+a>=t)return n+Math.min(a,t-i);if(i+=o-n,i+=r-i%r,n=o+1,i>=t)return n}},Oe=[""],Ie=function(e){e.select()};h?Ie=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:o&&(Ie=function(e){try{e.select()}catch(t){}});var Ae,Te=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,De=CodeMirror.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Te.test(e))},Re=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Ae=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(i){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var Pe=CodeMirror.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)};o&&11>a&&(activeElt=function(){try{return document.activeElement}catch(e){return document.body}});var Fe,Ee,Ne=CodeMirror.rmClass=function(e,t){var r=e.className,n=classTest(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}},je=CodeMirror.addClass=function(e,t){var r=e.className;classTest(t).test(r)||(e.className+=(r?" ":"")+t)},We=!1,He=function(){if(o&&9>a)return!1;var e=elt("div");return"draggable"in e||"dragDrop"in e}(),Be=CodeMirror.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;n>=t;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(r.push(o.slice(0,a)),t+=a+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},qe=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(r){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},ze=function(){var e=elt("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Ve=null,Ge=CodeMirror.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var e=0;10>e;e++)Ge[e+48]=Ge[e+96]=String(e);for(var e=65;90>=e;e++)Ge[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)Ge[e+111]=Ge[e+63235]="F"+e}();var Ke,Ue=function(){function charType(r){return 247>=r?e.charAt(r):r>=1424&&1524>=r?"R":r>=1536&&1773>=r?t.charAt(r-1536):r>=1774&&2220>=r?"r":r>=8192&&8203>=r?"w":8204==r?"b":"L"}function BidiSpan(e,t,r){this.level=e,this.from=t,this.to=r}var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,n=/[stwN]/,i=/[LRr]/,o=/[Lb1n]/,a=/[1n]/,l="L";return function(e){if(!r.test(e))return!1;for(var t,s=e.length,u=[],c=0;s>c;++c)u.push(t=charType(e.charCodeAt(c)));for(var c=0,f=l;s>c;++c){var t=u[c];"m"==t?u[c]=f:f=t}for(var c=0,d=l;s>c;++c){var t=u[c];"1"==t&&"r"==d?u[c]="n":i.test(t)&&(d=t,"r"==t&&(u[c]="R"))}for(var c=1,f=u[0];s-1>c;++c){var t=u[c];"+"==t&&"1"==f&&"1"==u[c+1]?u[c]="1":","!=t||f!=u[c+1]||"1"!=f&&"n"!=f||(u[c]=f),f=t}for(var c=0;s>c;++c){var t=u[c];if(","==t)u[c]="N";else if("%"==t){for(var p=c+1;s>p&&"%"==u[p];++p);for(var h=c&&"!"==u[c-1]||s>p&&"1"==u[p]?"1":"N",g=c;p>g;++g)u[g]=h;c=p-1}}for(var c=0,d=l;s>c;++c){var t=u[c];"L"==d&&"1"==t?u[c]="L":i.test(t)&&(d=t)}for(var c=0;s>c;++c)if(n.test(u[c])){for(var p=c+1;s>p&&n.test(u[p]);++p);for(var v="L"==(c?u[c-1]:l),m="L"==(s>p?u[p]:l),h=v||m?"L":"R",g=c;p>g;++g)u[g]=h;c=p-1}for(var y,b=[],c=0;s>c;)if(o.test(u[c])){var x=c;for(++c;s>c&&o.test(u[c]);++c);b.push(new BidiSpan(0,x,c))}else{var w=c,C=b.length;for(++c;s>c&&"L"!=u[c];++c);for(var g=w;c>g;)if(a.test(u[g])){g>w&&b.splice(C,0,new BidiSpan(1,w,g));var _=g;for(++g;c>g&&a.test(u[g]);++g);b.splice(C,0,new BidiSpan(2,_,g)),w=g}else++g;c>w&&b.splice(C,0,new BidiSpan(1,w,c))}return 1==b[0].level&&(y=e.match(/^\s+/))&&(b[0].from=y[0].length,b.unshift(new BidiSpan(0,0,y[0].length))),1==lst(b).level&&(y=e.match(/\s+$/))&&(lst(b).to-=y[0].length,b.push(new BidiSpan(0,s-y[0].length,s))),2==b[0].level&&b.unshift(new BidiSpan(1,b[0].to,b[0].to)),b[0].level!=lst(b).level&&b.push(new BidiSpan(b[0].level,s,s)),b}}();return CodeMirror.version="5.16.0",CodeMirror})},function(e,t){},,function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CodeMirrorEditor=void 0;var n=r(117),i=_interopRequireDefault(n),o=r(2),a=_interopRequireDefault(o),l=r(91),s=_interopRequireDefault(l),u=r(28),c=_interopRequireDefault(u),f=r(86),d=_interopRequireDefault(f),p=r(29),h=_interopRequireDefault(p),g=r(156),v=_interopRequireDefault(g),m=r(76),y=_interopRequireDefault(m),b=r(84);r(173);var x=r(180),w=_interopRequireDefault(x);r(190);var C=r(179);_interopRequireDefault(C),t.CodeMirrorEditor=function(e){function CodeMirrorEditor(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.value,r=void 0===t?"":t,n=(0,s["default"])(e,["value"]);(0,c["default"])(this,CodeMirrorEditor);var o=(0,h["default"])(this,(0,a["default"])(CodeMirrorEditor).call(this,(0,i["default"])({},n)));return o.editor=new w["default"](o.element,{value:r,mode:"javascript",theme:"elegant"}),o.value=r,o}return(0,y["default"])(CodeMirrorEditor,e),(0,d["default"])(CodeMirrorEditor,[{key:"setValue",value:function(e){var t=this;(0,v["default"])((0,a["default"])(CodeMirrorEditor.prototype),"setValue",this).call(this,e),setTimeout(function(){return t.editor.refresh()},1)}},{key:"getValue",value:function(){return this.editor.getValue()}}]),CodeMirrorEditor}(b.Input)},,,,,,,function(e,t){}]);
//# sourceMappingURL=f3-demo.min.js.map